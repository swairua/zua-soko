import{a as Wa,b as Ba,c as le,r as k,g as Ka}from"./vendor-9bZoipD1.js";import{u as Se,L as B,a as Ft,b as Ga,B as za,R as Qa,c as Y,N as ke}from"./router-BAAhKjlc.js";import{S as Ge,L as zs,X as Me,M as Mt,H as Ot,a as Tt,C as Ja,U as De,b as jr,B as js,T as re,K as Xa,c as Ya,d as Za,e as Ye,f as cs,g as Ae,h as Vs,i as It,F as en,E as _e,j as Ps,k as $e,V as R,A as mr,l as rn,m as ce,P as rr,n as ws,o as ms,p as Vr,q as ks,r as Ie,s as K,W as rs,t as Ut,u as qe,v as ie,w as Tr,D as He,x as Le,y as dr,z as sn,G as tn,I as Ze,J as an,N as nn,O as Lt,Q as on,R as Pr,Y as ds,Z as ln,_ as cn,$ as Qs,a0 as mn,a1 as us,a2 as dn,a3 as un,a4 as Js,a5 as pn,a6 as fn,a7 as Nn}from"./ui-zJ8UOy7f.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&a(o)}).observe(document,{childList:!0,subtree:!0});function t(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(n){if(n.ep)return;n.ep=!0;const i=t(n);fetch(n.href,i)}})();var _t={exports:{}},Cs={};/**
 * @license React
 * react-jsx-dev-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gn=Symbol.for("react.fragment");Cs.Fragment=gn;Cs.jsxDEV=void 0;_t.exports=Cs;var e=_t.exports,ps={},Xs=Wa;ps.createRoot=Xs.createRoot,ps.hydrateRoot=Xs.hydrateRoot;function fs(r,s){return fs=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,a){return t.__proto__=a,t},fs(r,s)}function Ir(r,s){r.prototype=Object.create(s.prototype),r.prototype.constructor=r,fs(r,s)}var Ur=function(){function r(){this.listeners=[]}var s=r.prototype;return s.subscribe=function(a){var n=this,i=a||function(){};return this.listeners.push(i),this.onSubscribe(),function(){n.listeners=n.listeners.filter(function(o){return o!==i}),n.onUnsubscribe()}},s.hasListeners=function(){return this.listeners.length>0},s.onSubscribe=function(){},s.onUnsubscribe=function(){},r}();function Q(){return Q=Object.assign?Object.assign.bind():function(r){for(var s=1;s<arguments.length;s++){var t=arguments[s];for(var a in t)({}).hasOwnProperty.call(t,a)&&(r[a]=t[a])}return r},Q.apply(null,arguments)}var qt=typeof window>"u";function pe(){}function hn(r,s){return typeof r=="function"?r(s):r}function bn(r){return typeof r=="number"&&r>=0&&r!==1/0}function wr(r){return Array.isArray(r)?r:[r]}function xn(r,s){return Math.max(r+(s||0)-Date.now(),0)}function ss(r,s,t){return Lr(r)?typeof s=="function"?Q({},t,{queryKey:r,queryFn:s}):Q({},s,{queryKey:r}):r}function Te(r,s,t){return Lr(r)?[Q({},s,{queryKey:r}),t]:[r||{},s]}function vn(r,s){if(r===!0&&s===!0||r==null&&s==null)return"all";if(r===!1&&s===!1)return"none";var t=r??!s;return t?"active":"inactive"}function Ys(r,s){var t=r.active,a=r.exact,n=r.fetching,i=r.inactive,o=r.predicate,l=r.queryKey,u=r.stale;if(Lr(l)){if(a){if(s.queryHash!==As(l,s.options))return!1}else if(!kr(s.queryKey,l))return!1}var c=vn(t,i);if(c==="none")return!1;if(c!=="all"){var d=s.isActive();if(c==="active"&&!d||c==="inactive"&&d)return!1}return!(typeof u=="boolean"&&s.isStale()!==u||typeof n=="boolean"&&s.isFetching()!==n||o&&!o(s))}function Zs(r,s){var t=r.exact,a=r.fetching,n=r.predicate,i=r.mutationKey;if(Lr(i)){if(!s.options.mutationKey)return!1;if(t){if(We(s.options.mutationKey)!==We(i))return!1}else if(!kr(s.options.mutationKey,i))return!1}return!(typeof a=="boolean"&&s.state.status==="loading"!==a||n&&!n(s))}function As(r,s){var t=s?.queryKeyHashFn||We;return t(r)}function We(r){var s=wr(r);return yn(s)}function yn(r){return JSON.stringify(r,function(s,t){return Ns(t)?Object.keys(t).sort().reduce(function(a,n){return a[n]=t[n],a},{}):t})}function kr(r,s){return Ht(wr(r),wr(s))}function Ht(r,s){return r===s?!0:typeof r!=typeof s?!1:r&&s&&typeof r=="object"&&typeof s=="object"?!Object.keys(s).some(function(t){return!Ht(r[t],s[t])}):!1}function $t(r,s){if(r===s)return r;var t=Array.isArray(r)&&Array.isArray(s);if(t||Ns(r)&&Ns(s)){for(var a=t?r.length:Object.keys(r).length,n=t?s:Object.keys(s),i=n.length,o=t?[]:{},l=0,u=0;u<i;u++){var c=t?u:n[u];o[c]=$t(r[c],s[c]),o[c]===r[c]&&l++}return a===i&&l===a?r:o}return s}function Ns(r){if(!et(r))return!1;var s=r.constructor;if(typeof s>"u")return!0;var t=s.prototype;return!(!et(t)||!t.hasOwnProperty("isPrototypeOf"))}function et(r){return Object.prototype.toString.call(r)==="[object Object]"}function Lr(r){return typeof r=="string"||Array.isArray(r)}function Dn(r){return new Promise(function(s){setTimeout(s,r)})}function rt(r){Promise.resolve().then(r).catch(function(s){return setTimeout(function(){throw s})})}function Wt(){if(typeof AbortController=="function")return new AbortController}var En=function(r){Ir(s,r);function s(){var a;return a=r.call(this)||this,a.setup=function(n){var i;if(!qt&&((i=window)!=null&&i.addEventListener)){var o=function(){return n()};return window.addEventListener("visibilitychange",o,!1),window.addEventListener("focus",o,!1),function(){window.removeEventListener("visibilitychange",o),window.removeEventListener("focus",o)}}},a}var t=s.prototype;return t.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},t.onUnsubscribe=function(){if(!this.hasListeners()){var n;(n=this.cleanup)==null||n.call(this),this.cleanup=void 0}},t.setEventListener=function(n){var i,o=this;this.setup=n,(i=this.cleanup)==null||i.call(this),this.cleanup=n(function(l){typeof l=="boolean"?o.setFocused(l):o.onFocus()})},t.setFocused=function(n){this.focused=n,n&&this.onFocus()},t.onFocus=function(){this.listeners.forEach(function(n){n()})},t.isFocused=function(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)},s}(Ur),br=new En,jn=function(r){Ir(s,r);function s(){var a;return a=r.call(this)||this,a.setup=function(n){var i;if(!qt&&((i=window)!=null&&i.addEventListener)){var o=function(){return n()};return window.addEventListener("online",o,!1),window.addEventListener("offline",o,!1),function(){window.removeEventListener("online",o),window.removeEventListener("offline",o)}}},a}var t=s.prototype;return t.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},t.onUnsubscribe=function(){if(!this.hasListeners()){var n;(n=this.cleanup)==null||n.call(this),this.cleanup=void 0}},t.setEventListener=function(n){var i,o=this;this.setup=n,(i=this.cleanup)==null||i.call(this),this.cleanup=n(function(l){typeof l=="boolean"?o.setOnline(l):o.onOnline()})},t.setOnline=function(n){this.online=n,n&&this.onOnline()},t.onOnline=function(){this.listeners.forEach(function(n){n()})},t.isOnline=function(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine},s}(Ur),xr=new jn;function Vn(r){return Math.min(1e3*Math.pow(2,r),3e4)}function Cr(r){return typeof r?.cancel=="function"}var Bt=function(s){this.revert=s?.revert,this.silent=s?.silent};function ts(r){return r instanceof Bt}var Kt=function(s){var t=this,a=!1,n,i,o,l;this.abort=s.abort,this.cancel=function(p){return n?.(p)},this.cancelRetry=function(){a=!0},this.continueRetry=function(){a=!1},this.continue=function(){return i?.()},this.failureCount=0,this.isPaused=!1,this.isResolved=!1,this.isTransportCancelable=!1,this.promise=new Promise(function(p,b){o=p,l=b});var u=function(b){t.isResolved||(t.isResolved=!0,s.onSuccess==null||s.onSuccess(b),i?.(),o(b))},c=function(b){t.isResolved||(t.isResolved=!0,s.onError==null||s.onError(b),i?.(),l(b))},d=function(){return new Promise(function(b){i=b,t.isPaused=!0,s.onPause==null||s.onPause()}).then(function(){i=void 0,t.isPaused=!1,s.onContinue==null||s.onContinue()})},m=function p(){if(!t.isResolved){var b;try{b=s.fn()}catch(N){b=Promise.reject(N)}n=function(v){if(!t.isResolved&&(c(new Bt(v)),t.abort==null||t.abort(),Cr(b)))try{b.cancel()}catch{}},t.isTransportCancelable=Cr(b),Promise.resolve(b).then(u).catch(function(N){var v,y;if(!t.isResolved){var h=(v=s.retry)!=null?v:3,x=(y=s.retryDelay)!=null?y:Vn,M=typeof x=="function"?x(t.failureCount,N):x,V=h===!0||typeof h=="number"&&t.failureCount<h||typeof h=="function"&&h(t.failureCount,N);if(a||!V){c(N);return}t.failureCount++,s.onFail==null||s.onFail(t.failureCount,N),Dn(M).then(function(){if(!br.isFocused()||!xr.isOnline())return d()}).then(function(){a?c(N):p()})}})}};m()},Pn=function(){function r(){this.queue=[],this.transactions=0,this.notifyFn=function(t){t()},this.batchNotifyFn=function(t){t()}}var s=r.prototype;return s.batch=function(a){var n;this.transactions++;try{n=a()}finally{this.transactions--,this.transactions||this.flush()}return n},s.schedule=function(a){var n=this;this.transactions?this.queue.push(a):rt(function(){n.notifyFn(a)})},s.batchCalls=function(a){var n=this;return function(){for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];n.schedule(function(){a.apply(void 0,o)})}},s.flush=function(){var a=this,n=this.queue;this.queue=[],n.length&&rt(function(){a.batchNotifyFn(function(){n.forEach(function(i){a.notifyFn(i)})})})},s.setNotifyFunction=function(a){this.notifyFn=a},s.setBatchNotifyFunction=function(a){this.batchNotifyFn=a},r}(),me=new Pn,Gt=console;function zt(){return Gt}function wn(r){Gt=r}var kn=function(){function r(t){this.abortSignalConsumed=!1,this.hadObservers=!1,this.defaultOptions=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.cache=t.cache,this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.initialState=t.state||this.getDefaultState(this.options),this.state=this.initialState,this.meta=t.meta,this.scheduleGc()}var s=r.prototype;return s.setOptions=function(a){var n;this.options=Q({},this.defaultOptions,a),this.meta=a?.meta,this.cacheTime=Math.max(this.cacheTime||0,(n=this.options.cacheTime)!=null?n:5*60*1e3)},s.setDefaultOptions=function(a){this.defaultOptions=a},s.scheduleGc=function(){var a=this;this.clearGcTimeout(),bn(this.cacheTime)&&(this.gcTimeout=setTimeout(function(){a.optionalRemove()},this.cacheTime))},s.clearGcTimeout=function(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)},s.optionalRemove=function(){this.observers.length||(this.state.isFetching?this.hadObservers&&this.scheduleGc():this.cache.remove(this))},s.setData=function(a,n){var i,o,l=this.state.data,u=hn(a,l);return(i=(o=this.options).isDataEqual)!=null&&i.call(o,l,u)?u=l:this.options.structuralSharing!==!1&&(u=$t(l,u)),this.dispatch({data:u,type:"success",dataUpdatedAt:n?.updatedAt}),u},s.setState=function(a,n){this.dispatch({type:"setState",state:a,setStateOptions:n})},s.cancel=function(a){var n,i=this.promise;return(n=this.retryer)==null||n.cancel(a),i?i.then(pe).catch(pe):Promise.resolve()},s.destroy=function(){this.clearGcTimeout(),this.cancel({silent:!0})},s.reset=function(){this.destroy(),this.setState(this.initialState)},s.isActive=function(){return this.observers.some(function(a){return a.options.enabled!==!1})},s.isFetching=function(){return this.state.isFetching},s.isStale=function(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(function(a){return a.getCurrentResult().isStale})},s.isStaleByTime=function(a){return a===void 0&&(a=0),this.state.isInvalidated||!this.state.dataUpdatedAt||!xn(this.state.dataUpdatedAt,a)},s.onFocus=function(){var a,n=this.observers.find(function(i){return i.shouldFetchOnWindowFocus()});n&&n.refetch(),(a=this.retryer)==null||a.continue()},s.onOnline=function(){var a,n=this.observers.find(function(i){return i.shouldFetchOnReconnect()});n&&n.refetch(),(a=this.retryer)==null||a.continue()},s.addObserver=function(a){this.observers.indexOf(a)===-1&&(this.observers.push(a),this.hadObservers=!0,this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:a}))},s.removeObserver=function(a){this.observers.indexOf(a)!==-1&&(this.observers=this.observers.filter(function(n){return n!==a}),this.observers.length||(this.retryer&&(this.retryer.isTransportCancelable||this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.cacheTime?this.scheduleGc():this.cache.remove(this)),this.cache.notify({type:"observerRemoved",query:this,observer:a}))},s.getObserversCount=function(){return this.observers.length},s.invalidate=function(){this.state.isInvalidated||this.dispatch({type:"invalidate"})},s.fetch=function(a,n){var i=this,o,l,u;if(this.state.isFetching){if(this.state.dataUpdatedAt&&n?.cancelRefetch)this.cancel({silent:!0});else if(this.promise){var c;return(c=this.retryer)==null||c.continueRetry(),this.promise}}if(a&&this.setOptions(a),!this.options.queryFn){var d=this.observers.find(function(x){return x.options.queryFn});d&&this.setOptions(d.options)}var m=wr(this.queryKey),p=Wt(),b={queryKey:m,pageParam:void 0,meta:this.meta};Object.defineProperty(b,"signal",{enumerable:!0,get:function(){if(p)return i.abortSignalConsumed=!0,p.signal}});var N=function(){return i.options.queryFn?(i.abortSignalConsumed=!1,i.options.queryFn(b)):Promise.reject("Missing queryFn")},v={fetchOptions:n,options:this.options,queryKey:m,state:this.state,fetchFn:N,meta:this.meta};if((o=this.options.behavior)!=null&&o.onFetch){var y;(y=this.options.behavior)==null||y.onFetch(v)}if(this.revertState=this.state,!this.state.isFetching||this.state.fetchMeta!==((l=v.fetchOptions)==null?void 0:l.meta)){var h;this.dispatch({type:"fetch",meta:(h=v.fetchOptions)==null?void 0:h.meta})}return this.retryer=new Kt({fn:v.fetchFn,abort:p==null||(u=p.abort)==null?void 0:u.bind(p),onSuccess:function(M){i.setData(M),i.cache.config.onSuccess==null||i.cache.config.onSuccess(M,i),i.cacheTime===0&&i.optionalRemove()},onError:function(M){ts(M)&&M.silent||i.dispatch({type:"error",error:M}),ts(M)||(i.cache.config.onError==null||i.cache.config.onError(M,i),zt().error(M)),i.cacheTime===0&&i.optionalRemove()},onFail:function(){i.dispatch({type:"failed"})},onPause:function(){i.dispatch({type:"pause"})},onContinue:function(){i.dispatch({type:"continue"})},retry:v.options.retry,retryDelay:v.options.retryDelay}),this.promise=this.retryer.promise,this.promise},s.dispatch=function(a){var n=this;this.state=this.reducer(this.state,a),me.batch(function(){n.observers.forEach(function(i){i.onQueryUpdate(a)}),n.cache.notify({query:n,type:"queryUpdated",action:a})})},s.getDefaultState=function(a){var n=typeof a.initialData=="function"?a.initialData():a.initialData,i=typeof a.initialData<"u",o=i?typeof a.initialDataUpdatedAt=="function"?a.initialDataUpdatedAt():a.initialDataUpdatedAt:0,l=typeof n<"u";return{data:n,dataUpdateCount:0,dataUpdatedAt:l?o??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchMeta:null,isFetching:!1,isInvalidated:!1,isPaused:!1,status:l?"success":"idle"}},s.reducer=function(a,n){var i,o;switch(n.type){case"failed":return Q({},a,{fetchFailureCount:a.fetchFailureCount+1});case"pause":return Q({},a,{isPaused:!0});case"continue":return Q({},a,{isPaused:!1});case"fetch":return Q({},a,{fetchFailureCount:0,fetchMeta:(i=n.meta)!=null?i:null,isFetching:!0,isPaused:!1},!a.dataUpdatedAt&&{error:null,status:"loading"});case"success":return Q({},a,{data:n.data,dataUpdateCount:a.dataUpdateCount+1,dataUpdatedAt:(o=n.dataUpdatedAt)!=null?o:Date.now(),error:null,fetchFailureCount:0,isFetching:!1,isInvalidated:!1,isPaused:!1,status:"success"});case"error":var l=n.error;return ts(l)&&l.revert&&this.revertState?Q({},this.revertState):Q({},a,{error:l,errorUpdateCount:a.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:a.fetchFailureCount+1,isFetching:!1,isPaused:!1,status:"error"});case"invalidate":return Q({},a,{isInvalidated:!0});case"setState":return Q({},a,n.state);default:return a}},r}(),Cn=function(r){Ir(s,r);function s(a){var n;return n=r.call(this)||this,n.config=a||{},n.queries=[],n.queriesMap={},n}var t=s.prototype;return t.build=function(n,i,o){var l,u=i.queryKey,c=(l=i.queryHash)!=null?l:As(u,i),d=this.get(c);return d||(d=new kn({cache:this,queryKey:u,queryHash:c,options:n.defaultQueryOptions(i),state:o,defaultOptions:n.getQueryDefaults(u),meta:i.meta}),this.add(d)),d},t.add=function(n){this.queriesMap[n.queryHash]||(this.queriesMap[n.queryHash]=n,this.queries.push(n),this.notify({type:"queryAdded",query:n}))},t.remove=function(n){var i=this.queriesMap[n.queryHash];i&&(n.destroy(),this.queries=this.queries.filter(function(o){return o!==n}),i===n&&delete this.queriesMap[n.queryHash],this.notify({type:"queryRemoved",query:n}))},t.clear=function(){var n=this;me.batch(function(){n.queries.forEach(function(i){n.remove(i)})})},t.get=function(n){return this.queriesMap[n]},t.getAll=function(){return this.queries},t.find=function(n,i){var o=Te(n,i),l=o[0];return typeof l.exact>"u"&&(l.exact=!0),this.queries.find(function(u){return Ys(l,u)})},t.findAll=function(n,i){var o=Te(n,i),l=o[0];return Object.keys(l).length>0?this.queries.filter(function(u){return Ys(l,u)}):this.queries},t.notify=function(n){var i=this;me.batch(function(){i.listeners.forEach(function(o){o(n)})})},t.onFocus=function(){var n=this;me.batch(function(){n.queries.forEach(function(i){i.onFocus()})})},t.onOnline=function(){var n=this;me.batch(function(){n.queries.forEach(function(i){i.onOnline()})})},s}(Ur),An=function(){function r(t){this.options=Q({},t.defaultOptions,t.options),this.mutationId=t.mutationId,this.mutationCache=t.mutationCache,this.observers=[],this.state=t.state||Sn(),this.meta=t.meta}var s=r.prototype;return s.setState=function(a){this.dispatch({type:"setState",state:a})},s.addObserver=function(a){this.observers.indexOf(a)===-1&&this.observers.push(a)},s.removeObserver=function(a){this.observers=this.observers.filter(function(n){return n!==a})},s.cancel=function(){return this.retryer?(this.retryer.cancel(),this.retryer.promise.then(pe).catch(pe)):Promise.resolve()},s.continue=function(){return this.retryer?(this.retryer.continue(),this.retryer.promise):this.execute()},s.execute=function(){var a=this,n,i=this.state.status==="loading",o=Promise.resolve();return i||(this.dispatch({type:"loading",variables:this.options.variables}),o=o.then(function(){a.mutationCache.config.onMutate==null||a.mutationCache.config.onMutate(a.state.variables,a)}).then(function(){return a.options.onMutate==null?void 0:a.options.onMutate(a.state.variables)}).then(function(l){l!==a.state.context&&a.dispatch({type:"loading",context:l,variables:a.state.variables})})),o.then(function(){return a.executeMutation()}).then(function(l){n=l,a.mutationCache.config.onSuccess==null||a.mutationCache.config.onSuccess(n,a.state.variables,a.state.context,a)}).then(function(){return a.options.onSuccess==null?void 0:a.options.onSuccess(n,a.state.variables,a.state.context)}).then(function(){return a.options.onSettled==null?void 0:a.options.onSettled(n,null,a.state.variables,a.state.context)}).then(function(){return a.dispatch({type:"success",data:n}),n}).catch(function(l){return a.mutationCache.config.onError==null||a.mutationCache.config.onError(l,a.state.variables,a.state.context,a),zt().error(l),Promise.resolve().then(function(){return a.options.onError==null?void 0:a.options.onError(l,a.state.variables,a.state.context)}).then(function(){return a.options.onSettled==null?void 0:a.options.onSettled(void 0,l,a.state.variables,a.state.context)}).then(function(){throw a.dispatch({type:"error",error:l}),l})})},s.executeMutation=function(){var a=this,n;return this.retryer=new Kt({fn:function(){return a.options.mutationFn?a.options.mutationFn(a.state.variables):Promise.reject("No mutationFn found")},onFail:function(){a.dispatch({type:"failed"})},onPause:function(){a.dispatch({type:"pause"})},onContinue:function(){a.dispatch({type:"continue"})},retry:(n=this.options.retry)!=null?n:0,retryDelay:this.options.retryDelay}),this.retryer.promise},s.dispatch=function(a){var n=this;this.state=Rn(this.state,a),me.batch(function(){n.observers.forEach(function(i){i.onMutationUpdate(a)}),n.mutationCache.notify(n)})},r}();function Sn(){return{context:void 0,data:void 0,error:null,failureCount:0,isPaused:!1,status:"idle",variables:void 0}}function Rn(r,s){switch(s.type){case"failed":return Q({},r,{failureCount:r.failureCount+1});case"pause":return Q({},r,{isPaused:!0});case"continue":return Q({},r,{isPaused:!1});case"loading":return Q({},r,{context:s.context,data:void 0,error:null,isPaused:!1,status:"loading",variables:s.variables});case"success":return Q({},r,{data:s.data,error:null,status:"success",isPaused:!1});case"error":return Q({},r,{data:void 0,error:s.error,failureCount:r.failureCount+1,isPaused:!1,status:"error"});case"setState":return Q({},r,s.state);default:return r}}var Fn=function(r){Ir(s,r);function s(a){var n;return n=r.call(this)||this,n.config=a||{},n.mutations=[],n.mutationId=0,n}var t=s.prototype;return t.build=function(n,i,o){var l=new An({mutationCache:this,mutationId:++this.mutationId,options:n.defaultMutationOptions(i),state:o,defaultOptions:i.mutationKey?n.getMutationDefaults(i.mutationKey):void 0,meta:i.meta});return this.add(l),l},t.add=function(n){this.mutations.push(n),this.notify(n)},t.remove=function(n){this.mutations=this.mutations.filter(function(i){return i!==n}),n.cancel(),this.notify(n)},t.clear=function(){var n=this;me.batch(function(){n.mutations.forEach(function(i){n.remove(i)})})},t.getAll=function(){return this.mutations},t.find=function(n){return typeof n.exact>"u"&&(n.exact=!0),this.mutations.find(function(i){return Zs(n,i)})},t.findAll=function(n){return this.mutations.filter(function(i){return Zs(n,i)})},t.notify=function(n){var i=this;me.batch(function(){i.listeners.forEach(function(o){o(n)})})},t.onFocus=function(){this.resumePausedMutations()},t.onOnline=function(){this.resumePausedMutations()},t.resumePausedMutations=function(){var n=this.mutations.filter(function(i){return i.state.isPaused});return me.batch(function(){return n.reduce(function(i,o){return i.then(function(){return o.continue().catch(pe)})},Promise.resolve())})},s}(Ur);function Mn(){return{onFetch:function(s){s.fetchFn=function(){var t,a,n,i,o,l,u=(t=s.fetchOptions)==null||(a=t.meta)==null?void 0:a.refetchPage,c=(n=s.fetchOptions)==null||(i=n.meta)==null?void 0:i.fetchMore,d=c?.pageParam,m=c?.direction==="forward",p=c?.direction==="backward",b=((o=s.state.data)==null?void 0:o.pages)||[],N=((l=s.state.data)==null?void 0:l.pageParams)||[],v=Wt(),y=v?.signal,h=N,x=!1,M=s.options.queryFn||function(){return Promise.reject("Missing queryFn")},V=function(W,G,J,de){return h=de?[G].concat(h):[].concat(h,[G]),de?[J].concat(W):[].concat(W,[J])},C=function(W,G,J,de){if(x)return Promise.reject("Cancelled");if(typeof J>"u"&&!G&&W.length)return Promise.resolve(W);var Ne={queryKey:s.queryKey,signal:y,pageParam:J,meta:s.meta},ge=M(Ne),Re=Promise.resolve(ge).then(function(Qr){return V(W,J,Qr,de)});if(Cr(ge)){var Je=Re;Je.cancel=ge.cancel}return Re},P;if(!b.length)P=C([]);else if(m){var A=typeof d<"u",S=A?d:st(s.options,b);P=C(b,A,S)}else if(p){var E=typeof d<"u",g=E?d:On(s.options,b);P=C(b,E,g,!0)}else(function(){h=[];var L=typeof s.options.getNextPageParam>"u",W=u&&b[0]?u(b[0],0,b):!0;P=W?C([],L,N[0]):Promise.resolve(V([],N[0],b[0]));for(var G=function(Ne){P=P.then(function(ge){var Re=u&&b[Ne]?u(b[Ne],Ne,b):!0;if(Re){var Je=L?N[Ne]:st(s.options,ge);return C(ge,L,Je)}return Promise.resolve(V(ge,N[Ne],b[Ne]))})},J=1;J<b.length;J++)G(J)})();var I=P.then(function(L){return{pages:L,pageParams:h}}),q=I;return q.cancel=function(){x=!0,v?.abort(),Cr(P)&&P.cancel()},I}}}}function st(r,s){return r.getNextPageParam==null?void 0:r.getNextPageParam(s[s.length-1],s)}function On(r,s){return r.getPreviousPageParam==null?void 0:r.getPreviousPageParam(s[0],s)}var Tn=function(){function r(t){t===void 0&&(t={}),this.queryCache=t.queryCache||new Cn,this.mutationCache=t.mutationCache||new Fn,this.defaultOptions=t.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[]}var s=r.prototype;return s.mount=function(){var a=this;this.unsubscribeFocus=br.subscribe(function(){br.isFocused()&&xr.isOnline()&&(a.mutationCache.onFocus(),a.queryCache.onFocus())}),this.unsubscribeOnline=xr.subscribe(function(){br.isFocused()&&xr.isOnline()&&(a.mutationCache.onOnline(),a.queryCache.onOnline())})},s.unmount=function(){var a,n;(a=this.unsubscribeFocus)==null||a.call(this),(n=this.unsubscribeOnline)==null||n.call(this)},s.isFetching=function(a,n){var i=Te(a,n),o=i[0];return o.fetching=!0,this.queryCache.findAll(o).length},s.isMutating=function(a){return this.mutationCache.findAll(Q({},a,{fetching:!0})).length},s.getQueryData=function(a,n){var i;return(i=this.queryCache.find(a,n))==null?void 0:i.state.data},s.getQueriesData=function(a){return this.getQueryCache().findAll(a).map(function(n){var i=n.queryKey,o=n.state,l=o.data;return[i,l]})},s.setQueryData=function(a,n,i){var o=ss(a),l=this.defaultQueryOptions(o);return this.queryCache.build(this,l).setData(n,i)},s.setQueriesData=function(a,n,i){var o=this;return me.batch(function(){return o.getQueryCache().findAll(a).map(function(l){var u=l.queryKey;return[u,o.setQueryData(u,n,i)]})})},s.getQueryState=function(a,n){var i;return(i=this.queryCache.find(a,n))==null?void 0:i.state},s.removeQueries=function(a,n){var i=Te(a,n),o=i[0],l=this.queryCache;me.batch(function(){l.findAll(o).forEach(function(u){l.remove(u)})})},s.resetQueries=function(a,n,i){var o=this,l=Te(a,n,i),u=l[0],c=l[1],d=this.queryCache,m=Q({},u,{active:!0});return me.batch(function(){return d.findAll(u).forEach(function(p){p.reset()}),o.refetchQueries(m,c)})},s.cancelQueries=function(a,n,i){var o=this,l=Te(a,n,i),u=l[0],c=l[1],d=c===void 0?{}:c;typeof d.revert>"u"&&(d.revert=!0);var m=me.batch(function(){return o.queryCache.findAll(u).map(function(p){return p.cancel(d)})});return Promise.all(m).then(pe).catch(pe)},s.invalidateQueries=function(a,n,i){var o,l,u,c=this,d=Te(a,n,i),m=d[0],p=d[1],b=Q({},m,{active:(o=(l=m.refetchActive)!=null?l:m.active)!=null?o:!0,inactive:(u=m.refetchInactive)!=null?u:!1});return me.batch(function(){return c.queryCache.findAll(m).forEach(function(N){N.invalidate()}),c.refetchQueries(b,p)})},s.refetchQueries=function(a,n,i){var o=this,l=Te(a,n,i),u=l[0],c=l[1],d=me.batch(function(){return o.queryCache.findAll(u).map(function(p){return p.fetch(void 0,Q({},c,{meta:{refetchPage:u?.refetchPage}}))})}),m=Promise.all(d).then(pe);return c?.throwOnError||(m=m.catch(pe)),m},s.fetchQuery=function(a,n,i){var o=ss(a,n,i),l=this.defaultQueryOptions(o);typeof l.retry>"u"&&(l.retry=!1);var u=this.queryCache.build(this,l);return u.isStaleByTime(l.staleTime)?u.fetch(l):Promise.resolve(u.state.data)},s.prefetchQuery=function(a,n,i){return this.fetchQuery(a,n,i).then(pe).catch(pe)},s.fetchInfiniteQuery=function(a,n,i){var o=ss(a,n,i);return o.behavior=Mn(),this.fetchQuery(o)},s.prefetchInfiniteQuery=function(a,n,i){return this.fetchInfiniteQuery(a,n,i).then(pe).catch(pe)},s.cancelMutations=function(){var a=this,n=me.batch(function(){return a.mutationCache.getAll().map(function(i){return i.cancel()})});return Promise.all(n).then(pe).catch(pe)},s.resumePausedMutations=function(){return this.getMutationCache().resumePausedMutations()},s.executeMutation=function(a){return this.mutationCache.build(this,a).execute()},s.getQueryCache=function(){return this.queryCache},s.getMutationCache=function(){return this.mutationCache},s.getDefaultOptions=function(){return this.defaultOptions},s.setDefaultOptions=function(a){this.defaultOptions=a},s.setQueryDefaults=function(a,n){var i=this.queryDefaults.find(function(o){return We(a)===We(o.queryKey)});i?i.defaultOptions=n:this.queryDefaults.push({queryKey:a,defaultOptions:n})},s.getQueryDefaults=function(a){var n;return a?(n=this.queryDefaults.find(function(i){return kr(a,i.queryKey)}))==null?void 0:n.defaultOptions:void 0},s.setMutationDefaults=function(a,n){var i=this.mutationDefaults.find(function(o){return We(a)===We(o.mutationKey)});i?i.defaultOptions=n:this.mutationDefaults.push({mutationKey:a,defaultOptions:n})},s.getMutationDefaults=function(a){var n;return a?(n=this.mutationDefaults.find(function(i){return kr(a,i.mutationKey)}))==null?void 0:n.defaultOptions:void 0},s.defaultQueryOptions=function(a){if(a?._defaulted)return a;var n=Q({},this.defaultOptions.queries,this.getQueryDefaults(a?.queryKey),a,{_defaulted:!0});return!n.queryHash&&n.queryKey&&(n.queryHash=As(n.queryKey,n)),n},s.defaultQueryObserverOptions=function(a){return this.defaultQueryOptions(a)},s.defaultMutationOptions=function(a){return a?._defaulted?a:Q({},this.defaultOptions.mutations,this.getMutationDefaults(a?.mutationKey),a,{_defaulted:!0})},s.clear=function(){this.queryCache.clear(),this.mutationCache.clear()},r}(),In=Ba.unstable_batchedUpdates;me.setBatchNotifyFunction(In);var Un=console;wn(Un);var tt=le.createContext(void 0),Ln=le.createContext(!1);function _n(r){return r&&typeof window<"u"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=tt),window.ReactQueryClientContext):tt}var qn=function(s){var t=s.client,a=s.contextSharing,n=a===void 0?!1:a,i=s.children;le.useEffect(function(){return t.mount(),function(){t.unmount()}},[t]);var o=_n(n);return le.createElement(Ln.Provider,{value:n},le.createElement(o.Provider,{value:t},i))};const Hn={},at=r=>{let s;const t=new Set,a=(d,m)=>{const p=typeof d=="function"?d(s):d;if(!Object.is(p,s)){const b=s;s=m??(typeof p!="object"||p===null)?p:Object.assign({},s,p),t.forEach(N=>N(s,b))}},n=()=>s,u={setState:a,getState:n,getInitialState:()=>c,subscribe:d=>(t.add(d),()=>t.delete(d)),destroy:()=>{(Hn?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),t.clear()}},c=s=r(a,n,u);return u},$n=r=>r?at(r):at;var Qt={exports:{}},Jt={},Xt={exports:{}},Yt={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var er=k;function Wn(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var Bn=typeof Object.is=="function"?Object.is:Wn,Kn=er.useState,Gn=er.useEffect,zn=er.useLayoutEffect,Qn=er.useDebugValue;function Jn(r,s){var t=s(),a=Kn({inst:{value:t,getSnapshot:s}}),n=a[0].inst,i=a[1];return zn(function(){n.value=t,n.getSnapshot=s,as(n)&&i({inst:n})},[r,t,s]),Gn(function(){return as(n)&&i({inst:n}),r(function(){as(n)&&i({inst:n})})},[r]),Qn(t),t}function as(r){var s=r.getSnapshot;r=r.value;try{var t=s();return!Bn(r,t)}catch{return!0}}function Xn(r,s){return s()}var Yn=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Xn:Jn;Yt.useSyncExternalStore=er.useSyncExternalStore!==void 0?er.useSyncExternalStore:Yn;Xt.exports=Yt;var Zn=Xt.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _r=k,ei=Zn;function ri(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var si=typeof Object.is=="function"?Object.is:ri,ti=ei.useSyncExternalStore,ai=_r.useRef,ni=_r.useEffect,ii=_r.useMemo,oi=_r.useDebugValue;Jt.useSyncExternalStoreWithSelector=function(r,s,t,a,n){var i=ai(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=ii(function(){function u(b){if(!c){if(c=!0,d=b,b=a(b),n!==void 0&&o.hasValue){var N=o.value;if(n(N,b))return m=N}return m=b}if(N=m,si(d,b))return N;var v=a(b);return n!==void 0&&n(N,v)?(d=b,N):(d=b,m=v)}var c=!1,d,m,p=t===void 0?null:t;return[function(){return u(s())},p===null?void 0:function(){return u(p())}]},[s,t,a,n]);var l=ti(r,i[0],i[1]);return ni(function(){o.hasValue=!0,o.value=l},[l]),oi(l),l};Qt.exports=Jt;var li=Qt.exports;const ci=Ka(li),Zt={},{useDebugValue:mi}=le,{useSyncExternalStoreWithSelector:di}=ci;let nt=!1;const ui=r=>r;function pi(r,s=ui,t){(Zt?"production":void 0)!=="production"&&t&&!nt&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),nt=!0);const a=di(r.subscribe,r.getState,r.getServerState||r.getInitialState,s,t);return mi(a),a}const fi=r=>{(Zt?"production":void 0)!=="production"&&typeof r!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const s=typeof r=="function"?$n(r):r,t=(a,n)=>pi(s,a,n);return Object.assign(t,s),t},ea=r=>fi,Ni={};function gi(r,s){let t;try{t=r()}catch{return}return{getItem:n=>{var i;const o=u=>u===null?null:JSON.parse(u,void 0),l=(i=t.getItem(n))!=null?i:null;return l instanceof Promise?l.then(o):o(l)},setItem:(n,i)=>t.setItem(n,JSON.stringify(i,void 0)),removeItem:n=>t.removeItem(n)}}const ur=r=>s=>{try{const t=r(s);return t instanceof Promise?t:{then(a){return ur(a)(t)},catch(a){return this}}}catch(t){return{then(a){return this},catch(a){return ur(a)(t)}}}},hi=(r,s)=>(t,a,n)=>{let i={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:y=>y,version:0,merge:(y,h)=>({...h,...y}),...s},o=!1;const l=new Set,u=new Set;let c;try{c=i.getStorage()}catch{}if(!c)return r((...y)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),t(...y)},a,n);const d=ur(i.serialize),m=()=>{const y=i.partialize({...a()});let h;const x=d({state:y,version:i.version}).then(M=>c.setItem(i.name,M)).catch(M=>{h=M});if(h)throw h;return x},p=n.setState;n.setState=(y,h)=>{p(y,h),m()};const b=r((...y)=>{t(...y),m()},a,n);let N;const v=()=>{var y;if(!c)return;o=!1,l.forEach(x=>x(a()));const h=((y=i.onRehydrateStorage)==null?void 0:y.call(i,a()))||void 0;return ur(c.getItem.bind(c))(i.name).then(x=>{if(x)return i.deserialize(x)}).then(x=>{if(x)if(typeof x.version=="number"&&x.version!==i.version){if(i.migrate)return i.migrate(x.state,x.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return x.state}).then(x=>{var M;return N=i.merge(x,(M=a())!=null?M:b),t(N,!0),m()}).then(()=>{h?.(N,void 0),o=!0,u.forEach(x=>x(N))}).catch(x=>{h?.(void 0,x)})};return n.persist={setOptions:y=>{i={...i,...y},y.getStorage&&(c=y.getStorage())},clearStorage:()=>{c?.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>v(),hasHydrated:()=>o,onHydrate:y=>(l.add(y),()=>{l.delete(y)}),onFinishHydration:y=>(u.add(y),()=>{u.delete(y)})},v(),N||b},bi=(r,s)=>(t,a,n)=>{let i={storage:gi(()=>localStorage),partialize:v=>v,version:0,merge:(v,y)=>({...y,...v}),...s},o=!1;const l=new Set,u=new Set;let c=i.storage;if(!c)return r((...v)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),t(...v)},a,n);const d=()=>{const v=i.partialize({...a()});return c.setItem(i.name,{state:v,version:i.version})},m=n.setState;n.setState=(v,y)=>{m(v,y),d()};const p=r((...v)=>{t(...v),d()},a,n);n.getInitialState=()=>p;let b;const N=()=>{var v,y;if(!c)return;o=!1,l.forEach(x=>{var M;return x((M=a())!=null?M:p)});const h=((y=i.onRehydrateStorage)==null?void 0:y.call(i,(v=a())!=null?v:p))||void 0;return ur(c.getItem.bind(c))(i.name).then(x=>{if(x)if(typeof x.version=="number"&&x.version!==i.version){if(i.migrate)return[!0,i.migrate(x.state,x.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,x.state];return[!1,void 0]}).then(x=>{var M;const[V,C]=x;if(b=i.merge(C,(M=a())!=null?M:p),t(b,!0),V)return d()}).then(()=>{h?.(b,void 0),b=a(),o=!0,u.forEach(x=>x(b))}).catch(x=>{h?.(void 0,x)})};return n.persist={setOptions:v=>{i={...i,...v},v.storage&&(c=v.storage)},clearStorage:()=>{c?.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>N(),hasHydrated:()=>o,onHydrate:v=>(l.add(v),()=>{l.delete(v)}),onFinishHydration:v=>(u.add(v),()=>{u.delete(v)})},i.skipHydration||N(),b||p},xi=(r,s)=>"getStorage"in s||"serialize"in s||"deserialize"in s?((Ni?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),hi(r,s)):bi(r,s),ra=xi;function sa(r,s){return function(){return r.apply(s,arguments)}}const{toString:vi}=Object.prototype,{getPrototypeOf:Ss}=Object,{iterator:qr,toStringTag:ta}=Symbol,Hr=(r=>s=>{const t=vi.call(s);return r[t]||(r[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),Ve=r=>(r=r.toLowerCase(),s=>Hr(s)===r),$r=r=>s=>typeof s===r,{isArray:sr}=Array,pr=$r("undefined");function yi(r){return r!==null&&!pr(r)&&r.constructor!==null&&!pr(r.constructor)&&be(r.constructor.isBuffer)&&r.constructor.isBuffer(r)}const aa=Ve("ArrayBuffer");function Di(r){let s;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?s=ArrayBuffer.isView(r):s=r&&r.buffer&&aa(r.buffer),s}const Ei=$r("string"),be=$r("function"),na=$r("number"),Wr=r=>r!==null&&typeof r=="object",ji=r=>r===!0||r===!1,vr=r=>{if(Hr(r)!=="object")return!1;const s=Ss(r);return(s===null||s===Object.prototype||Object.getPrototypeOf(s)===null)&&!(ta in r)&&!(qr in r)},Vi=Ve("Date"),Pi=Ve("File"),wi=Ve("Blob"),ki=Ve("FileList"),Ci=r=>Wr(r)&&be(r.pipe),Ai=r=>{let s;return r&&(typeof FormData=="function"&&r instanceof FormData||be(r.append)&&((s=Hr(r))==="formdata"||s==="object"&&be(r.toString)&&r.toString()==="[object FormData]"))},Si=Ve("URLSearchParams"),[Ri,Fi,Mi,Oi]=["ReadableStream","Request","Response","Headers"].map(Ve),Ti=r=>r.trim?r.trim():r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function fr(r,s,{allOwnKeys:t=!1}={}){if(r===null||typeof r>"u")return;let a,n;if(typeof r!="object"&&(r=[r]),sr(r))for(a=0,n=r.length;a<n;a++)s.call(null,r[a],a,r);else{const i=t?Object.getOwnPropertyNames(r):Object.keys(r),o=i.length;let l;for(a=0;a<o;a++)l=i[a],s.call(null,r[l],l,r)}}function ia(r,s){s=s.toLowerCase();const t=Object.keys(r);let a=t.length,n;for(;a-- >0;)if(n=t[a],s===n.toLowerCase())return n;return null}const Be=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,oa=r=>!pr(r)&&r!==Be;function gs(){const{caseless:r}=oa(this)&&this||{},s={},t=(a,n)=>{const i=r&&ia(s,n)||n;vr(s[i])&&vr(a)?s[i]=gs(s[i],a):vr(a)?s[i]=gs({},a):sr(a)?s[i]=a.slice():s[i]=a};for(let a=0,n=arguments.length;a<n;a++)arguments[a]&&fr(arguments[a],t);return s}const Ii=(r,s,t,{allOwnKeys:a}={})=>(fr(s,(n,i)=>{t&&be(n)?r[i]=sa(n,t):r[i]=n},{allOwnKeys:a}),r),Ui=r=>(r.charCodeAt(0)===65279&&(r=r.slice(1)),r),Li=(r,s,t,a)=>{r.prototype=Object.create(s.prototype,a),r.prototype.constructor=r,Object.defineProperty(r,"super",{value:s.prototype}),t&&Object.assign(r.prototype,t)},_i=(r,s,t,a)=>{let n,i,o;const l={};if(s=s||{},r==null)return s;do{for(n=Object.getOwnPropertyNames(r),i=n.length;i-- >0;)o=n[i],(!a||a(o,r,s))&&!l[o]&&(s[o]=r[o],l[o]=!0);r=t!==!1&&Ss(r)}while(r&&(!t||t(r,s))&&r!==Object.prototype);return s},qi=(r,s,t)=>{r=String(r),(t===void 0||t>r.length)&&(t=r.length),t-=s.length;const a=r.indexOf(s,t);return a!==-1&&a===t},Hi=r=>{if(!r)return null;if(sr(r))return r;let s=r.length;if(!na(s))return null;const t=new Array(s);for(;s-- >0;)t[s]=r[s];return t},$i=(r=>s=>r&&s instanceof r)(typeof Uint8Array<"u"&&Ss(Uint8Array)),Wi=(r,s)=>{const a=(r&&r[qr]).call(r);let n;for(;(n=a.next())&&!n.done;){const i=n.value;s.call(r,i[0],i[1])}},Bi=(r,s)=>{let t;const a=[];for(;(t=r.exec(s))!==null;)a.push(t);return a},Ki=Ve("HTMLFormElement"),Gi=r=>r.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,a,n){return a.toUpperCase()+n}),it=(({hasOwnProperty:r})=>(s,t)=>r.call(s,t))(Object.prototype),zi=Ve("RegExp"),la=(r,s)=>{const t=Object.getOwnPropertyDescriptors(r),a={};fr(t,(n,i)=>{let o;(o=s(n,i,r))!==!1&&(a[i]=o||n)}),Object.defineProperties(r,a)},Qi=r=>{la(r,(s,t)=>{if(be(r)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const a=r[t];if(be(a)){if(s.enumerable=!1,"writable"in s){s.writable=!1;return}s.set||(s.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},Ji=(r,s)=>{const t={},a=n=>{n.forEach(i=>{t[i]=!0})};return sr(r)?a(r):a(String(r).split(s)),t},Xi=()=>{},Yi=(r,s)=>r!=null&&Number.isFinite(r=+r)?r:s;function Zi(r){return!!(r&&be(r.append)&&r[ta]==="FormData"&&r[qr])}const eo=r=>{const s=new Array(10),t=(a,n)=>{if(Wr(a)){if(s.indexOf(a)>=0)return;if(!("toJSON"in a)){s[n]=a;const i=sr(a)?[]:{};return fr(a,(o,l)=>{const u=t(o,n+1);!pr(u)&&(i[l]=u)}),s[n]=void 0,i}}return a};return t(r,0)},ro=Ve("AsyncFunction"),so=r=>r&&(Wr(r)||be(r))&&be(r.then)&&be(r.catch),ca=((r,s)=>r?setImmediate:s?((t,a)=>(Be.addEventListener("message",({source:n,data:i})=>{n===Be&&i===t&&a.length&&a.shift()()},!1),n=>{a.push(n),Be.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",be(Be.postMessage)),to=typeof queueMicrotask<"u"?queueMicrotask.bind(Be):typeof process<"u"&&process.nextTick||ca,ao=r=>r!=null&&be(r[qr]),j={isArray:sr,isArrayBuffer:aa,isBuffer:yi,isFormData:Ai,isArrayBufferView:Di,isString:Ei,isNumber:na,isBoolean:ji,isObject:Wr,isPlainObject:vr,isReadableStream:Ri,isRequest:Fi,isResponse:Mi,isHeaders:Oi,isUndefined:pr,isDate:Vi,isFile:Pi,isBlob:wi,isRegExp:zi,isFunction:be,isStream:Ci,isURLSearchParams:Si,isTypedArray:$i,isFileList:ki,forEach:fr,merge:gs,extend:Ii,trim:Ti,stripBOM:Ui,inherits:Li,toFlatObject:_i,kindOf:Hr,kindOfTest:Ve,endsWith:qi,toArray:Hi,forEachEntry:Wi,matchAll:Bi,isHTMLForm:Ki,hasOwnProperty:it,hasOwnProp:it,reduceDescriptors:la,freezeMethods:Qi,toObjectSet:Ji,toCamelCase:Gi,noop:Xi,toFiniteNumber:Yi,findKey:ia,global:Be,isContextDefined:oa,isSpecCompliantForm:Zi,toJSONObject:eo,isAsyncFn:ro,isThenable:so,setImmediate:ca,asap:to,isIterable:ao};function $(r,s,t,a,n){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=r,this.name="AxiosError",s&&(this.code=s),t&&(this.config=t),a&&(this.request=a),n&&(this.response=n,this.status=n.status?n.status:null)}j.inherits($,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:j.toJSONObject(this.config),code:this.code,status:this.status}}});const ma=$.prototype,da={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(r=>{da[r]={value:r}});Object.defineProperties($,da);Object.defineProperty(ma,"isAxiosError",{value:!0});$.from=(r,s,t,a,n,i)=>{const o=Object.create(ma);return j.toFlatObject(r,o,function(u){return u!==Error.prototype},l=>l!=="isAxiosError"),$.call(o,r.message,s,t,a,n),o.cause=r,o.name=r.name,i&&Object.assign(o,i),o};const no=null;function hs(r){return j.isPlainObject(r)||j.isArray(r)}function ua(r){return j.endsWith(r,"[]")?r.slice(0,-2):r}function ot(r,s,t){return r?r.concat(s).map(function(n,i){return n=ua(n),!t&&i?"["+n+"]":n}).join(t?".":""):s}function io(r){return j.isArray(r)&&!r.some(hs)}const oo=j.toFlatObject(j,{},null,function(s){return/^is[A-Z]/.test(s)});function Br(r,s,t){if(!j.isObject(r))throw new TypeError("target must be an object");s=s||new FormData,t=j.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,y){return!j.isUndefined(y[v])});const a=t.metaTokens,n=t.visitor||d,i=t.dots,o=t.indexes,u=(t.Blob||typeof Blob<"u"&&Blob)&&j.isSpecCompliantForm(s);if(!j.isFunction(n))throw new TypeError("visitor must be a function");function c(N){if(N===null)return"";if(j.isDate(N))return N.toISOString();if(j.isBoolean(N))return N.toString();if(!u&&j.isBlob(N))throw new $("Blob is not supported. Use a Buffer instead.");return j.isArrayBuffer(N)||j.isTypedArray(N)?u&&typeof Blob=="function"?new Blob([N]):Buffer.from(N):N}function d(N,v,y){let h=N;if(N&&!y&&typeof N=="object"){if(j.endsWith(v,"{}"))v=a?v:v.slice(0,-2),N=JSON.stringify(N);else if(j.isArray(N)&&io(N)||(j.isFileList(N)||j.endsWith(v,"[]"))&&(h=j.toArray(N)))return v=ua(v),h.forEach(function(M,V){!(j.isUndefined(M)||M===null)&&s.append(o===!0?ot([v],V,i):o===null?v:v+"[]",c(M))}),!1}return hs(N)?!0:(s.append(ot(y,v,i),c(N)),!1)}const m=[],p=Object.assign(oo,{defaultVisitor:d,convertValue:c,isVisitable:hs});function b(N,v){if(!j.isUndefined(N)){if(m.indexOf(N)!==-1)throw Error("Circular reference detected in "+v.join("."));m.push(N),j.forEach(N,function(h,x){(!(j.isUndefined(h)||h===null)&&n.call(s,h,j.isString(x)?x.trim():x,v,p))===!0&&b(h,v?v.concat(x):[x])}),m.pop()}}if(!j.isObject(r))throw new TypeError("data must be an object");return b(r),s}function lt(r){const s={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(r).replace(/[!'()~]|%20|%00/g,function(a){return s[a]})}function Rs(r,s){this._pairs=[],r&&Br(r,this,s)}const pa=Rs.prototype;pa.append=function(s,t){this._pairs.push([s,t])};pa.toString=function(s){const t=s?function(a){return s.call(this,a,lt)}:lt;return this._pairs.map(function(n){return t(n[0])+"="+t(n[1])},"").join("&")};function lo(r){return encodeURIComponent(r).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function fa(r,s,t){if(!s)return r;const a=t&&t.encode||lo;j.isFunction(t)&&(t={serialize:t});const n=t&&t.serialize;let i;if(n?i=n(s,t):i=j.isURLSearchParams(s)?s.toString():new Rs(s,t).toString(a),i){const o=r.indexOf("#");o!==-1&&(r=r.slice(0,o)),r+=(r.indexOf("?")===-1?"?":"&")+i}return r}class ct{constructor(){this.handlers=[]}use(s,t,a){return this.handlers.push({fulfilled:s,rejected:t,synchronous:a?a.synchronous:!1,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(s){this.handlers[s]&&(this.handlers[s]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(s){j.forEach(this.handlers,function(a){a!==null&&s(a)})}}const Na={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},co=typeof URLSearchParams<"u"?URLSearchParams:Rs,mo=typeof FormData<"u"?FormData:null,uo=typeof Blob<"u"?Blob:null,po={isBrowser:!0,classes:{URLSearchParams:co,FormData:mo,Blob:uo},protocols:["http","https","file","blob","url","data"]},Fs=typeof window<"u"&&typeof document<"u",bs=typeof navigator=="object"&&navigator||void 0,fo=Fs&&(!bs||["ReactNative","NativeScript","NS"].indexOf(bs.product)<0),No=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",go=Fs&&window.location.href||"http://localhost",ho=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Fs,hasStandardBrowserEnv:fo,hasStandardBrowserWebWorkerEnv:No,navigator:bs,origin:go},Symbol.toStringTag,{value:"Module"})),ue={...ho,...po};function bo(r,s){return Br(r,new ue.classes.URLSearchParams,Object.assign({visitor:function(t,a,n,i){return ue.isNode&&j.isBuffer(t)?(this.append(a,t.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},s))}function xo(r){return j.matchAll(/\w+|\[(\w*)]/g,r).map(s=>s[0]==="[]"?"":s[1]||s[0])}function vo(r){const s={},t=Object.keys(r);let a;const n=t.length;let i;for(a=0;a<n;a++)i=t[a],s[i]=r[i];return s}function ga(r){function s(t,a,n,i){let o=t[i++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),u=i>=t.length;return o=!o&&j.isArray(n)?n.length:o,u?(j.hasOwnProp(n,o)?n[o]=[n[o],a]:n[o]=a,!l):((!n[o]||!j.isObject(n[o]))&&(n[o]=[]),s(t,a,n[o],i)&&j.isArray(n[o])&&(n[o]=vo(n[o])),!l)}if(j.isFormData(r)&&j.isFunction(r.entries)){const t={};return j.forEachEntry(r,(a,n)=>{s(xo(a),n,t,0)}),t}return null}function yo(r,s,t){if(j.isString(r))try{return(s||JSON.parse)(r),j.trim(r)}catch(a){if(a.name!=="SyntaxError")throw a}return(t||JSON.stringify)(r)}const Nr={transitional:Na,adapter:["xhr","http","fetch"],transformRequest:[function(s,t){const a=t.getContentType()||"",n=a.indexOf("application/json")>-1,i=j.isObject(s);if(i&&j.isHTMLForm(s)&&(s=new FormData(s)),j.isFormData(s))return n?JSON.stringify(ga(s)):s;if(j.isArrayBuffer(s)||j.isBuffer(s)||j.isStream(s)||j.isFile(s)||j.isBlob(s)||j.isReadableStream(s))return s;if(j.isArrayBufferView(s))return s.buffer;if(j.isURLSearchParams(s))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),s.toString();let l;if(i){if(a.indexOf("application/x-www-form-urlencoded")>-1)return bo(s,this.formSerializer).toString();if((l=j.isFileList(s))||a.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return Br(l?{"files[]":s}:s,u&&new u,this.formSerializer)}}return i||n?(t.setContentType("application/json",!1),yo(s)):s}],transformResponse:[function(s){const t=this.transitional||Nr.transitional,a=t&&t.forcedJSONParsing,n=this.responseType==="json";if(j.isResponse(s)||j.isReadableStream(s))return s;if(s&&j.isString(s)&&(a&&!this.responseType||n)){const o=!(t&&t.silentJSONParsing)&&n;try{return JSON.parse(s)}catch(l){if(o)throw l.name==="SyntaxError"?$.from(l,$.ERR_BAD_RESPONSE,this,null,this.response):l}}return s}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ue.classes.FormData,Blob:ue.classes.Blob},validateStatus:function(s){return s>=200&&s<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};j.forEach(["delete","get","head","post","put","patch"],r=>{Nr.headers[r]={}});const Do=j.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Eo=r=>{const s={};let t,a,n;return r&&r.split(`
`).forEach(function(o){n=o.indexOf(":"),t=o.substring(0,n).trim().toLowerCase(),a=o.substring(n+1).trim(),!(!t||s[t]&&Do[t])&&(t==="set-cookie"?s[t]?s[t].push(a):s[t]=[a]:s[t]=s[t]?s[t]+", "+a:a)}),s},mt=Symbol("internals");function nr(r){return r&&String(r).trim().toLowerCase()}function yr(r){return r===!1||r==null?r:j.isArray(r)?r.map(yr):String(r)}function jo(r){const s=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=t.exec(r);)s[a[1]]=a[2];return s}const Vo=r=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(r.trim());function ns(r,s,t,a,n){if(j.isFunction(a))return a.call(this,s,t);if(n&&(s=t),!!j.isString(s)){if(j.isString(a))return s.indexOf(a)!==-1;if(j.isRegExp(a))return a.test(s)}}function Po(r){return r.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(s,t,a)=>t.toUpperCase()+a)}function wo(r,s){const t=j.toCamelCase(" "+s);["get","set","has"].forEach(a=>{Object.defineProperty(r,a+t,{value:function(n,i,o){return this[a].call(this,s,n,i,o)},configurable:!0})})}let xe=class{constructor(s){s&&this.set(s)}set(s,t,a){const n=this;function i(l,u,c){const d=nr(u);if(!d)throw new Error("header name must be a non-empty string");const m=j.findKey(n,d);(!m||n[m]===void 0||c===!0||c===void 0&&n[m]!==!1)&&(n[m||u]=yr(l))}const o=(l,u)=>j.forEach(l,(c,d)=>i(c,d,u));if(j.isPlainObject(s)||s instanceof this.constructor)o(s,t);else if(j.isString(s)&&(s=s.trim())&&!Vo(s))o(Eo(s),t);else if(j.isObject(s)&&j.isIterable(s)){let l={},u,c;for(const d of s){if(!j.isArray(d))throw TypeError("Object iterator must return a key-value pair");l[c=d[0]]=(u=l[c])?j.isArray(u)?[...u,d[1]]:[u,d[1]]:d[1]}o(l,t)}else s!=null&&i(t,s,a);return this}get(s,t){if(s=nr(s),s){const a=j.findKey(this,s);if(a){const n=this[a];if(!t)return n;if(t===!0)return jo(n);if(j.isFunction(t))return t.call(this,n,a);if(j.isRegExp(t))return t.exec(n);throw new TypeError("parser must be boolean|regexp|function")}}}has(s,t){if(s=nr(s),s){const a=j.findKey(this,s);return!!(a&&this[a]!==void 0&&(!t||ns(this,this[a],a,t)))}return!1}delete(s,t){const a=this;let n=!1;function i(o){if(o=nr(o),o){const l=j.findKey(a,o);l&&(!t||ns(a,a[l],l,t))&&(delete a[l],n=!0)}}return j.isArray(s)?s.forEach(i):i(s),n}clear(s){const t=Object.keys(this);let a=t.length,n=!1;for(;a--;){const i=t[a];(!s||ns(this,this[i],i,s,!0))&&(delete this[i],n=!0)}return n}normalize(s){const t=this,a={};return j.forEach(this,(n,i)=>{const o=j.findKey(a,i);if(o){t[o]=yr(n),delete t[i];return}const l=s?Po(i):String(i).trim();l!==i&&delete t[i],t[l]=yr(n),a[l]=!0}),this}concat(...s){return this.constructor.concat(this,...s)}toJSON(s){const t=Object.create(null);return j.forEach(this,(a,n)=>{a!=null&&a!==!1&&(t[n]=s&&j.isArray(a)?a.join(", "):a)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([s,t])=>s+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(s){return s instanceof this?s:new this(s)}static concat(s,...t){const a=new this(s);return t.forEach(n=>a.set(n)),a}static accessor(s){const a=(this[mt]=this[mt]={accessors:{}}).accessors,n=this.prototype;function i(o){const l=nr(o);a[l]||(wo(n,o),a[l]=!0)}return j.isArray(s)?s.forEach(i):i(s),this}};xe.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);j.reduceDescriptors(xe.prototype,({value:r},s)=>{let t=s[0].toUpperCase()+s.slice(1);return{get:()=>r,set(a){this[t]=a}}});j.freezeMethods(xe);function is(r,s){const t=this||Nr,a=s||t,n=xe.from(a.headers);let i=a.data;return j.forEach(r,function(l){i=l.call(t,i,n.normalize(),s?s.status:void 0)}),n.normalize(),i}function ha(r){return!!(r&&r.__CANCEL__)}function tr(r,s,t){$.call(this,r??"canceled",$.ERR_CANCELED,s,t),this.name="CanceledError"}j.inherits(tr,$,{__CANCEL__:!0});function ba(r,s,t){const a=t.config.validateStatus;!t.status||!a||a(t.status)?r(t):s(new $("Request failed with status code "+t.status,[$.ERR_BAD_REQUEST,$.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function ko(r){const s=/^([-+\w]{1,25})(:?\/\/|:)/.exec(r);return s&&s[1]||""}function Co(r,s){r=r||10;const t=new Array(r),a=new Array(r);let n=0,i=0,o;return s=s!==void 0?s:1e3,function(u){const c=Date.now(),d=a[i];o||(o=c),t[n]=u,a[n]=c;let m=i,p=0;for(;m!==n;)p+=t[m++],m=m%r;if(n=(n+1)%r,n===i&&(i=(i+1)%r),c-o<s)return;const b=d&&c-d;return b?Math.round(p*1e3/b):void 0}}function Ao(r,s){let t=0,a=1e3/s,n,i;const o=(c,d=Date.now())=>{t=d,n=null,i&&(clearTimeout(i),i=null),r.apply(null,c)};return[(...c)=>{const d=Date.now(),m=d-t;m>=a?o(c,d):(n=c,i||(i=setTimeout(()=>{i=null,o(n)},a-m)))},()=>n&&o(n)]}const Ar=(r,s,t=3)=>{let a=0;const n=Co(50,250);return Ao(i=>{const o=i.loaded,l=i.lengthComputable?i.total:void 0,u=o-a,c=n(u),d=o<=l;a=o;const m={loaded:o,total:l,progress:l?o/l:void 0,bytes:u,rate:c||void 0,estimated:c&&l&&d?(l-o)/c:void 0,event:i,lengthComputable:l!=null,[s?"download":"upload"]:!0};r(m)},t)},dt=(r,s)=>{const t=r!=null;return[a=>s[0]({lengthComputable:t,total:r,loaded:a}),s[1]]},ut=r=>(...s)=>j.asap(()=>r(...s)),So=ue.hasStandardBrowserEnv?((r,s)=>t=>(t=new URL(t,ue.origin),r.protocol===t.protocol&&r.host===t.host&&(s||r.port===t.port)))(new URL(ue.origin),ue.navigator&&/(msie|trident)/i.test(ue.navigator.userAgent)):()=>!0,Ro=ue.hasStandardBrowserEnv?{write(r,s,t,a,n,i){const o=[r+"="+encodeURIComponent(s)];j.isNumber(t)&&o.push("expires="+new Date(t).toGMTString()),j.isString(a)&&o.push("path="+a),j.isString(n)&&o.push("domain="+n),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(r){const s=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return s?decodeURIComponent(s[3]):null},remove(r){this.write(r,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Fo(r){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(r)}function Mo(r,s){return s?r.replace(/\/?\/$/,"")+"/"+s.replace(/^\/+/,""):r}function xa(r,s,t){let a=!Fo(s);return r&&(a||t==!1)?Mo(r,s):s}const pt=r=>r instanceof xe?{...r}:r;function Qe(r,s){s=s||{};const t={};function a(c,d,m,p){return j.isPlainObject(c)&&j.isPlainObject(d)?j.merge.call({caseless:p},c,d):j.isPlainObject(d)?j.merge({},d):j.isArray(d)?d.slice():d}function n(c,d,m,p){if(j.isUndefined(d)){if(!j.isUndefined(c))return a(void 0,c,m,p)}else return a(c,d,m,p)}function i(c,d){if(!j.isUndefined(d))return a(void 0,d)}function o(c,d){if(j.isUndefined(d)){if(!j.isUndefined(c))return a(void 0,c)}else return a(void 0,d)}function l(c,d,m){if(m in s)return a(c,d);if(m in r)return a(void 0,c)}const u={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(c,d,m)=>n(pt(c),pt(d),m,!0)};return j.forEach(Object.keys(Object.assign({},r,s)),function(d){const m=u[d]||n,p=m(r[d],s[d],d);j.isUndefined(p)&&m!==l||(t[d]=p)}),t}const va=r=>{const s=Qe({},r);let{data:t,withXSRFToken:a,xsrfHeaderName:n,xsrfCookieName:i,headers:o,auth:l}=s;s.headers=o=xe.from(o),s.url=fa(xa(s.baseURL,s.url,s.allowAbsoluteUrls),r.params,r.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let u;if(j.isFormData(t)){if(ue.hasStandardBrowserEnv||ue.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((u=o.getContentType())!==!1){const[c,...d]=u?u.split(";").map(m=>m.trim()).filter(Boolean):[];o.setContentType([c||"multipart/form-data",...d].join("; "))}}if(ue.hasStandardBrowserEnv&&(a&&j.isFunction(a)&&(a=a(s)),a||a!==!1&&So(s.url))){const c=n&&i&&Ro.read(i);c&&o.set(n,c)}return s},Oo=typeof XMLHttpRequest<"u",To=Oo&&function(r){return new Promise(function(t,a){const n=va(r);let i=n.data;const o=xe.from(n.headers).normalize();let{responseType:l,onUploadProgress:u,onDownloadProgress:c}=n,d,m,p,b,N;function v(){b&&b(),N&&N(),n.cancelToken&&n.cancelToken.unsubscribe(d),n.signal&&n.signal.removeEventListener("abort",d)}let y=new XMLHttpRequest;y.open(n.method.toUpperCase(),n.url,!0),y.timeout=n.timeout;function h(){if(!y)return;const M=xe.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),C={data:!l||l==="text"||l==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:M,config:r,request:y};ba(function(A){t(A),v()},function(A){a(A),v()},C),y=null}"onloadend"in y?y.onloadend=h:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(h)},y.onabort=function(){y&&(a(new $("Request aborted",$.ECONNABORTED,r,y)),y=null)},y.onerror=function(){a(new $("Network Error",$.ERR_NETWORK,r,y)),y=null},y.ontimeout=function(){let V=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const C=n.transitional||Na;n.timeoutErrorMessage&&(V=n.timeoutErrorMessage),a(new $(V,C.clarifyTimeoutError?$.ETIMEDOUT:$.ECONNABORTED,r,y)),y=null},i===void 0&&o.setContentType(null),"setRequestHeader"in y&&j.forEach(o.toJSON(),function(V,C){y.setRequestHeader(C,V)}),j.isUndefined(n.withCredentials)||(y.withCredentials=!!n.withCredentials),l&&l!=="json"&&(y.responseType=n.responseType),c&&([p,N]=Ar(c,!0),y.addEventListener("progress",p)),u&&y.upload&&([m,b]=Ar(u),y.upload.addEventListener("progress",m),y.upload.addEventListener("loadend",b)),(n.cancelToken||n.signal)&&(d=M=>{y&&(a(!M||M.type?new tr(null,r,y):M),y.abort(),y=null)},n.cancelToken&&n.cancelToken.subscribe(d),n.signal&&(n.signal.aborted?d():n.signal.addEventListener("abort",d)));const x=ko(n.url);if(x&&ue.protocols.indexOf(x)===-1){a(new $("Unsupported protocol "+x+":",$.ERR_BAD_REQUEST,r));return}y.send(i||null)})},Io=(r,s)=>{const{length:t}=r=r?r.filter(Boolean):[];if(s||t){let a=new AbortController,n;const i=function(c){if(!n){n=!0,l();const d=c instanceof Error?c:this.reason;a.abort(d instanceof $?d:new tr(d instanceof Error?d.message:d))}};let o=s&&setTimeout(()=>{o=null,i(new $(`timeout ${s} of ms exceeded`,$.ETIMEDOUT))},s);const l=()=>{r&&(o&&clearTimeout(o),o=null,r.forEach(c=>{c.unsubscribe?c.unsubscribe(i):c.removeEventListener("abort",i)}),r=null)};r.forEach(c=>c.addEventListener("abort",i));const{signal:u}=a;return u.unsubscribe=()=>j.asap(l),u}},Uo=function*(r,s){let t=r.byteLength;if(t<s){yield r;return}let a=0,n;for(;a<t;)n=a+s,yield r.slice(a,n),a=n},Lo=async function*(r,s){for await(const t of _o(r))yield*Uo(t,s)},_o=async function*(r){if(r[Symbol.asyncIterator]){yield*r;return}const s=r.getReader();try{for(;;){const{done:t,value:a}=await s.read();if(t)break;yield a}}finally{await s.cancel()}},ft=(r,s,t,a)=>{const n=Lo(r,s);let i=0,o,l=u=>{o||(o=!0,a&&a(u))};return new ReadableStream({async pull(u){try{const{done:c,value:d}=await n.next();if(c){l(),u.close();return}let m=d.byteLength;if(t){let p=i+=m;t(p)}u.enqueue(new Uint8Array(d))}catch(c){throw l(c),c}},cancel(u){return l(u),n.return()}},{highWaterMark:2})},Kr=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",ya=Kr&&typeof ReadableStream=="function",qo=Kr&&(typeof TextEncoder=="function"?(r=>s=>r.encode(s))(new TextEncoder):async r=>new Uint8Array(await new Response(r).arrayBuffer())),Da=(r,...s)=>{try{return!!r(...s)}catch{return!1}},Ho=ya&&Da(()=>{let r=!1;const s=new Request(ue.origin,{body:new ReadableStream,method:"POST",get duplex(){return r=!0,"half"}}).headers.has("Content-Type");return r&&!s}),Nt=64*1024,xs=ya&&Da(()=>j.isReadableStream(new Response("").body)),Sr={stream:xs&&(r=>r.body)};Kr&&(r=>{["text","arrayBuffer","blob","formData","stream"].forEach(s=>{!Sr[s]&&(Sr[s]=j.isFunction(r[s])?t=>t[s]():(t,a)=>{throw new $(`Response type '${s}' is not supported`,$.ERR_NOT_SUPPORT,a)})})})(new Response);const $o=async r=>{if(r==null)return 0;if(j.isBlob(r))return r.size;if(j.isSpecCompliantForm(r))return(await new Request(ue.origin,{method:"POST",body:r}).arrayBuffer()).byteLength;if(j.isArrayBufferView(r)||j.isArrayBuffer(r))return r.byteLength;if(j.isURLSearchParams(r)&&(r=r+""),j.isString(r))return(await qo(r)).byteLength},Wo=async(r,s)=>{const t=j.toFiniteNumber(r.getContentLength());return t??$o(s)},Bo=Kr&&(async r=>{let{url:s,method:t,data:a,signal:n,cancelToken:i,timeout:o,onDownloadProgress:l,onUploadProgress:u,responseType:c,headers:d,withCredentials:m="same-origin",fetchOptions:p}=va(r);c=c?(c+"").toLowerCase():"text";let b=Io([n,i&&i.toAbortSignal()],o),N;const v=b&&b.unsubscribe&&(()=>{b.unsubscribe()});let y;try{if(u&&Ho&&t!=="get"&&t!=="head"&&(y=await Wo(d,a))!==0){let C=new Request(s,{method:"POST",body:a,duplex:"half"}),P;if(j.isFormData(a)&&(P=C.headers.get("content-type"))&&d.setContentType(P),C.body){const[A,S]=dt(y,Ar(ut(u)));a=ft(C.body,Nt,A,S)}}j.isString(m)||(m=m?"include":"omit");const h="credentials"in Request.prototype;N=new Request(s,{...p,signal:b,method:t.toUpperCase(),headers:d.normalize().toJSON(),body:a,duplex:"half",credentials:h?m:void 0});let x=await fetch(N,p);const M=xs&&(c==="stream"||c==="response");if(xs&&(l||M&&v)){const C={};["status","statusText","headers"].forEach(E=>{C[E]=x[E]});const P=j.toFiniteNumber(x.headers.get("content-length")),[A,S]=l&&dt(P,Ar(ut(l),!0))||[];x=new Response(ft(x.body,Nt,A,()=>{S&&S(),v&&v()}),C)}c=c||"text";let V=await Sr[j.findKey(Sr,c)||"text"](x,r);return!M&&v&&v(),await new Promise((C,P)=>{ba(C,P,{data:V,headers:xe.from(x.headers),status:x.status,statusText:x.statusText,config:r,request:N})})}catch(h){throw v&&v(),h&&h.name==="TypeError"&&/Load failed|fetch/i.test(h.message)?Object.assign(new $("Network Error",$.ERR_NETWORK,r,N),{cause:h.cause||h}):$.from(h,h&&h.code,r,N)}}),vs={http:no,xhr:To,fetch:Bo};j.forEach(vs,(r,s)=>{if(r){try{Object.defineProperty(r,"name",{value:s})}catch{}Object.defineProperty(r,"adapterName",{value:s})}});const gt=r=>`- ${r}`,Ko=r=>j.isFunction(r)||r===null||r===!1,Ea={getAdapter:r=>{r=j.isArray(r)?r:[r];const{length:s}=r;let t,a;const n={};for(let i=0;i<s;i++){t=r[i];let o;if(a=t,!Ko(t)&&(a=vs[(o=String(t)).toLowerCase()],a===void 0))throw new $(`Unknown adapter '${o}'`);if(a)break;n[o||"#"+i]=a}if(!a){const i=Object.entries(n).map(([l,u])=>`adapter ${l} `+(u===!1?"is not supported by the environment":"is not available in the build"));let o=s?i.length>1?`since :
`+i.map(gt).join(`
`):" "+gt(i[0]):"as no adapter specified";throw new $("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return a},adapters:vs};function os(r){if(r.cancelToken&&r.cancelToken.throwIfRequested(),r.signal&&r.signal.aborted)throw new tr(null,r)}function ht(r){return os(r),r.headers=xe.from(r.headers),r.data=is.call(r,r.transformRequest),["post","put","patch"].indexOf(r.method)!==-1&&r.headers.setContentType("application/x-www-form-urlencoded",!1),Ea.getAdapter(r.adapter||Nr.adapter)(r).then(function(a){return os(r),a.data=is.call(r,r.transformResponse,a),a.headers=xe.from(a.headers),a},function(a){return ha(a)||(os(r),a&&a.response&&(a.response.data=is.call(r,r.transformResponse,a.response),a.response.headers=xe.from(a.response.headers))),Promise.reject(a)})}const ja="1.10.0",Gr={};["object","boolean","number","function","string","symbol"].forEach((r,s)=>{Gr[r]=function(a){return typeof a===r||"a"+(s<1?"n ":" ")+r}});const bt={};Gr.transitional=function(s,t,a){function n(i,o){return"[Axios v"+ja+"] Transitional option '"+i+"'"+o+(a?". "+a:"")}return(i,o,l)=>{if(s===!1)throw new $(n(o," has been removed"+(t?" in "+t:"")),$.ERR_DEPRECATED);return t&&!bt[o]&&(bt[o]=!0,console.warn(n(o," has been deprecated since v"+t+" and will be removed in the near future"))),s?s(i,o,l):!0}};Gr.spelling=function(s){return(t,a)=>(console.warn(`${a} is likely a misspelling of ${s}`),!0)};function Go(r,s,t){if(typeof r!="object")throw new $("options must be an object",$.ERR_BAD_OPTION_VALUE);const a=Object.keys(r);let n=a.length;for(;n-- >0;){const i=a[n],o=s[i];if(o){const l=r[i],u=l===void 0||o(l,i,r);if(u!==!0)throw new $("option "+i+" must be "+u,$.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new $("Unknown option "+i,$.ERR_BAD_OPTION)}}const Dr={assertOptions:Go,validators:Gr},Pe=Dr.validators;let ze=class{constructor(s){this.defaults=s||{},this.interceptors={request:new ct,response:new ct}}async request(s,t){try{return await this._request(s,t)}catch(a){if(a instanceof Error){let n={};Error.captureStackTrace?Error.captureStackTrace(n):n=new Error;const i=n.stack?n.stack.replace(/^.+\n/,""):"";try{a.stack?i&&!String(a.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(a.stack+=`
`+i):a.stack=i}catch{}}throw a}}_request(s,t){typeof s=="string"?(t=t||{},t.url=s):t=s||{},t=Qe(this.defaults,t);const{transitional:a,paramsSerializer:n,headers:i}=t;a!==void 0&&Dr.assertOptions(a,{silentJSONParsing:Pe.transitional(Pe.boolean),forcedJSONParsing:Pe.transitional(Pe.boolean),clarifyTimeoutError:Pe.transitional(Pe.boolean)},!1),n!=null&&(j.isFunction(n)?t.paramsSerializer={serialize:n}:Dr.assertOptions(n,{encode:Pe.function,serialize:Pe.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),Dr.assertOptions(t,{baseUrl:Pe.spelling("baseURL"),withXsrfToken:Pe.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=i&&j.merge(i.common,i[t.method]);i&&j.forEach(["delete","get","head","post","put","patch","common"],N=>{delete i[N]}),t.headers=xe.concat(o,i);const l=[];let u=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(t)===!1||(u=u&&v.synchronous,l.unshift(v.fulfilled,v.rejected))});const c=[];this.interceptors.response.forEach(function(v){c.push(v.fulfilled,v.rejected)});let d,m=0,p;if(!u){const N=[ht.bind(this),void 0];for(N.unshift.apply(N,l),N.push.apply(N,c),p=N.length,d=Promise.resolve(t);m<p;)d=d.then(N[m++],N[m++]);return d}p=l.length;let b=t;for(m=0;m<p;){const N=l[m++],v=l[m++];try{b=N(b)}catch(y){v.call(this,y);break}}try{d=ht.call(this,b)}catch(N){return Promise.reject(N)}for(m=0,p=c.length;m<p;)d=d.then(c[m++],c[m++]);return d}getUri(s){s=Qe(this.defaults,s);const t=xa(s.baseURL,s.url,s.allowAbsoluteUrls);return fa(t,s.params,s.paramsSerializer)}};j.forEach(["delete","get","head","options"],function(s){ze.prototype[s]=function(t,a){return this.request(Qe(a||{},{method:s,url:t,data:(a||{}).data}))}});j.forEach(["post","put","patch"],function(s){function t(a){return function(i,o,l){return this.request(Qe(l||{},{method:s,headers:a?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}ze.prototype[s]=t(),ze.prototype[s+"Form"]=t(!0)});let zo=class Va{constructor(s){if(typeof s!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(i){t=i});const a=this;this.promise.then(n=>{if(!a._listeners)return;let i=a._listeners.length;for(;i-- >0;)a._listeners[i](n);a._listeners=null}),this.promise.then=n=>{let i;const o=new Promise(l=>{a.subscribe(l),i=l}).then(n);return o.cancel=function(){a.unsubscribe(i)},o},s(function(i,o,l){a.reason||(a.reason=new tr(i,o,l),t(a.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(s){if(this.reason){s(this.reason);return}this._listeners?this._listeners.push(s):this._listeners=[s]}unsubscribe(s){if(!this._listeners)return;const t=this._listeners.indexOf(s);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const s=new AbortController,t=a=>{s.abort(a)};return this.subscribe(t),s.signal.unsubscribe=()=>this.unsubscribe(t),s.signal}static source(){let s;return{token:new Va(function(n){s=n}),cancel:s}}};function Qo(r){return function(t){return r.apply(null,t)}}function Jo(r){return j.isObject(r)&&r.isAxiosError===!0}const ys={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(ys).forEach(([r,s])=>{ys[s]=r});function Pa(r){const s=new ze(r),t=sa(ze.prototype.request,s);return j.extend(t,ze.prototype,s,{allOwnKeys:!0}),j.extend(t,s,null,{allOwnKeys:!0}),t.create=function(n){return Pa(Qe(r,n))},t}const _=Pa(Nr);_.Axios=ze;_.CanceledError=tr;_.CancelToken=zo;_.isCancel=ha;_.VERSION=ja;_.toFormData=Br;_.AxiosError=$;_.Cancel=_.CanceledError;_.all=function(s){return Promise.all(s)};_.spread=Qo;_.isAxiosError=Jo;_.mergeConfig=Qe;_.AxiosHeaders=xe;_.formToJSON=r=>ga(j.isHTMLForm(r)?new FormData(r):r);_.getAdapter=Ea.getAdapter;_.HttpStatusCode=ys;_.default=_;const{Axios:pc,AxiosError:fc,CanceledError:Nc,isCancel:gc,CancelToken:hc,VERSION:bc,all:xc,Cancel:vc,isAxiosError:yc,spread:Dc,toFormData:Ec,AxiosHeaders:jc,HttpStatusCode:Vc,formToJSON:Pc,getAdapter:wc,mergeConfig:kc}=_;_.interceptors.request.use(r=>(console.log("🌐 Axios Request:",{url:r.url,method:r.method,headers:r.headers,data:r.data,baseURL:r.baseURL}),r),r=>(console.error("🌐 Axios Request Error:",r),Promise.reject(r)));_.interceptors.response.use(r=>(console.log("🌐 Axios Response:",{status:r.status,statusText:r.statusText,headers:r.headers,data:r.data}),r),r=>(console.error("🌐 Axios Response Error:"),console.error("  Status:",r.response?.status),console.error("  Status Text:",r.response?.statusText),console.error("  Headers:",r.response?.headers),console.error("  Data:",r.response?.data),console.error("  Message:",r.message),console.error("  Config URL:",r.config?.url),console.error("  Full Error:",r),Promise.reject(r)));const ee=ea()(ra((r,s)=>({user:null,token:null,isAuthenticated:!1,isLoading:!1,login:async(t,a)=>{try{r({isLoading:!0}),console.log("🔑 Login attempt:",{phone:t,apiUrl:"/api",fullUrl:"/api/auth/login"}),console.log("📤 Request payload:",JSON.stringify({phone:t,password:a}));const n=await _.post("/api/auth/login",{phone:t,password:a},{headers:{"Content-Type":"application/json"},timeout:1e4});console.log("📥 Response status:",n.status),console.log("📥 Response headers:",n.headers),console.log("✅ Login success:",n.data);const{user:i,token:o}=n.data;localStorage.setItem("token",o),r({user:i,token:o,isAuthenticated:!0,isLoading:!1})}catch(n){console.error("❌ Login error:",n),console.error("❌ Error message:",n.message),console.error("❌ Error response data:",n.response?.data),console.error("❌ Error status:",n.response?.status),console.error("❌ Error status text:",n.response?.statusText),console.error("❌ Error URL:",n.config?.url),console.error("❌ Error code:",n.code),console.error("❌ Error name:",n.name),console.error("❌ Full error object:",JSON.stringify(n,null,2)),r({isLoading:!1});let i="Login failed";throw n.code==="ERR_NETWORK"||n.name==="AxiosError"&&!n.response?i="Cannot connect to server. Please check if the backend is running.":n.code==="ECONNREFUSED"?i="Connection refused. Server may be down.":n.response?.status===401?i="Invalid phone number or password":n.response?.status===400?i=n.response.data?.error||"Invalid request":n.response?.data?.error?i=n.response.data.error:n.response?.data?.message?i=n.response.data.message:n.message&&n.message!=="[object Object]"&&(i=n.message),console.error("❌ Final error message:",i),new Error(i)}},loginWithData:(t,a)=>{localStorage.setItem("token",a),r({user:t,token:a,isAuthenticated:!0})},logout:()=>{localStorage.removeItem("token"),r({user:null,token:null,isAuthenticated:!1})},updateUser:t=>{r({user:t})}}),{name:"auth-storage",partialize:r=>({user:r.user,token:r.token,isAuthenticated:r.isAuthenticated})}));class Xo extends k.Component{state={hasError:!1};static getDerivedStateFromError(s){return{hasError:!0,error:s}}componentDidCatch(s,t){console.error("Error caught by boundary:",s,t)}render(){return this.state.hasError?this.props.fallback?this.props.fallback:e.jsxDEV("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsxDEV("div",{className:"max-w-md w-full bg-white rounded-lg shadow-md p-6 text-center",children:[e.jsxDEV("div",{className:"text-red-500 text-6xl mb-4",children:"⚠️"},void 0,!1,{fileName:"/app/code/frontend/src/components/ErrorBoundary.tsx",lineNumber:35,columnNumber:13},this),e.jsxDEV("h1",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Something went wrong"},void 0,!1,{fileName:"/app/code/frontend/src/components/ErrorBoundary.tsx",lineNumber:36,columnNumber:13},this),e.jsxDEV("p",{className:"text-gray-600 mb-4",children:this.state.error?.message||"An unexpected error occurred"},void 0,!1,{fileName:"/app/code/frontend/src/components/ErrorBoundary.tsx",lineNumber:39,columnNumber:13},this),e.jsxDEV("button",{onClick:()=>{this.setState({hasError:!1,error:void 0}),window.location.reload()},className:"bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700 transition-colors",children:"Reload Page"},void 0,!1,{fileName:"/app/code/frontend/src/components/ErrorBoundary.tsx",lineNumber:42,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/frontend/src/components/ErrorBoundary.tsx",lineNumber:34,columnNumber:11},this)},void 0,!1,{fileName:"/app/code/frontend/src/components/ErrorBoundary.tsx",lineNumber:33,columnNumber:9},this):this.props.children}}const Yo=()=>{window.addEventListener("unhandledrejection",r=>{}),window.addEventListener("error",r=>{})},ne=r=>{const s=Number(r);return isNaN(s)||!isFinite(s)?0:s},Zo=ea()(ra((r,s)=>({items:[],totalItems:0,totalAmount:0,addToCart:(t,a)=>{const n=s(),i=ne(a),o=ne(t.pricePerUnit);if(i<=0)return;if(n.items.find(u=>u.productId===t.id)){const u=n.items.map(m=>m.productId===t.id?{...m,quantity:ne(m.quantity)+i}:m),c=u.reduce((m,p)=>m+ne(p.quantity),0),d=u.reduce((m,p)=>m+ne(p.pricePerUnit)*ne(p.quantity),0);r({items:u,totalItems:c,totalAmount:d})}else{const u={id:`cart-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,productId:t.id||`product-${Date.now()}`,name:t.name||"Unknown Product",pricePerUnit:o,quantity:i,images:Array.isArray(t.images)?t.images:[],unit:t.unit||"kg"},c=[...n.items,u],d=c.reduce((p,b)=>p+ne(b.quantity),0),m=c.reduce((p,b)=>p+ne(b.pricePerUnit)*ne(b.quantity),0);r({items:c,totalItems:d,totalAmount:m})}},removeFromCart:t=>{const n=s().items.filter(l=>l.id!==t),i=n.reduce((l,u)=>l+ne(u.quantity),0),o=n.reduce((l,u)=>l+ne(u.pricePerUnit)*ne(u.quantity),0);r({items:n,totalItems:i,totalAmount:o})},updateQuantity:(t,a)=>{const n=s(),i=ne(a);if(i<=0){s().removeFromCart(t);return}const o=n.items.map(c=>c.id===t?{...c,quantity:i}:c),l=o.reduce((c,d)=>c+ne(d.quantity),0),u=o.reduce((c,d)=>c+ne(d.pricePerUnit)*ne(d.quantity),0);r({items:o,totalItems:l,totalAmount:u})},clearCart:()=>{r({items:[],totalItems:0,totalAmount:0})},refreshCart:()=>{const t=s(),a=t.items.reduce((i,o)=>i+ne(o.quantity),0),n=t.items.reduce((i,o)=>i+ne(o.pricePerUnit)*ne(o.quantity),0);r({totalItems:a,totalAmount:n})}}),{name:"cart-storage",partialize:r=>({items:r.items,totalItems:r.totalItems,totalAmount:r.totalAmount})})),ar=()=>{const r=Zo();return{cart:{items:r.items,totalItems:r.totalItems,totalAmount:r.totalAmount},addToCart:r.addToCart,removeFromCart:r.removeFromCart,updateQuantity:r.updateQuantity,clearCart:r.clearCart,refreshCart:r.refreshCart,isLoading:!1}};function el(){const{isAuthenticated:r,user:s,logout:t}=ee(),{cart:a}=ar(),n=Se(),[i,o]=k.useState(!1),l=()=>{t(),n("/"),o(!1)},u=()=>{switch(s?.role){case"FARMER":return"/farmer/dashboard";case"CUSTOMER":return"/customer/dashboard";case"ADMIN":return"/admin/dashboard";case"DRIVER":return"/driver/dashboard";default:return"/"}},c=()=>{o(!1)};return e.jsxDEV("nav",{className:"bg-white shadow-sm border-b sticky top-0 z-50",children:[e.jsxDEV("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxDEV("div",{className:"flex justify-between h-16",children:[e.jsxDEV("div",{className:"flex items-center",children:e.jsxDEV(B,{to:"/",className:"flex items-center space-x-2",onClick:c,children:[e.jsxDEV("div",{className:"w-8 h-8 bg-primary-600 rounded-lg flex items-center justify-center",children:e.jsxDEV("span",{className:"text-white font-bold text-sm",children:"Z"},void 0,!1,{fileName:"/app/code/frontend/src/components/layout/Navbar.tsx",lineNumber:59,columnNumber:17},this)},void 0,!1,{fileName:"/app/code/frontend/src/components/layout/Navbar.tsx",lineNumber:58,columnNumber:15},this),e.jsxDEV("span",{className:"text-lg sm:text-xl font-bold text-gray-900",children:"Zuasoko"},void 0,!1,{fileName:"/app/code/frontend/src/components/layout/Navbar.tsx",lineNumber:61,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/frontend/src/components/layout/Navbar.tsx",lineNumber:53,columnNumber:13},this)},void 0,!1,{fileName:"/app/code/frontend/src/components/layout/Navbar.tsx",lineNumber:52,columnNumber:11},this),e.jsxDEV("div",{className:"hidden md:flex items-center space-x-6",children:[e.jsxDEV(B,{to:"/marketplace",className:"text-gray-700 hover:text-primary-600 px-3 py-2 rounded-md text-sm font-medium transition-colors",children:"Marketplace"},void 0,!1,{fileName:"/app/code/frontend/src/components/layout/Navbar.tsx",lineNumber:69,columnNumber:13},this),r?e.jsxDEV(e.Fragment,{children:[e.jsxDEV(B,{to:u(),className:"text-gray-700 hover:text-primary-600 px-3 py-2 rounded-md text-sm font-medium transition-colors",children:"Dashboard"},void 0,!1,{fileName:"/app/code/frontend/src/components/layout/Navbar.tsx",lineNumber:78,columnNumber:17},this),e.jsxDEV(B,{to:"/cart",className:"relative text-gray-700 hover:text-primary-600 p-2 rounded-md transition-colors",children:[e.jsxDEV(Ge,{className:"w-5 h-5"},void 0,!1,{fileName:"/app/code/frontend/src/components/layout/Navbar.tsx",lineNumber:90,columnNumber:19},this),a?.totalItems>0&&e.jsxDEV("span",{className:"absolute -top-1 -right-1 bg-primary-600 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:a.totalItems},void 0,!1,{fileName:"/app/code/frontend/src/components/layout/Navbar.tsx",lineNumber:92,columnNumber:21},this)]},void 0,!0,{fileName:"/app/code/frontend/src/components/layout/Navbar.tsx",lineNumber:86,columnNumber:17},this),e.jsxDEV("div",{className:"flex items-center space-x-2",children:[e.jsxDEV("span",{className:"text-sm text-gray-600",children:s?.firstName},void 0,!1,{fileName:"/app/code/frontend/src/components/layout/Navbar.tsx",lineNumber:99,columnNumber:19},this),e.jsxDEV("button",{onClick:l,className:"text-gray-700 hover:text-red-600 p-2 rounded-md transition-colors",children:e.jsxDEV(zs,{className:"w-4 h-4"},void 0,!1,{fileName:"/app/code/frontend/src/components/layout/Navbar.tsx",lineNumber:106,columnNumber:21},this)},void 0,!1,{fileName:"/app/code/frontend/src/components/layout/Navbar.tsx",lineNumber:102,columnNumber:19},this)]},void 0,!0,{fileName:"/app/code/frontend/src/components/layout/Navbar.tsx",lineNumber:98,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/frontend/src/components/layout/Navbar.tsx",lineNumber:77,columnNumber:15},this):e.jsxDEV("div",{className:"flex items-center space-x-3",children:[e.jsxDEV(B,{to:"/cart",className:"relative text-gray-700 hover:text-primary-600 p-2 rounded-md transition-colors",children:[e.jsxDEV(Ge,{className:"w-5 h-5"},void 0,!1,{fileName:"/app/code/frontend/src/components/layout/Navbar.tsx",lineNumber:117,columnNumber:19},this),a?.totalItems>0&&e.jsxDEV("span",{className:"absolute -top-1 -right-1 bg-primary-600 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:a.totalItems},void 0,!1,{fileName:"/app/code/frontend/src/components/layout/Navbar.tsx",lineNumber:119,columnNumber:21},this)]},void 0,!0,{fileName:"/app/code/frontend/src/components/layout/Navbar.tsx",lineNumber:113,columnNumber:17},this),e.jsxDEV(B,{to:"/login",className:"text-gray-700 hover:text-primary-600 px-3 py-2 rounded-md text-sm font-medium transition-colors",children:"Login"},void 0,!1,{fileName:"/app/code/frontend/src/components/layout/Navbar.tsx",lineNumber:125,columnNumber:17},this),e.jsxDEV(B,{to:"/register",className:"bg-primary-600 text-white px-4 py-2 rounded-lg text-sm font-medium hover:bg-primary-700 transition-colors",children:"Register"},void 0,!1,{fileName:"/app/code/frontend/src/components/layout/Navbar.tsx",lineNumber:131,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/frontend/src/components/layout/Navbar.tsx",lineNumber:111,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/frontend/src/components/layout/Navbar.tsx",lineNumber:68,columnNumber:11},this),e.jsxDEV("div",{className:"md:hidden flex items-center space-x-3",children:[e.jsxDEV(B,{to:"/cart",className:"relative text-gray-700 hover:text-primary-600 p-2 rounded-md transition-colors",onClick:c,children:[e.jsxDEV(Ge,{className:"w-5 h-5"},void 0,!1,{fileName:"/app/code/frontend/src/components/layout/Navbar.tsx",lineNumber:149,columnNumber:15},this),a?.totalItems>0&&e.jsxDEV("span",{className:"absolute -top-1 -right-1 bg-primary-600 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:a.totalItems},void 0,!1,{fileName:"/app/code/frontend/src/components/layout/Navbar.tsx",lineNumber:151,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/frontend/src/components/layout/Navbar.tsx",lineNumber:144,columnNumber:13},this),e.jsxDEV("button",{onClick:()=>o(!i),className:"text-gray-700 hover:text-primary-600 p-2 rounded-md transition-colors",children:i?e.jsxDEV(Me,{className:"w-5 h-5"},void 0,!1,{fileName:"/app/code/frontend/src/components/layout/Navbar.tsx",lineNumber:163,columnNumber:17},this):e.jsxDEV(Mt,{className:"w-5 h-5"},void 0,!1,{fileName:"/app/code/frontend/src/components/layout/Navbar.tsx",lineNumber:165,columnNumber:17},this)},void 0,!1,{fileName:"/app/code/frontend/src/components/layout/Navbar.tsx",lineNumber:158,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/frontend/src/components/layout/Navbar.tsx",lineNumber:142,columnNumber:11},this)]},void 0,!0,{fileName:"/app/code/frontend/src/components/layout/Navbar.tsx",lineNumber:50,columnNumber:9},this)},void 0,!1,{fileName:"/app/code/frontend/src/components/layout/Navbar.tsx",lineNumber:49,columnNumber:7},this),i&&e.jsxDEV("div",{className:"md:hidden bg-white border-t border-gray-200",children:e.jsxDEV("div",{className:"px-2 pt-2 pb-3 space-y-1",children:[e.jsxDEV(B,{to:"/",className:"flex items-center gap-3 px-3 py-3 text-base font-medium text-gray-700 hover:bg-gray-50 rounded-md transition-colors",onClick:c,children:[e.jsxDEV(Ot,{className:"w-5 h-5"},void 0,!1,{fileName:"/app/code/frontend/src/components/layout/Navbar.tsx",lineNumber:181,columnNumber:15},this),"Home"]},void 0,!0,{fileName:"/app/code/frontend/src/components/layout/Navbar.tsx",lineNumber:176,columnNumber:13},this),e.jsxDEV(B,{to:"/marketplace",className:"flex items-center gap-3 px-3 py-3 text-base font-medium text-gray-700 hover:bg-gray-50 rounded-md transition-colors",onClick:c,children:[e.jsxDEV(Tt,{className:"w-5 h-5"},void 0,!1,{fileName:"/app/code/frontend/src/components/layout/Navbar.tsx",lineNumber:190,columnNumber:15},this),"Marketplace"]},void 0,!0,{fileName:"/app/code/frontend/src/components/layout/Navbar.tsx",lineNumber:185,columnNumber:13},this),r?e.jsxDEV(e.Fragment,{children:[e.jsxDEV(B,{to:u(),className:"flex items-center gap-3 px-3 py-3 text-base font-medium text-gray-700 hover:bg-gray-50 rounded-md transition-colors",onClick:c,children:[e.jsxDEV(Ja,{className:"w-5 h-5"},void 0,!1,{fileName:"/app/code/frontend/src/components/layout/Navbar.tsx",lineNumber:201,columnNumber:19},this),"Dashboard"]},void 0,!0,{fileName:"/app/code/frontend/src/components/layout/Navbar.tsx",lineNumber:196,columnNumber:17},this),e.jsxDEV("div",{className:"px-3 py-3 border-t border-gray-200 mt-2",children:[e.jsxDEV("div",{className:"flex items-center gap-3 mb-3",children:[e.jsxDEV("div",{className:"w-8 h-8 bg-primary-100 rounded-full flex items-center justify-center",children:e.jsxDEV(De,{className:"w-4 h-4 text-primary-600"},void 0,!1,{fileName:"/app/code/frontend/src/components/layout/Navbar.tsx",lineNumber:209,columnNumber:23},this)},void 0,!1,{fileName:"/app/code/frontend/src/components/layout/Navbar.tsx",lineNumber:208,columnNumber:21},this),e.jsxDEV("div",{children:[e.jsxDEV("div",{className:"text-sm font-medium text-gray-900",children:[s?.firstName," ",s?.lastName]},void 0,!0,{fileName:"/app/code/frontend/src/components/layout/Navbar.tsx",lineNumber:212,columnNumber:23},this),e.jsxDEV("div",{className:"text-xs text-gray-500 capitalize",children:s?.role?.toLowerCase()},void 0,!1,{fileName:"/app/code/frontend/src/components/layout/Navbar.tsx",lineNumber:215,columnNumber:23},this)]},void 0,!0,{fileName:"/app/code/frontend/src/components/layout/Navbar.tsx",lineNumber:211,columnNumber:21},this)]},void 0,!0,{fileName:"/app/code/frontend/src/components/layout/Navbar.tsx",lineNumber:207,columnNumber:19},this),e.jsxDEV("button",{onClick:l,className:"flex items-center gap-3 w-full px-3 py-2 text-base font-medium text-red-600 hover:bg-red-50 rounded-md transition-colors",children:[e.jsxDEV(zs,{className:"w-5 h-5"},void 0,!1,{fileName:"/app/code/frontend/src/components/layout/Navbar.tsx",lineNumber:225,columnNumber:21},this),"Logout"]},void 0,!0,{fileName:"/app/code/frontend/src/components/layout/Navbar.tsx",lineNumber:221,columnNumber:19},this)]},void 0,!0,{fileName:"/app/code/frontend/src/components/layout/Navbar.tsx",lineNumber:206,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/frontend/src/components/layout/Navbar.tsx",lineNumber:195,columnNumber:15},this):e.jsxDEV("div",{className:"px-3 py-3 border-t border-gray-200 mt-2 space-y-2",children:[e.jsxDEV(B,{to:"/login",className:"block w-full text-center px-4 py-3 text-base font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",onClick:c,children:"Login"},void 0,!1,{fileName:"/app/code/frontend/src/components/layout/Navbar.tsx",lineNumber:232,columnNumber:17},this),e.jsxDEV(B,{to:"/register",className:"block w-full text-center px-4 py-3 text-base font-medium text-white bg-primary-600 hover:bg-primary-700 rounded-lg transition-colors",onClick:c,children:"Register"},void 0,!1,{fileName:"/app/code/frontend/src/components/layout/Navbar.tsx",lineNumber:239,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/frontend/src/components/layout/Navbar.tsx",lineNumber:231,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/frontend/src/components/layout/Navbar.tsx",lineNumber:175,columnNumber:11},this)},void 0,!1,{fileName:"/app/code/frontend/src/components/layout/Navbar.tsx",lineNumber:174,columnNumber:9},this)]},void 0,!0,{fileName:"/app/code/frontend/src/components/layout/Navbar.tsx",lineNumber:48,columnNumber:5},this)}function rl(){const{isAuthenticated:r,user:s}=ee(),{cart:t}=ar(),a=Ft(),i=(()=>{const l=[{path:"/",icon:Ot,label:"Home",show:!0},{path:"/marketplace",icon:Tt,label:"Shop",show:!0}];if(!r)return[...l,{path:"/cart",icon:Ge,label:"Cart",badge:t?.totalItems||0,show:!0},{path:"/login",icon:De,label:"Login",show:!0}];switch(s?.role){case"CUSTOMER":return[...l,{path:"/cart",icon:Ge,label:"Cart",badge:t?.totalItems||0,show:!0},{path:"/customer/dashboard",icon:De,label:"Account",show:!0}];case"FARMER":return[...l,{path:"/farmer/consignments",icon:jr,label:"Consign",show:!0},{path:"/farmer/wallet",icon:De,label:"Wallet",show:!0}];case"DRIVER":return[...l,{path:"/driver/assignments",icon:re,label:"Transport",show:!0},{path:"/driver/warehouse",icon:De,label:"Warehouse",show:!0}];case"ADMIN":return[...l,{path:"/admin/consignments",icon:jr,label:"Consign",show:!0},{path:"/admin/analytics",icon:js,label:"Analytics",show:!0}];default:return l}})().filter(l=>l.show),o=l=>!!(l==="/"&&a.pathname==="/"||l!=="/"&&a.pathname.startsWith(l));return e.jsxDEV("div",{className:"md:hidden fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 z-50",children:[e.jsxDEV("div",{className:"grid grid-cols-4 py-1",children:i.map(l=>{const u=l.icon,c=o(l.path);return e.jsxDEV(B,{to:l.path,className:`flex flex-col items-center justify-center py-2 px-1 text-xs font-medium transition-colors ${c?"text-primary-600":"text-gray-500 hover:text-gray-700"}`,children:[e.jsxDEV("div",{className:"relative",children:[e.jsxDEV(u,{className:`w-5 h-5 ${c?"text-primary-600":"text-gray-500"}`},void 0,!1,{fileName:"/app/code/frontend/src/components/layout/MobileBottomNav.tsx",lineNumber:164,columnNumber:17},this),"badge"in l&&l.badge&&l.badge>0&&e.jsxDEV("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full h-4 w-4 flex items-center justify-center min-w-[16px]",children:l.badge>99?"99+":l.badge},void 0,!1,{fileName:"/app/code/frontend/src/components/layout/MobileBottomNav.tsx",lineNumber:168,columnNumber:19},this)]},void 0,!0,{fileName:"/app/code/frontend/src/components/layout/MobileBottomNav.tsx",lineNumber:163,columnNumber:15},this),e.jsxDEV("span",{className:`mt-1 ${c?"text-primary-600":"text-gray-500"}`,children:l.label},void 0,!1,{fileName:"/app/code/frontend/src/components/layout/MobileBottomNav.tsx",lineNumber:173,columnNumber:15},this)]},l.path,!0,{fileName:"/app/code/frontend/src/components/layout/MobileBottomNav.tsx",lineNumber:154,columnNumber:13},this)})},void 0,!1,{fileName:"/app/code/frontend/src/components/layout/MobileBottomNav.tsx",lineNumber:148,columnNumber:7},this),e.jsxDEV("div",{className:"h-safe-bottom bg-white"},void 0,!1,{fileName:"/app/code/frontend/src/components/layout/MobileBottomNav.tsx",lineNumber:184,columnNumber:7},this)]},void 0,!0,{fileName:"/app/code/frontend/src/components/layout/MobileBottomNav.tsx",lineNumber:147,columnNumber:5},this)}function sl(){const{isAuthenticated:r,user:s}=ee(),[t,a]=k.useState(!1),n=[{icon:e.jsxDEV(cs,{className:"w-8 h-8 text-primary-600"},void 0,!1,{fileName:"/app/code/frontend/src/pages/HomePage.tsx",lineNumber:21,columnNumber:13},this),title:"Fresh Produce",description:"Direct from farmers to your table, ensuring maximum freshness and quality."},{icon:e.jsxDEV(Ae,{className:"w-8 h-8 text-primary-600"},void 0,!1,{fileName:"/app/code/frontend/src/pages/HomePage.tsx",lineNumber:27,columnNumber:13},this),title:"Support Farmers",description:"Help local farmers get fair prices for their hard work and dedication."},{icon:e.jsxDEV(re,{className:"w-8 h-8 text-primary-600"},void 0,!1,{fileName:"/app/code/frontend/src/pages/HomePage.tsx",lineNumber:33,columnNumber:13},this),title:"Fast Delivery",description:"Quick and reliable delivery service to get your orders to you fresh."},{icon:e.jsxDEV(Vs,{className:"w-8 h-8 text-primary-600"},void 0,!1,{fileName:"/app/code/frontend/src/pages/HomePage.tsx",lineNumber:39,columnNumber:13},this),title:"Quality Assured",description:"All produce is quality-checked before delivery to ensure satisfaction."}],i=[{role:"Admin",phone:"+254712345678",description:"Manage users, approve farmers, view analytics",icon:e.jsxDEV(Ye,{className:"w-5 h-5"},void 0,!1,{fileName:"/app/code/frontend/src/pages/HomePage.tsx",lineNumber:51,columnNumber:13},this),color:"bg-red-100 text-red-800 border-red-200"},{role:"Farmer",phone:"+254734567890",description:"Create consignments, manage produce listings",icon:e.jsxDEV(cs,{className:"w-5 h-5"},void 0,!1,{fileName:"/app/code/frontend/src/pages/HomePage.tsx",lineNumber:58,columnNumber:13},this),color:"bg-green-100 text-green-800 border-green-200"},{role:"Customer",phone:"+254756789012",description:"Browse marketplace, place orders, track deliveries",icon:e.jsxDEV(Ae,{className:"w-5 h-5"},void 0,!1,{fileName:"/app/code/frontend/src/pages/HomePage.tsx",lineNumber:65,columnNumber:13},this),color:"bg-blue-100 text-blue-800 border-blue-200"},{role:"Driver",phone:"+254778901234",description:"Manage deliveries, update delivery status",icon:e.jsxDEV(re,{className:"w-5 h-5"},void 0,!1,{fileName:"/app/code/frontend/src/pages/HomePage.tsx",lineNumber:72,columnNumber:13},this),color:"bg-purple-100 text-purple-800 border-purple-200"}],o=()=>{switch(s?.role){case"FARMER":return"/farmer/dashboard";case"CUSTOMER":return"/customer/dashboard";case"ADMIN":return"/admin/dashboard";case"DRIVER":return"/driver/dashboard";default:return"/marketplace"}};return e.jsxDEV("div",{className:"min-h-screen bg-white",children:[e.jsxDEV("section",{className:"bg-gradient-to-br from-primary-50 to-primary-100 py-20",children:e.jsxDEV("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxDEV("div",{className:"text-center",children:[e.jsxDEV("h1",{className:"text-4xl md:text-6xl font-bold text-gray-900 mb-6",children:["Welcome to ",e.jsxDEV("span",{className:"text-primary-600",children:"Zuasoko"},void 0,!1,{fileName:"/app/code/frontend/src/pages/HomePage.tsx",lineNumber:99,columnNumber:26},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/HomePage.tsx",lineNumber:98,columnNumber:13},this),e.jsxDEV("p",{className:"text-xl md:text-2xl text-gray-600 mb-8 max-w-3xl mx-auto",children:"Connecting farmers and customers across Kenya. Fresh produce, fair prices, and sustainable agriculture for everyone."},void 0,!1,{fileName:"/app/code/frontend/src/pages/HomePage.tsx",lineNumber:101,columnNumber:13},this),e.jsxDEV("div",{className:"flex flex-col sm:flex-row gap-4 justify-center mb-8",children:r?e.jsxDEV(B,{to:o(),className:"bg-primary-600 text-white px-8 py-3 rounded-lg text-lg font-semibold hover:bg-primary-700 transition-colors",children:"Go to Dashboard"},void 0,!1,{fileName:"/app/code/frontend/src/pages/HomePage.tsx",lineNumber:108,columnNumber:17},this):e.jsxDEV(e.Fragment,{children:[e.jsxDEV(B,{to:"/marketplace",className:"bg-primary-600 text-white px-8 py-3 rounded-lg text-lg font-semibold hover:bg-primary-700 transition-colors",children:"Browse Marketplace"},void 0,!1,{fileName:"/app/code/frontend/src/pages/HomePage.tsx",lineNumber:116,columnNumber:19},this),e.jsxDEV(B,{to:"/register",className:"bg-white text-primary-600 px-8 py-3 rounded-lg text-lg font-semibold border-2 border-primary-600 hover:bg-primary-50 transition-colors",children:"Join Now"},void 0,!1,{fileName:"/app/code/frontend/src/pages/HomePage.tsx",lineNumber:122,columnNumber:19},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/HomePage.tsx",lineNumber:115,columnNumber:17},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/HomePage.tsx",lineNumber:106,columnNumber:13},this),!r&&e.jsxDEV("div",{className:"max-w-2xl mx-auto",children:[e.jsxDEV("button",{onClick:()=>a(!t),className:"flex items-center justify-center gap-2 mx-auto text-sm text-gray-600 hover:text-gray-800 transition-colors",children:[e.jsxDEV(Xa,{className:"w-4 h-4"},void 0,!1,{fileName:"/app/code/frontend/src/pages/HomePage.tsx",lineNumber:139,columnNumber:19},this),e.jsxDEV("span",{children:"View Demo Credentials"},void 0,!1,{fileName:"/app/code/frontend/src/pages/HomePage.tsx",lineNumber:140,columnNumber:19},this),t?e.jsxDEV(Ya,{className:"w-4 h-4"},void 0,!1,{fileName:"/app/code/frontend/src/pages/HomePage.tsx",lineNumber:142,columnNumber:21},this):e.jsxDEV(Za,{className:"w-4 h-4"},void 0,!1,{fileName:"/app/code/frontend/src/pages/HomePage.tsx",lineNumber:144,columnNumber:21},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/HomePage.tsx",lineNumber:135,columnNumber:17},this),t&&e.jsxDEV("div",{className:"mt-4 p-4 bg-white rounded-lg border border-gray-200 shadow-sm",children:[e.jsxDEV("h3",{className:"text-sm font-semibold text-gray-900 mb-3 text-center",children:"Demo Account Access"},void 0,!1,{fileName:"/app/code/frontend/src/pages/HomePage.tsx",lineNumber:150,columnNumber:21},this),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:i.map((l,u)=>e.jsxDEV("div",{className:`p-3 rounded-lg border ${l.color} text-xs`,children:[e.jsxDEV("div",{className:"flex items-center gap-2 mb-1",children:[l.icon,e.jsxDEV("span",{className:"font-semibold",children:l.role},void 0,!1,{fileName:"/app/code/frontend/src/pages/HomePage.tsx",lineNumber:161,columnNumber:29},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/HomePage.tsx",lineNumber:159,columnNumber:27},this),e.jsxDEV("div",{className:"font-mono text-xs mb-1",children:l.phone},void 0,!1,{fileName:"/app/code/frontend/src/pages/HomePage.tsx",lineNumber:165,columnNumber:27},this),e.jsxDEV("div",{className:"text-xs opacity-80",children:l.description},void 0,!1,{fileName:"/app/code/frontend/src/pages/HomePage.tsx",lineNumber:168,columnNumber:27},this)]},u,!0,{fileName:"/app/code/frontend/src/pages/HomePage.tsx",lineNumber:155,columnNumber:25},this))},void 0,!1,{fileName:"/app/code/frontend/src/pages/HomePage.tsx",lineNumber:153,columnNumber:21},this),e.jsxDEV("div",{className:"text-center mt-3 text-xs text-gray-600",children:["Password for all accounts:"," ",e.jsxDEV("span",{className:"font-mono font-semibold",children:"password123"},void 0,!1,{fileName:"/app/code/frontend/src/pages/HomePage.tsx",lineNumber:176,columnNumber:23},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/HomePage.tsx",lineNumber:174,columnNumber:21},this),e.jsxDEV("div",{className:"text-center mt-2",children:e.jsxDEV(B,{to:"/login",className:"inline-flex items-center gap-1 text-xs text-primary-600 hover:text-primary-700 font-medium",children:[e.jsxDEV(Ye,{className:"w-3 h-3"},void 0,!1,{fileName:"/app/code/frontend/src/pages/HomePage.tsx",lineNumber:185,columnNumber:25},this),"Login to any demo account"]},void 0,!0,{fileName:"/app/code/frontend/src/pages/HomePage.tsx",lineNumber:181,columnNumber:23},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/HomePage.tsx",lineNumber:180,columnNumber:21},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/HomePage.tsx",lineNumber:149,columnNumber:19},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/HomePage.tsx",lineNumber:134,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/HomePage.tsx",lineNumber:97,columnNumber:11},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/HomePage.tsx",lineNumber:96,columnNumber:9},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/HomePage.tsx",lineNumber:95,columnNumber:7},this),e.jsxDEV("section",{className:"py-20",children:e.jsxDEV("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxDEV("div",{className:"text-center mb-16",children:[e.jsxDEV("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Why Choose Zuasoko?"},void 0,!1,{fileName:"/app/code/frontend/src/pages/HomePage.tsx",lineNumber:201,columnNumber:13},this),e.jsxDEV("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"We're revolutionizing agriculture in Kenya by creating direct connections between farmers and customers."},void 0,!1,{fileName:"/app/code/frontend/src/pages/HomePage.tsx",lineNumber:204,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/HomePage.tsx",lineNumber:200,columnNumber:11},this),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:n.map((l,u)=>e.jsxDEV("div",{className:"text-center p-6 rounded-lg border border-gray-200 hover:shadow-lg transition-shadow",children:[e.jsxDEV("div",{className:"flex justify-center mb-4",children:l.icon},void 0,!1,{fileName:"/app/code/frontend/src/pages/HomePage.tsx",lineNumber:216,columnNumber:17},this),e.jsxDEV("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:l.title},void 0,!1,{fileName:"/app/code/frontend/src/pages/HomePage.tsx",lineNumber:217,columnNumber:17},this),e.jsxDEV("p",{className:"text-gray-600",children:l.description},void 0,!1,{fileName:"/app/code/frontend/src/pages/HomePage.tsx",lineNumber:220,columnNumber:17},this)]},u,!0,{fileName:"/app/code/frontend/src/pages/HomePage.tsx",lineNumber:212,columnNumber:15},this))},void 0,!1,{fileName:"/app/code/frontend/src/pages/HomePage.tsx",lineNumber:210,columnNumber:11},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/HomePage.tsx",lineNumber:199,columnNumber:9},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/HomePage.tsx",lineNumber:198,columnNumber:7},this),r&&s?.role==="ADMIN"&&e.jsxDEV("section",{className:"bg-red-50 py-12",children:e.jsxDEV("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxDEV("div",{className:"text-center",children:[e.jsxDEV("div",{className:"inline-flex items-center gap-2 mb-4",children:[e.jsxDEV(Ye,{className:"w-6 h-6 text-red-600"},void 0,!1,{fileName:"/app/code/frontend/src/pages/HomePage.tsx",lineNumber:233,columnNumber:17},this),e.jsxDEV("h2",{className:"text-2xl font-bold text-gray-900",children:"Admin Dashboard"},void 0,!1,{fileName:"/app/code/frontend/src/pages/HomePage.tsx",lineNumber:234,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/HomePage.tsx",lineNumber:232,columnNumber:15},this),e.jsxDEV("p",{className:"text-gray-600 mb-6",children:"Welcome back, Administrator. Manage your platform efficiently."},void 0,!1,{fileName:"/app/code/frontend/src/pages/HomePage.tsx",lineNumber:238,columnNumber:15},this),e.jsxDEV("div",{className:"flex flex-wrap justify-center gap-4",children:[e.jsxDEV(B,{to:"/admin/dashboard",className:"bg-red-600 text-white px-6 py-2 rounded-lg font-medium hover:bg-red-700 transition-colors",children:"View Dashboard"},void 0,!1,{fileName:"/app/code/frontend/src/pages/HomePage.tsx",lineNumber:242,columnNumber:17},this),e.jsxDEV(B,{to:"/admin/users",className:"bg-white text-red-600 px-6 py-2 rounded-lg font-medium border border-red-600 hover:bg-red-50 transition-colors",children:"Manage Users"},void 0,!1,{fileName:"/app/code/frontend/src/pages/HomePage.tsx",lineNumber:248,columnNumber:17},this),e.jsxDEV(B,{to:"/admin/analytics",className:"bg-white text-red-600 px-6 py-2 rounded-lg font-medium border border-red-600 hover:bg-red-50 transition-colors",children:"View Analytics"},void 0,!1,{fileName:"/app/code/frontend/src/pages/HomePage.tsx",lineNumber:254,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/HomePage.tsx",lineNumber:241,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/HomePage.tsx",lineNumber:231,columnNumber:13},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/HomePage.tsx",lineNumber:230,columnNumber:11},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/HomePage.tsx",lineNumber:229,columnNumber:9},this),e.jsxDEV("section",{className:"bg-primary-600 py-16",children:e.jsxDEV("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[e.jsxDEV("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-4",children:"Ready to Get Started?"},void 0,!1,{fileName:"/app/code/frontend/src/pages/HomePage.tsx",lineNumber:269,columnNumber:11},this),e.jsxDEV("p",{className:"text-xl text-primary-100 mb-8 max-w-2xl mx-auto",children:"Join thousands of farmers and customers who are already part of the Zuasoko community."},void 0,!1,{fileName:"/app/code/frontend/src/pages/HomePage.tsx",lineNumber:272,columnNumber:11},this),!r&&e.jsxDEV("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[e.jsxDEV(B,{to:"/register",className:"bg-white text-primary-600 px-8 py-3 rounded-lg text-lg font-semibold hover:bg-gray-100 transition-colors",children:"Register Now"},void 0,!1,{fileName:"/app/code/frontend/src/pages/HomePage.tsx",lineNumber:279,columnNumber:15},this),e.jsxDEV(B,{to:"/login",className:"bg-transparent text-white px-8 py-3 rounded-lg text-lg font-semibold border-2 border-white hover:bg-white hover:text-primary-600 transition-colors",children:"Login"},void 0,!1,{fileName:"/app/code/frontend/src/pages/HomePage.tsx",lineNumber:285,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/HomePage.tsx",lineNumber:278,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/HomePage.tsx",lineNumber:268,columnNumber:9},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/HomePage.tsx",lineNumber:267,columnNumber:7},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/HomePage.tsx",lineNumber:93,columnNumber:5},this)}function tl(){const[r,s]=k.useState([]),[t,a]=k.useState([]),[n,i]=k.useState([]),[o,l]=k.useState(!0),[u,c]=k.useState({category:"",county:"",search:"",minPrice:"",maxPrice:"",featured:!1}),[d,m]=k.useState(!1),[p,b]=k.useState({page:1,limit:12,total:0,totalPages:0}),{addToCart:N,isLoading:v}=ar(),{user:y,isAuthenticated:h}=ee(),x=async(S=1)=>{try{l(!0);const E=new URLSearchParams({page:S.toString(),limit:p.limit.toString(),...u.category&&{category:u.category},...u.county&&{county:u.county},...u.search&&{search:u.search},...u.minPrice&&{minPrice:u.minPrice},...u.maxPrice&&{maxPrice:u.maxPrice},...u.featured&&{featured:"true"}}),g=await _.get(`/api/marketplace/products?${E}`);s(g.data.products||g.data),g.data.pagination&&b(I=>({...I,...g.data.pagination,page:S}))}catch(E){console.error("Failed to fetch products:",E),R.error("Failed to load products")}finally{l(!1)}},M=async()=>{try{const[S,E]=await Promise.all([_.get("/api/marketplace/categories"),_.get("/api/marketplace/counties")]);a(S.data||[]),i(E.data||[])}catch(S){console.error("Failed to fetch metadata:",S)}};k.useEffect(()=>{M()},[]),k.useEffect(()=>{x(1)},[u]);const V=(S,E)=>{c(g=>({...g,[S]:E}))},C=S=>{try{N(S,1),R.success(`Added ${S.name} to cart`)}catch(E){console.error("Failed to add to cart:",E),R.error("Failed to add item to cart")}},P=()=>{c({category:"",county:"",search:"",minPrice:"",maxPrice:"",featured:!1})},A=S=>new Intl.NumberFormat("en-KE",{style:"currency",currency:"KES",minimumFractionDigits:0}).format(S);return e.jsxDEV("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxDEV("div",{className:"mb-8",children:[e.jsxDEV("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Fresh Marketplace"},void 0,!1,{fileName:"/app/code/frontend/src/pages/marketplace/MarketplacePage.tsx",lineNumber:171,columnNumber:9},this),e.jsxDEV("p",{className:"text-gray-600",children:"Discover fresh produce directly from local farmers"},void 0,!1,{fileName:"/app/code/frontend/src/pages/marketplace/MarketplacePage.tsx",lineNumber:174,columnNumber:9},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/marketplace/MarketplacePage.tsx",lineNumber:170,columnNumber:7},this),e.jsxDEV("div",{className:"bg-white rounded-lg shadow-sm border p-6 mb-8",children:[e.jsxDEV("div",{className:"flex flex-col lg:flex-row lg:items-center lg:space-x-4 space-y-4 lg:space-y-0",children:[e.jsxDEV("div",{className:"flex-1",children:e.jsxDEV("div",{className:"relative",children:[e.jsxDEV(It,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"},void 0,!1,{fileName:"/app/code/frontend/src/pages/marketplace/MarketplacePage.tsx",lineNumber:185,columnNumber:15},this),e.jsxDEV("input",{type:"text",placeholder:"Search products...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",value:u.search,onChange:S=>V("search",S.target.value)},void 0,!1,{fileName:"/app/code/frontend/src/pages/marketplace/MarketplacePage.tsx",lineNumber:186,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/marketplace/MarketplacePage.tsx",lineNumber:184,columnNumber:13},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/marketplace/MarketplacePage.tsx",lineNumber:183,columnNumber:11},this),e.jsxDEV("div",{className:"flex flex-wrap gap-2",children:[e.jsxDEV("button",{onClick:()=>V("featured",!u.featured),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${u.featured?"bg-primary-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[e.jsxDEV(Vs,{className:`w-4 h-4 inline mr-1 ${u.featured?"fill-current":""}`},void 0,!1,{fileName:"/app/code/frontend/src/pages/marketplace/MarketplacePage.tsx",lineNumber:206,columnNumber:15},this),"Featured"]},void 0,!0,{fileName:"/app/code/frontend/src/pages/marketplace/MarketplacePage.tsx",lineNumber:198,columnNumber:13},this),e.jsxDEV("button",{onClick:()=>m(!d),className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 text-sm font-medium transition-colors",children:[e.jsxDEV(en,{className:"w-4 h-4 inline mr-1"},void 0,!1,{fileName:"/app/code/frontend/src/pages/marketplace/MarketplacePage.tsx",lineNumber:216,columnNumber:15},this),"Filters"]},void 0,!0,{fileName:"/app/code/frontend/src/pages/marketplace/MarketplacePage.tsx",lineNumber:212,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/marketplace/MarketplacePage.tsx",lineNumber:197,columnNumber:11},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/marketplace/MarketplacePage.tsx",lineNumber:181,columnNumber:9},this),d&&e.jsxDEV("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"},void 0,!1,{fileName:"/app/code/frontend/src/pages/marketplace/MarketplacePage.tsx",lineNumber:228,columnNumber:17},this),e.jsxDEV("select",{className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-primary-500",value:u.category,onChange:S=>V("category",S.target.value),children:[e.jsxDEV("option",{value:"",children:"All Categories"},void 0,!1,{fileName:"/app/code/frontend/src/pages/marketplace/MarketplacePage.tsx",lineNumber:238,columnNumber:19},this),t.map(S=>e.jsxDEV("option",{value:S,children:S},S,!1,{fileName:"/app/code/frontend/src/pages/marketplace/MarketplacePage.tsx",lineNumber:240,columnNumber:21},this))]},void 0,!0,{fileName:"/app/code/frontend/src/pages/marketplace/MarketplacePage.tsx",lineNumber:231,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/marketplace/MarketplacePage.tsx",lineNumber:227,columnNumber:15},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"County"},void 0,!1,{fileName:"/app/code/frontend/src/pages/marketplace/MarketplacePage.tsx",lineNumber:249,columnNumber:17},this),e.jsxDEV("select",{className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-primary-500",value:u.county,onChange:S=>V("county",S.target.value),children:[e.jsxDEV("option",{value:"",children:"All Counties"},void 0,!1,{fileName:"/app/code/frontend/src/pages/marketplace/MarketplacePage.tsx",lineNumber:257,columnNumber:19},this),n.map(S=>e.jsxDEV("option",{value:S,children:S},S,!1,{fileName:"/app/code/frontend/src/pages/marketplace/MarketplacePage.tsx",lineNumber:259,columnNumber:21},this))]},void 0,!0,{fileName:"/app/code/frontend/src/pages/marketplace/MarketplacePage.tsx",lineNumber:252,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/marketplace/MarketplacePage.tsx",lineNumber:248,columnNumber:15},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Min Price (KES)"},void 0,!1,{fileName:"/app/code/frontend/src/pages/marketplace/MarketplacePage.tsx",lineNumber:268,columnNumber:17},this),e.jsxDEV("input",{type:"number",placeholder:"0",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-primary-500",value:u.minPrice,onChange:S=>V("minPrice",S.target.value)},void 0,!1,{fileName:"/app/code/frontend/src/pages/marketplace/MarketplacePage.tsx",lineNumber:271,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/marketplace/MarketplacePage.tsx",lineNumber:267,columnNumber:15},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Price (KES)"},void 0,!1,{fileName:"/app/code/frontend/src/pages/marketplace/MarketplacePage.tsx",lineNumber:283,columnNumber:17},this),e.jsxDEV("input",{type:"number",placeholder:"1000",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-primary-500",value:u.maxPrice,onChange:S=>V("maxPrice",S.target.value)},void 0,!1,{fileName:"/app/code/frontend/src/pages/marketplace/MarketplacePage.tsx",lineNumber:286,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/marketplace/MarketplacePage.tsx",lineNumber:282,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/marketplace/MarketplacePage.tsx",lineNumber:225,columnNumber:13},this),e.jsxDEV("div",{className:"mt-4 flex justify-end",children:e.jsxDEV("button",{onClick:P,className:"text-gray-600 hover:text-gray-900 text-sm font-medium",children:"Clear All Filters"},void 0,!1,{fileName:"/app/code/frontend/src/pages/marketplace/MarketplacePage.tsx",lineNumber:299,columnNumber:15},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/marketplace/MarketplacePage.tsx",lineNumber:298,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/marketplace/MarketplacePage.tsx",lineNumber:224,columnNumber:11},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/marketplace/MarketplacePage.tsx",lineNumber:180,columnNumber:7},this),e.jsxDEV("div",{className:"flex justify-between items-center mb-6",children:[e.jsxDEV("p",{className:"text-gray-600",children:o?"Loading...":`Showing ${r.length} of ${p.total} products`},void 0,!1,{fileName:"/app/code/frontend/src/pages/marketplace/MarketplacePage.tsx",lineNumber:312,columnNumber:9},this),p.totalPages>1&&e.jsxDEV("div",{className:"text-sm text-gray-600",children:["Page ",p.page," of ",p.totalPages]},void 0,!0,{fileName:"/app/code/frontend/src/pages/marketplace/MarketplacePage.tsx",lineNumber:319,columnNumber:11},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/marketplace/MarketplacePage.tsx",lineNumber:311,columnNumber:7},this),o?e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:[...Array(8)].map((S,E)=>e.jsxDEV("div",{className:"bg-white rounded-lg shadow-sm border overflow-hidden animate-pulse",children:[e.jsxDEV("div",{className:"h-48 bg-gray-200"},void 0,!1,{fileName:"/app/code/frontend/src/pages/marketplace/MarketplacePage.tsx",lineNumber:333,columnNumber:15},this),e.jsxDEV("div",{className:"p-4",children:[e.jsxDEV("div",{className:"h-4 bg-gray-200 rounded mb-2"},void 0,!1,{fileName:"/app/code/frontend/src/pages/marketplace/MarketplacePage.tsx",lineNumber:335,columnNumber:17},this),e.jsxDEV("div",{className:"h-3 bg-gray-200 rounded mb-2"},void 0,!1,{fileName:"/app/code/frontend/src/pages/marketplace/MarketplacePage.tsx",lineNumber:336,columnNumber:17},this),e.jsxDEV("div",{className:"h-6 bg-gray-200 rounded"},void 0,!1,{fileName:"/app/code/frontend/src/pages/marketplace/MarketplacePage.tsx",lineNumber:337,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/marketplace/MarketplacePage.tsx",lineNumber:334,columnNumber:15},this)]},E,!0,{fileName:"/app/code/frontend/src/pages/marketplace/MarketplacePage.tsx",lineNumber:329,columnNumber:13},this))},void 0,!1,{fileName:"/app/code/frontend/src/pages/marketplace/MarketplacePage.tsx",lineNumber:327,columnNumber:9},this):r.length===0?e.jsxDEV("div",{className:"text-center py-16",children:[e.jsxDEV("div",{className:"text-gray-400 text-6xl mb-4",children:"🛒"},void 0,!1,{fileName:"/app/code/frontend/src/pages/marketplace/MarketplacePage.tsx",lineNumber:344,columnNumber:11},this),e.jsxDEV("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No products found"},void 0,!1,{fileName:"/app/code/frontend/src/pages/marketplace/MarketplacePage.tsx",lineNumber:345,columnNumber:11},this),e.jsxDEV("p",{className:"text-gray-600 mb-6",children:"Try adjusting your search or filter criteria"},void 0,!1,{fileName:"/app/code/frontend/src/pages/marketplace/MarketplacePage.tsx",lineNumber:348,columnNumber:11},this),e.jsxDEV("button",{onClick:P,className:"bg-primary-600 text-white px-6 py-3 rounded-lg hover:bg-primary-700 transition-colors",children:"Clear Filters"},void 0,!1,{fileName:"/app/code/frontend/src/pages/marketplace/MarketplacePage.tsx",lineNumber:351,columnNumber:11},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/marketplace/MarketplacePage.tsx",lineNumber:343,columnNumber:9},this):e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:r.map(S=>e.jsxDEV("div",{className:"bg-white rounded-lg shadow-sm border overflow-hidden hover:shadow-md transition-shadow",children:[e.jsxDEV("div",{className:"relative h-48 bg-gray-200",children:[S.images&&S.images.length>0?e.jsxDEV("img",{src:S.images[0],alt:S.name,className:"w-full h-full object-cover",onError:E=>{E.currentTarget.src="/api/placeholder/300/200?text="+encodeURIComponent(S.name)}},void 0,!1,{fileName:"/app/code/frontend/src/pages/marketplace/MarketplacePage.tsx",lineNumber:368,columnNumber:19},this):e.jsxDEV("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:e.jsxDEV("div",{className:"text-center",children:[e.jsxDEV(_e,{className:"w-8 h-8 mx-auto mb-2"},void 0,!1,{fileName:"/app/code/frontend/src/pages/marketplace/MarketplacePage.tsx",lineNumber:381,columnNumber:23},this),e.jsxDEV("span",{className:"text-sm",children:S.name},void 0,!1,{fileName:"/app/code/frontend/src/pages/marketplace/MarketplacePage.tsx",lineNumber:382,columnNumber:23},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/marketplace/MarketplacePage.tsx",lineNumber:380,columnNumber:21},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/marketplace/MarketplacePage.tsx",lineNumber:379,columnNumber:19},this),S.isFeatured&&e.jsxDEV("div",{className:"absolute top-2 left-2 bg-yellow-400 text-yellow-800 px-2 py-1 rounded-full text-xs font-medium",children:"⭐ Featured"},void 0,!1,{fileName:"/app/code/frontend/src/pages/marketplace/MarketplacePage.tsx",lineNumber:389,columnNumber:19},this),S.stockQuantity<10&&S.stockQuantity>0&&e.jsxDEV("div",{className:"absolute top-2 right-2 bg-orange-100 text-orange-800 px-2 py-1 rounded-full text-xs font-medium",children:"Low Stock"},void 0,!1,{fileName:"/app/code/frontend/src/pages/marketplace/MarketplacePage.tsx",lineNumber:396,columnNumber:19},this),S.stockQuantity===0&&e.jsxDEV("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center",children:e.jsxDEV("span",{className:"text-white font-medium",children:"Out of Stock"},void 0,!1,{fileName:"/app/code/frontend/src/pages/marketplace/MarketplacePage.tsx",lineNumber:403,columnNumber:21},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/marketplace/MarketplacePage.tsx",lineNumber:402,columnNumber:19},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/marketplace/MarketplacePage.tsx",lineNumber:366,columnNumber:15},this),e.jsxDEV("div",{className:"p-4",children:[e.jsxDEV("div",{className:"flex items-start justify-between mb-2",children:[e.jsxDEV("h3",{className:"font-semibold text-gray-900 text-sm line-clamp-2",children:S.name},void 0,!1,{fileName:"/app/code/frontend/src/pages/marketplace/MarketplacePage.tsx",lineNumber:411,columnNumber:19},this),e.jsxDEV("button",{className:"text-gray-400 hover:text-red-500 transition-colors ml-2",children:e.jsxDEV(Ps,{className:"w-4 h-4"},void 0,!1,{fileName:"/app/code/frontend/src/pages/marketplace/MarketplacePage.tsx",lineNumber:415,columnNumber:21},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/marketplace/MarketplacePage.tsx",lineNumber:414,columnNumber:19},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/marketplace/MarketplacePage.tsx",lineNumber:410,columnNumber:17},this),e.jsxDEV("p",{className:"text-gray-600 text-xs mb-2 line-clamp-2",children:S.description},void 0,!1,{fileName:"/app/code/frontend/src/pages/marketplace/MarketplacePage.tsx",lineNumber:419,columnNumber:17},this),e.jsxDEV("div",{className:"flex items-center text-xs text-gray-500 mb-3",children:[e.jsxDEV($e,{className:"w-3 h-3 mr-1"},void 0,!1,{fileName:"/app/code/frontend/src/pages/marketplace/MarketplacePage.tsx",lineNumber:424,columnNumber:19},this),e.jsxDEV("span",{children:S.farmer.county},void 0,!1,{fileName:"/app/code/frontend/src/pages/marketplace/MarketplacePage.tsx",lineNumber:425,columnNumber:19},this),e.jsxDEV("span",{className:"mx-2",children:"•"},void 0,!1,{fileName:"/app/code/frontend/src/pages/marketplace/MarketplacePage.tsx",lineNumber:426,columnNumber:19},this),e.jsxDEV("span",{children:[S.farmer.user.firstName," ",S.farmer.user.lastName]},void 0,!0,{fileName:"/app/code/frontend/src/pages/marketplace/MarketplacePage.tsx",lineNumber:427,columnNumber:19},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/marketplace/MarketplacePage.tsx",lineNumber:423,columnNumber:17},this),S.tags&&S.tags.length>0&&e.jsxDEV("div",{className:"flex flex-wrap gap-1 mb-3",children:S.tags.slice(0,3).map(E=>e.jsxDEV("span",{className:"bg-gray-100 text-gray-600 px-2 py-1 rounded-full text-xs",children:E},E,!1,{fileName:"/app/code/frontend/src/pages/marketplace/MarketplacePage.tsx",lineNumber:437,columnNumber:23},this))},void 0,!1,{fileName:"/app/code/frontend/src/pages/marketplace/MarketplacePage.tsx",lineNumber:435,columnNumber:19},this),e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{children:[e.jsxDEV("div",{className:"text-lg font-bold text-gray-900",children:A(S.pricePerUnit)},void 0,!1,{fileName:"/app/code/frontend/src/pages/marketplace/MarketplacePage.tsx",lineNumber:449,columnNumber:21},this),e.jsxDEV("div",{className:"text-xs text-gray-500",children:["per ",S.unit]},void 0,!0,{fileName:"/app/code/frontend/src/pages/marketplace/MarketplacePage.tsx",lineNumber:452,columnNumber:21},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/marketplace/MarketplacePage.tsx",lineNumber:448,columnNumber:19},this),e.jsxDEV("div",{className:"flex space-x-2",children:[e.jsxDEV(B,{to:`/marketplace/product/${S.id}`,className:"bg-gray-100 text-gray-700 px-2 py-2 rounded-lg hover:bg-gray-200 transition-colors text-sm font-medium flex items-center",children:e.jsxDEV(_e,{className:"w-4 h-4"},void 0,!1,{fileName:"/app/code/frontend/src/pages/marketplace/MarketplacePage.tsx",lineNumber:462,columnNumber:23},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/marketplace/MarketplacePage.tsx",lineNumber:458,columnNumber:21},this),S.stockQuantity>0?e.jsxDEV("button",{onClick:()=>C(S),disabled:v,className:"bg-primary-600 text-white px-3 py-2 rounded-lg hover:bg-primary-700 disabled:opacity-50 transition-colors text-sm font-medium flex items-center space-x-1",children:[e.jsxDEV(Ge,{className:"w-4 h-4"},void 0,!1,{fileName:"/app/code/frontend/src/pages/marketplace/MarketplacePage.tsx",lineNumber:471,columnNumber:25},this),e.jsxDEV("span",{children:"Add to Cart"},void 0,!1,{fileName:"/app/code/frontend/src/pages/marketplace/MarketplacePage.tsx",lineNumber:472,columnNumber:25},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/marketplace/MarketplacePage.tsx",lineNumber:466,columnNumber:23},this):e.jsxDEV("button",{disabled:!0,className:"bg-gray-300 text-gray-500 px-3 py-2 rounded-lg text-sm font-medium flex items-center space-x-1 cursor-not-allowed",children:e.jsxDEV("span",{children:"Out of Stock"},void 0,!1,{fileName:"/app/code/frontend/src/pages/marketplace/MarketplacePage.tsx",lineNumber:479,columnNumber:25},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/marketplace/MarketplacePage.tsx",lineNumber:475,columnNumber:23},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/marketplace/MarketplacePage.tsx",lineNumber:457,columnNumber:19},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/marketplace/MarketplacePage.tsx",lineNumber:447,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/marketplace/MarketplacePage.tsx",lineNumber:409,columnNumber:15},this)]},S.id,!0,{fileName:"/app/code/frontend/src/pages/marketplace/MarketplacePage.tsx",lineNumber:361,columnNumber:13},this))},void 0,!1,{fileName:"/app/code/frontend/src/pages/marketplace/MarketplacePage.tsx",lineNumber:359,columnNumber:9},this),p.totalPages>1&&e.jsxDEV("div",{className:"mt-8 flex justify-center",children:e.jsxDEV("div",{className:"flex space-x-1",children:[e.jsxDEV("button",{onClick:()=>x(p.page-1),disabled:p.page===1,className:"px-3 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"},void 0,!1,{fileName:"/app/code/frontend/src/pages/marketplace/MarketplacePage.tsx",lineNumber:494,columnNumber:13},this),[...Array(Math.min(5,p.totalPages))].map((S,E)=>{const g=Math.max(1,p.page-2)+E;return g>p.totalPages?null:e.jsxDEV("button",{onClick:()=>x(g),className:`px-3 py-2 text-sm font-medium border rounded-md ${g===p.page?"bg-primary-600 text-white border-primary-600":"text-gray-500 bg-white border-gray-300 hover:bg-gray-50"}`,children:g},g,!1,{fileName:"/app/code/frontend/src/pages/marketplace/MarketplacePage.tsx",lineNumber:507,columnNumber:17},this)}),e.jsxDEV("button",{onClick:()=>x(p.page+1),disabled:p.page===p.totalPages,className:"px-3 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"},void 0,!1,{fileName:"/app/code/frontend/src/pages/marketplace/MarketplacePage.tsx",lineNumber:521,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/marketplace/MarketplacePage.tsx",lineNumber:493,columnNumber:11},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/marketplace/MarketplacePage.tsx",lineNumber:492,columnNumber:9},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/marketplace/MarketplacePage.tsx",lineNumber:168,columnNumber:5},this)}function al(){const{id:r}=Ga(),s=Se(),[t,a]=k.useState(null),[n,i]=k.useState([]),[o,l]=k.useState(!0),[u,c]=k.useState(0),[d,m]=k.useState(1),[p,b]=k.useState(!1),{addToCart:N,isLoading:v}=ar(),{user:y,isAuthenticated:h}=ee();k.useEffect(()=>{r&&x()},[r]);const x=async()=>{try{l(!0);const g=await _.get(`/api/marketplace/products/${r}`),I=g.data.product||g.data;a(I),I&&M(I.category,I.farmer.county)}catch(g){console.error("Failed to fetch product:",g),g.response?.status===404?(R.error("Product not found"),s("/marketplace")):R.error("Failed to load product details")}finally{l(!1)}},M=async(g,I)=>{try{const q=await _.get(`/api/marketplace/products?category=${g}&county=${I}&limit=4`),L=q.data.products||q.data;i(L.filter(W=>W.id!==r))}catch(q){console.error("Failed to fetch related products:",q)}},V=async()=>{if(!h){R.error("Please login to add items to cart");return}if(y?.role!=="CUSTOMER"){R.error("Only customers can add items to cart");return}if(t)try{await N(t.id,d),m(1)}catch{}},C=async()=>{if(navigator.share)try{await navigator.share({title:t?.name,text:t?.description,url:window.location.href})}catch(g){console.log("Error sharing:",g)}else navigator.clipboard.writeText(window.location.href),R.success("Link copied to clipboard!")},P=g=>new Intl.NumberFormat("en-KE",{style:"currency",currency:"KES",minimumFractionDigits:0}).format(g),A=g=>new Date(g).toLocaleDateString("en-KE",{year:"numeric",month:"long",day:"numeric"}),S=()=>t?t.stockQuantity===0?{text:"Out of Stock",color:"text-red-600",bgColor:"bg-red-100"}:t.stockQuantity<=(t.minStockLevel||5)?{text:"Low Stock",color:"text-orange-600",bgColor:"bg-orange-100"}:{text:"In Stock",color:"text-green-600",bgColor:"bg-green-100"}:null;if(o)return e.jsxDEV("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxDEV("div",{className:"animate-pulse",children:[e.jsxDEV("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-8"},void 0,!1,{fileName:"/app/code/frontend/src/pages/marketplace/ProductPage.tsx",lineNumber:208,columnNumber:11},this),e.jsxDEV("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxDEV("div",{className:"h-96 bg-gray-200 rounded-lg"},void 0,!1,{fileName:"/app/code/frontend/src/pages/marketplace/ProductPage.tsx",lineNumber:210,columnNumber:13},this),e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("div",{className:"h-8 bg-gray-200 rounded w-3/4"},void 0,!1,{fileName:"/app/code/frontend/src/pages/marketplace/ProductPage.tsx",lineNumber:212,columnNumber:15},this),e.jsxDEV("div",{className:"h-4 bg-gray-200 rounded w-1/2"},void 0,!1,{fileName:"/app/code/frontend/src/pages/marketplace/ProductPage.tsx",lineNumber:213,columnNumber:15},this),e.jsxDEV("div",{className:"h-12 bg-gray-200 rounded w-1/3"},void 0,!1,{fileName:"/app/code/frontend/src/pages/marketplace/ProductPage.tsx",lineNumber:214,columnNumber:15},this),e.jsxDEV("div",{className:"h-32 bg-gray-200 rounded"},void 0,!1,{fileName:"/app/code/frontend/src/pages/marketplace/ProductPage.tsx",lineNumber:215,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/marketplace/ProductPage.tsx",lineNumber:211,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/marketplace/ProductPage.tsx",lineNumber:209,columnNumber:11},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/marketplace/ProductPage.tsx",lineNumber:207,columnNumber:9},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/marketplace/ProductPage.tsx",lineNumber:206,columnNumber:7},this);if(!t)return e.jsxDEV("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxDEV("div",{className:"text-center",children:[e.jsxDEV("h1",{className:"text-2xl font-bold text-gray-900",children:"Product not found"},void 0,!1,{fileName:"/app/code/frontend/src/pages/marketplace/ProductPage.tsx",lineNumber:227,columnNumber:11},this),e.jsxDEV(B,{to:"/marketplace",className:"text-primary-600 hover:text-primary-700 mt-4 inline-block",children:"Back to Marketplace"},void 0,!1,{fileName:"/app/code/frontend/src/pages/marketplace/ProductPage.tsx",lineNumber:230,columnNumber:11},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/marketplace/ProductPage.tsx",lineNumber:226,columnNumber:9},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/marketplace/ProductPage.tsx",lineNumber:225,columnNumber:7},this);const E=S();return e.jsxDEV("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxDEV("nav",{className:"flex items-center space-x-2 text-sm text-gray-600 mb-8",children:[e.jsxDEV(B,{to:"/marketplace",className:"hover:text-gray-900",children:"Marketplace"},void 0,!1,{fileName:"/app/code/frontend/src/pages/marketplace/ProductPage.tsx",lineNumber:247,columnNumber:9},this),e.jsxDEV("span",{children:"/"},void 0,!1,{fileName:"/app/code/frontend/src/pages/marketplace/ProductPage.tsx",lineNumber:250,columnNumber:9},this),e.jsxDEV("span",{className:"text-gray-900",children:t.name},void 0,!1,{fileName:"/app/code/frontend/src/pages/marketplace/ProductPage.tsx",lineNumber:251,columnNumber:9},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/marketplace/ProductPage.tsx",lineNumber:246,columnNumber:7},this),e.jsxDEV("button",{onClick:()=>s(-1),className:"flex items-center text-gray-600 hover:text-gray-900 mb-6",children:[e.jsxDEV(mr,{className:"w-4 h-4 mr-2"},void 0,!1,{fileName:"/app/code/frontend/src/pages/marketplace/ProductPage.tsx",lineNumber:259,columnNumber:9},this),"Back"]},void 0,!0,{fileName:"/app/code/frontend/src/pages/marketplace/ProductPage.tsx",lineNumber:255,columnNumber:7},this),e.jsxDEV("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-12",children:[e.jsxDEV("div",{children:[e.jsxDEV("div",{className:"aspect-square bg-gray-200 rounded-lg overflow-hidden mb-4",children:t.images&&t.images.length>0?e.jsxDEV("img",{src:t.images[u]||t.images[0],alt:t.name,className:"w-full h-full object-cover",onError:g=>{g.currentTarget.src="/api/placeholder/400/400?text="+encodeURIComponent(t.name)}},void 0,!1,{fileName:"/app/code/frontend/src/pages/marketplace/ProductPage.tsx",lineNumber:268,columnNumber:15},this):e.jsxDEV("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:e.jsxDEV("div",{className:"text-center",children:[e.jsxDEV("div",{className:"text-4xl mb-2",children:"📦"},void 0,!1,{fileName:"/app/code/frontend/src/pages/marketplace/ProductPage.tsx",lineNumber:281,columnNumber:19},this),e.jsxDEV("span",{children:t.name},void 0,!1,{fileName:"/app/code/frontend/src/pages/marketplace/ProductPage.tsx",lineNumber:282,columnNumber:19},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/marketplace/ProductPage.tsx",lineNumber:280,columnNumber:17},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/marketplace/ProductPage.tsx",lineNumber:279,columnNumber:15},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/marketplace/ProductPage.tsx",lineNumber:266,columnNumber:11},this),t.images&&t.images.length>1&&e.jsxDEV("div",{className:"grid grid-cols-4 gap-2",children:t.images.slice(0,4).map((g,I)=>e.jsxDEV("button",{onClick:()=>c(I),className:`aspect-square bg-gray-200 rounded-lg overflow-hidden border-2 ${u===I?"border-primary-600":"border-transparent"}`,children:e.jsxDEV("img",{src:g,alt:`${t.name} ${I+1}`,className:"w-full h-full object-cover",onError:q=>{q.currentTarget.src="/api/placeholder/100/100?text="+(I+1)}},void 0,!1,{fileName:"/app/code/frontend/src/pages/marketplace/ProductPage.tsx",lineNumber:301,columnNumber:19},this)},I,!1,{fileName:"/app/code/frontend/src/pages/marketplace/ProductPage.tsx",lineNumber:292,columnNumber:17},this))},void 0,!1,{fileName:"/app/code/frontend/src/pages/marketplace/ProductPage.tsx",lineNumber:290,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/marketplace/ProductPage.tsx",lineNumber:265,columnNumber:9},this),e.jsxDEV("div",{children:[e.jsxDEV("div",{className:"flex items-start justify-between mb-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:t.name},void 0,!1,{fileName:"/app/code/frontend/src/pages/marketplace/ProductPage.tsx",lineNumber:320,columnNumber:15},this),e.jsxDEV("p",{className:"text-gray-600",children:t.category},void 0,!1,{fileName:"/app/code/frontend/src/pages/marketplace/ProductPage.tsx",lineNumber:323,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/marketplace/ProductPage.tsx",lineNumber:319,columnNumber:13},this),e.jsxDEV("div",{className:"flex space-x-2",children:[e.jsxDEV("button",{onClick:C,className:"p-2 text-gray-400 hover:text-gray-600 border border-gray-300 rounded-lg",children:e.jsxDEV(rn,{className:"w-5 h-5"},void 0,!1,{fileName:"/app/code/frontend/src/pages/marketplace/ProductPage.tsx",lineNumber:331,columnNumber:17},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/marketplace/ProductPage.tsx",lineNumber:327,columnNumber:15},this),e.jsxDEV("button",{className:"p-2 text-gray-400 hover:text-red-500 border border-gray-300 rounded-lg",children:e.jsxDEV(Ps,{className:"w-5 h-5"},void 0,!1,{fileName:"/app/code/frontend/src/pages/marketplace/ProductPage.tsx",lineNumber:334,columnNumber:17},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/marketplace/ProductPage.tsx",lineNumber:333,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/marketplace/ProductPage.tsx",lineNumber:326,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/marketplace/ProductPage.tsx",lineNumber:318,columnNumber:11},this),e.jsxDEV("div",{className:"mb-6",children:[e.jsxDEV("div",{className:"text-3xl font-bold text-gray-900 mb-2",children:[P(t.pricePerUnit),e.jsxDEV("span",{className:"text-lg font-normal text-gray-600 ml-2",children:["per ",t.unit]},void 0,!0,{fileName:"/app/code/frontend/src/pages/marketplace/ProductPage.tsx",lineNumber:343,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/marketplace/ProductPage.tsx",lineNumber:341,columnNumber:13},this),E&&e.jsxDEV("div",{className:"flex items-center space-x-4",children:[e.jsxDEV("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${E.bgColor} ${E.color}`,children:E.text},void 0,!1,{fileName:"/app/code/frontend/src/pages/marketplace/ProductPage.tsx",lineNumber:350,columnNumber:17},this),e.jsxDEV("span",{className:"text-gray-600 text-sm",children:[t.stockQuantity," ",t.unit," available"]},void 0,!0,{fileName:"/app/code/frontend/src/pages/marketplace/ProductPage.tsx",lineNumber:355,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/marketplace/ProductPage.tsx",lineNumber:349,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/marketplace/ProductPage.tsx",lineNumber:340,columnNumber:11},this),e.jsxDEV("div",{className:"flex flex-wrap gap-2 mb-6",children:[t.isFeatured&&e.jsxDEV("span",{className:"bg-yellow-100 text-yellow-800 px-3 py-1 rounded-full text-sm font-medium",children:"⭐ Featured"},void 0,!1,{fileName:"/app/code/frontend/src/pages/marketplace/ProductPage.tsx",lineNumber:365,columnNumber:15},this),t.tags.map(g=>e.jsxDEV("span",{className:"bg-gray-100 text-gray-700 px-3 py-1 rounded-full text-sm",children:g},g,!1,{fileName:"/app/code/frontend/src/pages/marketplace/ProductPage.tsx",lineNumber:370,columnNumber:15},this))]},void 0,!0,{fileName:"/app/code/frontend/src/pages/marketplace/ProductPage.tsx",lineNumber:363,columnNumber:11},this),e.jsxDEV("div",{className:"mb-6",children:[e.jsxDEV("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Description"},void 0,!1,{fileName:"/app/code/frontend/src/pages/marketplace/ProductPage.tsx",lineNumber:381,columnNumber:13},this),e.jsxDEV("p",{className:"text-gray-700 leading-relaxed",children:t.description},void 0,!1,{fileName:"/app/code/frontend/src/pages/marketplace/ProductPage.tsx",lineNumber:384,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/marketplace/ProductPage.tsx",lineNumber:380,columnNumber:11},this),e.jsxDEV("div",{className:"grid grid-cols-2 gap-4 mb-6 p-4 bg-gray-50 rounded-lg",children:[t.harvestDate&&e.jsxDEV("div",{children:[e.jsxDEV("span",{className:"text-sm font-medium text-gray-600",children:"Harvest Date"},void 0,!1,{fileName:"/app/code/frontend/src/pages/marketplace/ProductPage.tsx",lineNumber:393,columnNumber:17},this),e.jsxDEV("p",{className:"text-gray-900",children:A(t.harvestDate)},void 0,!1,{fileName:"/app/code/frontend/src/pages/marketplace/ProductPage.tsx",lineNumber:396,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/marketplace/ProductPage.tsx",lineNumber:392,columnNumber:15},this),t.expiryDate&&e.jsxDEV("div",{children:[e.jsxDEV("span",{className:"text-sm font-medium text-gray-600",children:"Best Before"},void 0,!1,{fileName:"/app/code/frontend/src/pages/marketplace/ProductPage.tsx",lineNumber:403,columnNumber:17},this),e.jsxDEV("p",{className:"text-gray-900",children:A(t.expiryDate)},void 0,!1,{fileName:"/app/code/frontend/src/pages/marketplace/ProductPage.tsx",lineNumber:406,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/marketplace/ProductPage.tsx",lineNumber:402,columnNumber:15},this),e.jsxDEV("div",{children:[e.jsxDEV("span",{className:"text-sm font-medium text-gray-600",children:"Category"},void 0,!1,{fileName:"/app/code/frontend/src/pages/marketplace/ProductPage.tsx",lineNumber:412,columnNumber:15},this),e.jsxDEV("p",{className:"text-gray-900",children:t.category},void 0,!1,{fileName:"/app/code/frontend/src/pages/marketplace/ProductPage.tsx",lineNumber:415,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/marketplace/ProductPage.tsx",lineNumber:411,columnNumber:13},this),e.jsxDEV("div",{children:[e.jsxDEV("span",{className:"text-sm font-medium text-gray-600",children:"Unit"},void 0,!1,{fileName:"/app/code/frontend/src/pages/marketplace/ProductPage.tsx",lineNumber:418,columnNumber:15},this),e.jsxDEV("p",{className:"text-gray-900",children:t.unit},void 0,!1,{fileName:"/app/code/frontend/src/pages/marketplace/ProductPage.tsx",lineNumber:419,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/marketplace/ProductPage.tsx",lineNumber:417,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/marketplace/ProductPage.tsx",lineNumber:390,columnNumber:11},this),h&&y?.role==="CUSTOMER"&&t.stockQuantity>0&&e.jsxDEV("div",{className:"mb-6",children:[e.jsxDEV("div",{className:"flex items-center space-x-4 mb-4",children:[e.jsxDEV("label",{className:"text-sm font-medium text-gray-700",children:"Quantity:"},void 0,!1,{fileName:"/app/code/frontend/src/pages/marketplace/ProductPage.tsx",lineNumber:429,columnNumber:19},this),e.jsxDEV("div",{className:"flex items-center border border-gray-300 rounded-lg",children:[e.jsxDEV("button",{onClick:()=>m(Math.max(1,d-1)),className:"px-3 py-2 text-gray-600 hover:text-gray-900",children:"-"},void 0,!1,{fileName:"/app/code/frontend/src/pages/marketplace/ProductPage.tsx",lineNumber:433,columnNumber:21},this),e.jsxDEV("input",{type:"number",min:"1",max:t.stockQuantity,value:d,onChange:g=>m(Math.max(1,parseInt(g.target.value)||1)),className:"w-16 px-2 py-2 text-center border-0 focus:ring-0"},void 0,!1,{fileName:"/app/code/frontend/src/pages/marketplace/ProductPage.tsx",lineNumber:439,columnNumber:21},this),e.jsxDEV("button",{onClick:()=>m(Math.min(t.stockQuantity,d+1)),className:"px-3 py-2 text-gray-600 hover:text-gray-900",children:"+"},void 0,!1,{fileName:"/app/code/frontend/src/pages/marketplace/ProductPage.tsx",lineNumber:449,columnNumber:21},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/marketplace/ProductPage.tsx",lineNumber:432,columnNumber:19},this),e.jsxDEV("span",{className:"text-sm text-gray-600",children:["Total: ",P(t.pricePerUnit*d)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/marketplace/ProductPage.tsx",lineNumber:460,columnNumber:19},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/marketplace/ProductPage.tsx",lineNumber:428,columnNumber:17},this),e.jsxDEV("button",{onClick:V,disabled:v,className:"w-full bg-primary-600 text-white py-3 px-6 rounded-lg hover:bg-primary-700 disabled:opacity-50 transition-colors font-medium flex items-center justify-center",children:[e.jsxDEV(Ge,{className:"w-5 h-5 mr-2"},void 0,!1,{fileName:"/app/code/frontend/src/pages/marketplace/ProductPage.tsx",lineNumber:470,columnNumber:19},this),"Add to Cart"]},void 0,!0,{fileName:"/app/code/frontend/src/pages/marketplace/ProductPage.tsx",lineNumber:465,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/marketplace/ProductPage.tsx",lineNumber:427,columnNumber:15},this),e.jsxDEV("div",{className:"border-t border-gray-200 pt-6",children:e.jsxDEV("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 text-sm",children:[e.jsxDEV("div",{className:"flex items-center",children:[e.jsxDEV(re,{className:"w-5 h-5 text-gray-400 mr-2"},void 0,!1,{fileName:"/app/code/frontend/src/pages/marketplace/ProductPage.tsx",lineNumber:480,columnNumber:17},this),e.jsxDEV("span",{className:"text-gray-600",children:"Free delivery over KES 1000"},void 0,!1,{fileName:"/app/code/frontend/src/pages/marketplace/ProductPage.tsx",lineNumber:481,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/marketplace/ProductPage.tsx",lineNumber:479,columnNumber:15},this),e.jsxDEV("div",{className:"flex items-center",children:[e.jsxDEV(ce,{className:"w-5 h-5 text-gray-400 mr-2"},void 0,!1,{fileName:"/app/code/frontend/src/pages/marketplace/ProductPage.tsx",lineNumber:486,columnNumber:17},this),e.jsxDEV("span",{className:"text-gray-600",children:"Delivered within 24h"},void 0,!1,{fileName:"/app/code/frontend/src/pages/marketplace/ProductPage.tsx",lineNumber:487,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/marketplace/ProductPage.tsx",lineNumber:485,columnNumber:15},this),e.jsxDEV("div",{className:"flex items-center",children:[e.jsxDEV(Ye,{className:"w-5 h-5 text-gray-400 mr-2"},void 0,!1,{fileName:"/app/code/frontend/src/pages/marketplace/ProductPage.tsx",lineNumber:490,columnNumber:17},this),e.jsxDEV("span",{className:"text-gray-600",children:"Quality guaranteed"},void 0,!1,{fileName:"/app/code/frontend/src/pages/marketplace/ProductPage.tsx",lineNumber:491,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/marketplace/ProductPage.tsx",lineNumber:489,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/marketplace/ProductPage.tsx",lineNumber:478,columnNumber:13},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/marketplace/ProductPage.tsx",lineNumber:477,columnNumber:11},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/marketplace/ProductPage.tsx",lineNumber:317,columnNumber:9},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/marketplace/ProductPage.tsx",lineNumber:263,columnNumber:7},this),e.jsxDEV("div",{className:"bg-white border border-gray-200 rounded-lg p-6 mb-8",children:[e.jsxDEV("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"About the Farmer"},void 0,!1,{fileName:"/app/code/frontend/src/pages/marketplace/ProductPage.tsx",lineNumber:500,columnNumber:9},this),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxDEV("div",{children:[e.jsxDEV("div",{className:"flex items-center mb-3",children:[e.jsxDEV("div",{className:"w-12 h-12 bg-primary-100 rounded-full flex items-center justify-center mr-4",children:e.jsxDEV("span",{className:"text-primary-600 font-semibold text-lg",children:[t.farmer.user.firstName[0],t.farmer.user.lastName[0]]},void 0,!0,{fileName:"/app/code/frontend/src/pages/marketplace/ProductPage.tsx",lineNumber:508,columnNumber:17},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/marketplace/ProductPage.tsx",lineNumber:507,columnNumber:15},this),e.jsxDEV("div",{children:[e.jsxDEV("h4",{className:"font-semibold text-gray-900",children:[t.farmer.user.firstName," ",t.farmer.user.lastName]},void 0,!0,{fileName:"/app/code/frontend/src/pages/marketplace/ProductPage.tsx",lineNumber:514,columnNumber:17},this),t.farmer.farmName&&e.jsxDEV("p",{className:"text-gray-600 text-sm",children:t.farmer.farmName},void 0,!1,{fileName:"/app/code/frontend/src/pages/marketplace/ProductPage.tsx",lineNumber:518,columnNumber:19},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/marketplace/ProductPage.tsx",lineNumber:513,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/marketplace/ProductPage.tsx",lineNumber:506,columnNumber:13},this),e.jsxDEV("div",{className:"space-y-2 text-sm",children:[e.jsxDEV("div",{className:"flex items-center",children:[e.jsxDEV($e,{className:"w-4 h-4 text-gray-400 mr-2"},void 0,!1,{fileName:"/app/code/frontend/src/pages/marketplace/ProductPage.tsx",lineNumber:527,columnNumber:17},this),e.jsxDEV("span",{className:"text-gray-600",children:[t.farmer.subCounty?`${t.farmer.subCounty}, `:"",t.farmer.county]},void 0,!0,{fileName:"/app/code/frontend/src/pages/marketplace/ProductPage.tsx",lineNumber:528,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/marketplace/ProductPage.tsx",lineNumber:526,columnNumber:15},this),t.farmer.farmSize&&e.jsxDEV("div",{children:e.jsxDEV("span",{className:"text-gray-600",children:["Farm Size: ",t.farmer.farmSize," acres"]},void 0,!0,{fileName:"/app/code/frontend/src/pages/marketplace/ProductPage.tsx",lineNumber:538,columnNumber:19},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/marketplace/ProductPage.tsx",lineNumber:537,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/marketplace/ProductPage.tsx",lineNumber:525,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/marketplace/ProductPage.tsx",lineNumber:505,columnNumber:11},this),e.jsxDEV("div",{children:[e.jsxDEV("button",{onClick:()=>b(!p),className:"bg-primary-600 text-white px-4 py-2 rounded-lg hover:bg-primary-700 transition-colors text-sm font-medium mb-4",children:"Contact Farmer"},void 0,!1,{fileName:"/app/code/frontend/src/pages/marketplace/ProductPage.tsx",lineNumber:547,columnNumber:13},this),p&&e.jsxDEV("div",{className:"space-y-2 text-sm",children:[e.jsxDEV("div",{className:"flex items-center",children:[e.jsxDEV(rr,{className:"w-4 h-4 text-gray-400 mr-2"},void 0,!1,{fileName:"/app/code/frontend/src/pages/marketplace/ProductPage.tsx",lineNumber:557,columnNumber:19},this),e.jsxDEV("a",{href:`tel:${t.farmer.user.phone}`,className:"text-primary-600 hover:text-primary-700",children:t.farmer.user.phone},void 0,!1,{fileName:"/app/code/frontend/src/pages/marketplace/ProductPage.tsx",lineNumber:558,columnNumber:19},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/marketplace/ProductPage.tsx",lineNumber:556,columnNumber:17},this),t.farmer.user.email&&e.jsxDEV("div",{className:"flex items-center",children:[e.jsxDEV(ws,{className:"w-4 h-4 text-gray-400 mr-2"},void 0,!1,{fileName:"/app/code/frontend/src/pages/marketplace/ProductPage.tsx",lineNumber:567,columnNumber:21},this),e.jsxDEV("a",{href:`mailto:${t.farmer.user.email}`,className:"text-primary-600 hover:text-primary-700",children:t.farmer.user.email},void 0,!1,{fileName:"/app/code/frontend/src/pages/marketplace/ProductPage.tsx",lineNumber:568,columnNumber:21},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/marketplace/ProductPage.tsx",lineNumber:566,columnNumber:19},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/marketplace/ProductPage.tsx",lineNumber:555,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/marketplace/ProductPage.tsx",lineNumber:546,columnNumber:11},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/marketplace/ProductPage.tsx",lineNumber:504,columnNumber:9},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/marketplace/ProductPage.tsx",lineNumber:499,columnNumber:7},this),n.length>0&&e.jsxDEV("div",{children:[e.jsxDEV("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Related Products"},void 0,!1,{fileName:"/app/code/frontend/src/pages/marketplace/ProductPage.tsx",lineNumber:585,columnNumber:11},this),e.jsxDEV("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:n.map(g=>e.jsxDEV(B,{to:`/marketplace/product/${g.id}`,className:"bg-white border border-gray-200 rounded-lg overflow-hidden hover:shadow-md transition-shadow",children:[e.jsxDEV("div",{className:"aspect-square bg-gray-200",children:g.images&&g.images.length>0?e.jsxDEV("img",{src:g.images[0],alt:g.name,className:"w-full h-full object-cover",onError:I=>{I.currentTarget.src="/api/placeholder/200/200?text="+encodeURIComponent(g.name)}},void 0,!1,{fileName:"/app/code/frontend/src/pages/marketplace/ProductPage.tsx",lineNumber:598,columnNumber:21},this):e.jsxDEV("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:"📦"},void 0,!1,{fileName:"/app/code/frontend/src/pages/marketplace/ProductPage.tsx",lineNumber:609,columnNumber:21},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/marketplace/ProductPage.tsx",lineNumber:596,columnNumber:17},this),e.jsxDEV("div",{className:"p-4",children:[e.jsxDEV("h4",{className:"font-semibold text-gray-900 text-sm mb-1 line-clamp-2",children:g.name},void 0,!1,{fileName:"/app/code/frontend/src/pages/marketplace/ProductPage.tsx",lineNumber:616,columnNumber:19},this),e.jsxDEV("p",{className:"text-xs text-gray-600 mb-2",children:[g.farmer.county," •"," ",g.farmer.user.firstName," ",g.farmer.user.lastName]},void 0,!0,{fileName:"/app/code/frontend/src/pages/marketplace/ProductPage.tsx",lineNumber:619,columnNumber:19},this),e.jsxDEV("div",{className:"text-lg font-bold text-gray-900",children:[P(g.pricePerUnit),e.jsxDEV("span",{className:"text-xs font-normal text-gray-600 ml-1",children:["/",g.unit]},void 0,!0,{fileName:"/app/code/frontend/src/pages/marketplace/ProductPage.tsx",lineNumber:626,columnNumber:21},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/marketplace/ProductPage.tsx",lineNumber:624,columnNumber:19},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/marketplace/ProductPage.tsx",lineNumber:615,columnNumber:17},this)]},g.id,!0,{fileName:"/app/code/frontend/src/pages/marketplace/ProductPage.tsx",lineNumber:591,columnNumber:15},this))},void 0,!1,{fileName:"/app/code/frontend/src/pages/marketplace/ProductPage.tsx",lineNumber:589,columnNumber:11},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/marketplace/ProductPage.tsx",lineNumber:584,columnNumber:9},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/marketplace/ProductPage.tsx",lineNumber:244,columnNumber:5},this)}function nl(){const[r,s]=k.useState({phone:"",password:""}),[t,a]=k.useState(!1),{login:n,isLoading:i}=ee(),o=Se(),u=Ft().state?.from?.pathname||"/",c=async m=>{m.preventDefault();try{const p=r.phone.trim(),b=r.password.trim();console.log("🔍 LoginPage - About to call login with:",{phone:p,password:b,formData:r}),await n(p,b),R.success("Login successful!");const{user:N}=ee.getState();N?.role==="ADMIN"?o("/admin/dashboard",{replace:!0}):N?.role==="FARMER"?o("/farmer/dashboard",{replace:!0}):N?.role==="CUSTOMER"?o("/customer/dashboard",{replace:!0}):N?.role==="DRIVER"?o("/driver/dashboard",{replace:!0}):o(u,{replace:!0})}catch(p){R.error(p.message||"Login failed")}},d=m=>{s({...r,[m.target.name]:m.target.value})};return e.jsxDEV("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[e.jsxDEV("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[e.jsxDEV("div",{className:"flex justify-center",children:e.jsxDEV("div",{className:"w-12 h-12 bg-primary-600 rounded-lg flex items-center justify-center",children:e.jsxDEV("span",{className:"text-white font-bold text-lg",children:"Z"},void 0,!1,{fileName:"/app/code/frontend/src/pages/auth/LoginPage.tsx",lineNumber:66,columnNumber:13},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/auth/LoginPage.tsx",lineNumber:65,columnNumber:11},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/auth/LoginPage.tsx",lineNumber:64,columnNumber:9},this),e.jsxDEV("h2",{className:"mt-6 text-center text-3xl font-bold text-gray-900",children:"Sign in to your account"},void 0,!1,{fileName:"/app/code/frontend/src/pages/auth/LoginPage.tsx",lineNumber:69,columnNumber:9},this),e.jsxDEV("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Or"," ",e.jsxDEV(B,{to:"/register",className:"font-medium text-primary-600 hover:text-primary-500",children:"create a new account"},void 0,!1,{fileName:"/app/code/frontend/src/pages/auth/LoginPage.tsx",lineNumber:74,columnNumber:11},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/auth/LoginPage.tsx",lineNumber:72,columnNumber:9},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/auth/LoginPage.tsx",lineNumber:63,columnNumber:7},this),e.jsxDEV("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:e.jsxDEV("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:[e.jsxDEV("form",{className:"space-y-6",onSubmit:c,children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{htmlFor:"phone",className:"form-label",children:"Phone Number"},void 0,!1,{fileName:"/app/code/frontend/src/pages/auth/LoginPage.tsx",lineNumber:87,columnNumber:15},this),e.jsxDEV("input",{id:"phone",name:"phone",type:"tel",required:!0,placeholder:"e.g., +254712345678 or 0712345678",className:"form-input",value:r.phone,onChange:d},void 0,!1,{fileName:"/app/code/frontend/src/pages/auth/LoginPage.tsx",lineNumber:90,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/auth/LoginPage.tsx",lineNumber:86,columnNumber:13},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{htmlFor:"password",className:"form-label",children:"Password"},void 0,!1,{fileName:"/app/code/frontend/src/pages/auth/LoginPage.tsx",lineNumber:103,columnNumber:15},this),e.jsxDEV("div",{className:"relative",children:[e.jsxDEV("input",{id:"password",name:"password",type:t?"text":"password",required:!0,className:"form-input pr-10",value:r.password,onChange:d},void 0,!1,{fileName:"/app/code/frontend/src/pages/auth/LoginPage.tsx",lineNumber:107,columnNumber:17},this),e.jsxDEV("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>a(!t),children:t?e.jsxDEV(ms,{className:"h-5 w-5 text-gray-400"},void 0,!1,{fileName:"/app/code/frontend/src/pages/auth/LoginPage.tsx",lineNumber:122,columnNumber:21},this):e.jsxDEV(_e,{className:"h-5 w-5 text-gray-400"},void 0,!1,{fileName:"/app/code/frontend/src/pages/auth/LoginPage.tsx",lineNumber:124,columnNumber:21},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/auth/LoginPage.tsx",lineNumber:116,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/auth/LoginPage.tsx",lineNumber:106,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/auth/LoginPage.tsx",lineNumber:102,columnNumber:13},this),e.jsxDEV("div",{children:e.jsxDEV("button",{type:"submit",disabled:i,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed",children:i?"Signing in...":"Sign in"},void 0,!1,{fileName:"/app/code/frontend/src/pages/auth/LoginPage.tsx",lineNumber:131,columnNumber:15},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/auth/LoginPage.tsx",lineNumber:130,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/auth/LoginPage.tsx",lineNumber:85,columnNumber:11},this),e.jsxDEV("div",{className:"mt-6",children:[e.jsxDEV("button",{type:"button",onClick:()=>{s({phone:"+254712345678",password:"password123"}),c({preventDefault:()=>{}})},className:"w-full mb-4 bg-green-600 text-white py-2 px-4 rounded-md text-sm font-medium hover:bg-green-700",children:"🧪 Test Admin Login (+254712345678 / password123)"},void 0,!1,{fileName:"/app/code/frontend/src/pages/auth/LoginPage.tsx",lineNumber:142,columnNumber:13},this),e.jsxDEV("div",{className:"relative",children:[e.jsxDEV("div",{className:"absolute inset-0 flex items-center",children:e.jsxDEV("div",{className:"w-full border-t border-gray-300"},void 0,!1,{fileName:"/app/code/frontend/src/pages/auth/LoginPage.tsx",lineNumber:158,columnNumber:17},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/auth/LoginPage.tsx",lineNumber:157,columnNumber:15},this),e.jsxDEV("div",{className:"relative flex justify-center text-sm",children:e.jsxDEV("span",{className:"px-2 bg-white text-gray-500",children:"Demo Accounts"},void 0,!1,{fileName:"/app/code/frontend/src/pages/auth/LoginPage.tsx",lineNumber:161,columnNumber:17},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/auth/LoginPage.tsx",lineNumber:160,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/auth/LoginPage.tsx",lineNumber:156,columnNumber:13},this),e.jsxDEV("div",{className:"mt-4 space-y-2 text-xs text-gray-600",children:[e.jsxDEV("p",{children:[e.jsxDEV("strong",{children:"Admin:"},void 0,!1,{fileName:"/app/code/frontend/src/pages/auth/LoginPage.tsx",lineNumber:169,columnNumber:17},this)," +254712345678 / password123"]},void 0,!0,{fileName:"/app/code/frontend/src/pages/auth/LoginPage.tsx",lineNumber:168,columnNumber:15},this),e.jsxDEV("p",{children:[e.jsxDEV("strong",{children:"Farmer:"},void 0,!1,{fileName:"/app/code/frontend/src/pages/auth/LoginPage.tsx",lineNumber:172,columnNumber:17},this)," +254734567890 / password123"]},void 0,!0,{fileName:"/app/code/frontend/src/pages/auth/LoginPage.tsx",lineNumber:171,columnNumber:15},this),e.jsxDEV("p",{children:[e.jsxDEV("strong",{children:"Customer:"},void 0,!1,{fileName:"/app/code/frontend/src/pages/auth/LoginPage.tsx",lineNumber:175,columnNumber:17},this)," +254756789012 / password123"]},void 0,!0,{fileName:"/app/code/frontend/src/pages/auth/LoginPage.tsx",lineNumber:174,columnNumber:15},this),e.jsxDEV("p",{children:[e.jsxDEV("strong",{children:"Driver:"},void 0,!1,{fileName:"/app/code/frontend/src/pages/auth/LoginPage.tsx",lineNumber:178,columnNumber:17},this)," +254778901234 / password123"]},void 0,!0,{fileName:"/app/code/frontend/src/pages/auth/LoginPage.tsx",lineNumber:177,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/auth/LoginPage.tsx",lineNumber:167,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/auth/LoginPage.tsx",lineNumber:141,columnNumber:11},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/auth/LoginPage.tsx",lineNumber:84,columnNumber:9},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/auth/LoginPage.tsx",lineNumber:83,columnNumber:7},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/auth/LoginPage.tsx",lineNumber:62,columnNumber:5},this)}var gr=r=>r.type==="checkbox",Ke=r=>r instanceof Date,fe=r=>r==null;const wa=r=>typeof r=="object";var se=r=>!fe(r)&&!Array.isArray(r)&&wa(r)&&!Ke(r),il=r=>se(r)&&r.target?gr(r.target)?r.target.checked:r.target.value:r,ol=r=>r.substring(0,r.search(/\.\d+(\.|$)/))||r,ll=(r,s)=>r.has(ol(s)),cl=r=>{const s=r.constructor&&r.constructor.prototype;return se(s)&&s.hasOwnProperty("isPrototypeOf")},Ms=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function oe(r){let s;const t=Array.isArray(r),a=typeof FileList<"u"?r instanceof FileList:!1;if(r instanceof Date)s=new Date(r);else if(!(Ms&&(r instanceof Blob||a))&&(t||se(r)))if(s=t?[]:{},!t&&!cl(r))s=r;else for(const n in r)r.hasOwnProperty(n)&&(s[n]=oe(r[n]));else return r;return s}var zr=r=>/^\w*$/.test(r),ae=r=>r===void 0,Os=r=>Array.isArray(r)?r.filter(Boolean):[],Ts=r=>Os(r.replace(/["|']|\]/g,"").split(/\.|\[/)),U=(r,s,t)=>{if(!s||!se(r))return t;const a=(zr(s)?[s]:Ts(s)).reduce((n,i)=>fe(n)?n:n[i],r);return ae(a)||a===r?ae(r[s])?t:r[s]:a},we=r=>typeof r=="boolean",Z=(r,s,t)=>{let a=-1;const n=zr(s)?[s]:Ts(s),i=n.length,o=i-1;for(;++a<i;){const l=n[a];let u=t;if(a!==o){const c=r[l];u=se(c)||Array.isArray(c)?c:isNaN(+n[a+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;r[l]=u,r=r[l]}};const xt={BLUR:"blur",FOCUS_OUT:"focusout"},Ee={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Fe={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},ml=le.createContext(null);ml.displayName="HookFormContext";var dl=(r,s,t,a=!0)=>{const n={defaultValues:s._defaultValues};for(const i in r)Object.defineProperty(n,i,{get:()=>{const o=i;return s._proxyFormState[o]!==Ee.all&&(s._proxyFormState[o]=!a||Ee.all),r[o]}});return n};const ul=typeof window<"u"?k.useLayoutEffect:k.useEffect;var Ce=r=>typeof r=="string",pl=(r,s,t,a,n)=>Ce(r)?(a&&s.watch.add(r),U(t,r,n)):Array.isArray(r)?r.map(i=>(a&&s.watch.add(i),U(t,i))):(a&&(s.watchAll=!0),t),fl=(r,s,t,a,n)=>s?{...t[r],types:{...t[r]&&t[r].types?t[r].types:{},[a]:n||!0}}:{},lr=r=>Array.isArray(r)?r:[r],vt=()=>{let r=[];return{get observers(){return r},next:n=>{for(const i of r)i.next&&i.next(n)},subscribe:n=>(r.push(n),{unsubscribe:()=>{r=r.filter(i=>i!==n)}}),unsubscribe:()=>{r=[]}}},Ds=r=>fe(r)||!wa(r);function Ue(r,s,t=new WeakSet){if(Ds(r)||Ds(s))return r===s;if(Ke(r)&&Ke(s))return r.getTime()===s.getTime();const a=Object.keys(r),n=Object.keys(s);if(a.length!==n.length)return!1;if(t.has(r)||t.has(s))return!0;t.add(r),t.add(s);for(const i of a){const o=r[i];if(!n.includes(i))return!1;if(i!=="ref"){const l=s[i];if(Ke(o)&&Ke(l)||se(o)&&se(l)||Array.isArray(o)&&Array.isArray(l)?!Ue(o,l,t):o!==l)return!1}}return!0}var he=r=>se(r)&&!Object.keys(r).length,Is=r=>r.type==="file",je=r=>typeof r=="function",Rr=r=>{if(!Ms)return!1;const s=r?r.ownerDocument:0;return r instanceof(s&&s.defaultView?s.defaultView.HTMLElement:HTMLElement)},ka=r=>r.type==="select-multiple",Us=r=>r.type==="radio",Nl=r=>Us(r)||gr(r),ls=r=>Rr(r)&&r.isConnected;function gl(r,s){const t=s.slice(0,-1).length;let a=0;for(;a<t;)r=ae(r)?a++:r[s[a++]];return r}function hl(r){for(const s in r)if(r.hasOwnProperty(s)&&!ae(r[s]))return!1;return!0}function te(r,s){const t=Array.isArray(s)?s:zr(s)?[s]:Ts(s),a=t.length===1?r:gl(r,t),n=t.length-1,i=t[n];return a&&delete a[i],n!==0&&(se(a)&&he(a)||Array.isArray(a)&&hl(a))&&te(r,t.slice(0,-1)),r}var Ca=r=>{for(const s in r)if(je(r[s]))return!0;return!1};function Fr(r,s={}){const t=Array.isArray(r);if(se(r)||t)for(const a in r)Array.isArray(r[a])||se(r[a])&&!Ca(r[a])?(s[a]=Array.isArray(r[a])?[]:{},Fr(r[a],s[a])):fe(r[a])||(s[a]=!0);return s}function Aa(r,s,t){const a=Array.isArray(r);if(se(r)||a)for(const n in r)Array.isArray(r[n])||se(r[n])&&!Ca(r[n])?ae(s)||Ds(t[n])?t[n]=Array.isArray(r[n])?Fr(r[n],[]):{...Fr(r[n])}:Aa(r[n],fe(s)?{}:s[n],t[n]):t[n]=!Ue(r[n],s[n]);return t}var ir=(r,s)=>Aa(r,s,Fr(s));const yt={value:!1,isValid:!1},Dt={value:!0,isValid:!0};var Sa=r=>{if(Array.isArray(r)){if(r.length>1){const s=r.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:s,isValid:!!s.length}}return r[0].checked&&!r[0].disabled?r[0].attributes&&!ae(r[0].attributes.value)?ae(r[0].value)||r[0].value===""?Dt:{value:r[0].value,isValid:!0}:Dt:yt}return yt},Ra=(r,{valueAsNumber:s,valueAsDate:t,setValueAs:a})=>ae(r)?r:s?r===""?NaN:r&&+r:t&&Ce(r)?new Date(r):a?a(r):r;const Et={isValid:!1,value:null};var Fa=r=>Array.isArray(r)?r.reduce((s,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:s,Et):Et;function jt(r){const s=r.ref;return Is(s)?s.files:Us(s)?Fa(r.refs).value:ka(s)?[...s.selectedOptions].map(({value:t})=>t):gr(s)?Sa(r.refs).value:Ra(ae(s.value)?r.ref.value:s.value,r)}var bl=(r,s,t,a)=>{const n={};for(const i of r){const o=U(s,i);o&&Z(n,i,o._f)}return{criteriaMode:t,names:[...r],fields:n,shouldUseNativeValidation:a}},Mr=r=>r instanceof RegExp,or=r=>ae(r)?r:Mr(r)?r.source:se(r)?Mr(r.value)?r.value.source:r.value:r,Vt=r=>({isOnSubmit:!r||r===Ee.onSubmit,isOnBlur:r===Ee.onBlur,isOnChange:r===Ee.onChange,isOnAll:r===Ee.all,isOnTouch:r===Ee.onTouched});const Pt="AsyncFunction";var xl=r=>!!r&&!!r.validate&&!!(je(r.validate)&&r.validate.constructor.name===Pt||se(r.validate)&&Object.values(r.validate).find(s=>s.constructor.name===Pt)),vl=r=>r.mount&&(r.required||r.min||r.max||r.maxLength||r.minLength||r.pattern||r.validate),wt=(r,s,t)=>!t&&(s.watchAll||s.watch.has(r)||[...s.watch].some(a=>r.startsWith(a)&&/^\.\w+/.test(r.slice(a.length))));const cr=(r,s,t,a)=>{for(const n of t||Object.keys(r)){const i=U(r,n);if(i){const{_f:o,...l}=i;if(o){if(o.refs&&o.refs[0]&&s(o.refs[0],n)&&!a)return!0;if(o.ref&&s(o.ref,o.name)&&!a)return!0;if(cr(l,s))break}else if(se(l)&&cr(l,s))break}}};function kt(r,s,t){const a=U(r,t);if(a||zr(t))return{error:a,name:t};const n=t.split(".");for(;n.length;){const i=n.join("."),o=U(s,i),l=U(r,i);if(o&&!Array.isArray(o)&&t!==i)return{name:t};if(l&&l.type)return{name:i,error:l};if(l&&l.root&&l.root.type)return{name:`${i}.root`,error:l.root};n.pop()}return{name:t}}var yl=(r,s,t,a)=>{t(r);const{name:n,...i}=r;return he(i)||Object.keys(i).length>=Object.keys(s).length||Object.keys(i).find(o=>s[o]===(!a||Ee.all))},Dl=(r,s,t)=>!r||!s||r===s||lr(r).some(a=>a&&(t?a===s:a.startsWith(s)||s.startsWith(a))),El=(r,s,t,a,n)=>n.isOnAll?!1:!t&&n.isOnTouch?!(s||r):(t?a.isOnBlur:n.isOnBlur)?!r:(t?a.isOnChange:n.isOnChange)?r:!0,jl=(r,s)=>!Os(U(r,s)).length&&te(r,s),Vl=(r,s,t)=>{const a=lr(U(r,t));return Z(a,"root",s[t]),Z(r,t,a),r},Er=r=>Ce(r);function Ct(r,s,t="validate"){if(Er(r)||Array.isArray(r)&&r.every(Er)||we(r)&&!r)return{type:t,message:Er(r)?r:"",ref:s}}var Xe=r=>se(r)&&!Mr(r)?r:{value:r,message:""},At=async(r,s,t,a,n,i)=>{const{ref:o,refs:l,required:u,maxLength:c,minLength:d,min:m,max:p,pattern:b,validate:N,name:v,valueAsNumber:y,mount:h}=r._f,x=U(t,v);if(!h||s.has(v))return{};const M=l?l[0]:o,V=q=>{n&&M.reportValidity&&(M.setCustomValidity(we(q)?"":q||""),M.reportValidity())},C={},P=Us(o),A=gr(o),S=P||A,E=(y||Is(o))&&ae(o.value)&&ae(x)||Rr(o)&&o.value===""||x===""||Array.isArray(x)&&!x.length,g=fl.bind(null,v,a,C),I=(q,L,W,G=Fe.maxLength,J=Fe.minLength)=>{const de=q?L:W;C[v]={type:q?G:J,message:de,ref:o,...g(q?G:J,de)}};if(i?!Array.isArray(x)||!x.length:u&&(!S&&(E||fe(x))||we(x)&&!x||A&&!Sa(l).isValid||P&&!Fa(l).isValid)){const{value:q,message:L}=Er(u)?{value:!!u,message:u}:Xe(u);if(q&&(C[v]={type:Fe.required,message:L,ref:M,...g(Fe.required,L)},!a))return V(L),C}if(!E&&(!fe(m)||!fe(p))){let q,L;const W=Xe(p),G=Xe(m);if(!fe(x)&&!isNaN(x)){const J=o.valueAsNumber||x&&+x;fe(W.value)||(q=J>W.value),fe(G.value)||(L=J<G.value)}else{const J=o.valueAsDate||new Date(x),de=Re=>new Date(new Date().toDateString()+" "+Re),Ne=o.type=="time",ge=o.type=="week";Ce(W.value)&&x&&(q=Ne?de(x)>de(W.value):ge?x>W.value:J>new Date(W.value)),Ce(G.value)&&x&&(L=Ne?de(x)<de(G.value):ge?x<G.value:J<new Date(G.value))}if((q||L)&&(I(!!q,W.message,G.message,Fe.max,Fe.min),!a))return V(C[v].message),C}if((c||d)&&!E&&(Ce(x)||i&&Array.isArray(x))){const q=Xe(c),L=Xe(d),W=!fe(q.value)&&x.length>+q.value,G=!fe(L.value)&&x.length<+L.value;if((W||G)&&(I(W,q.message,L.message),!a))return V(C[v].message),C}if(b&&!E&&Ce(x)){const{value:q,message:L}=Xe(b);if(Mr(q)&&!x.match(q)&&(C[v]={type:Fe.pattern,message:L,ref:o,...g(Fe.pattern,L)},!a))return V(L),C}if(N){if(je(N)){const q=await N(x,t),L=Ct(q,M);if(L&&(C[v]={...L,...g(Fe.validate,L.message)},!a))return V(L.message),C}else if(se(N)){let q={};for(const L in N){if(!he(q)&&!a)break;const W=Ct(await N[L](x,t),M,L);W&&(q={...W,...g(L,W.message)},V(W.message),a&&(C[v]=q))}if(!he(q)&&(C[v]={ref:M,...q},!a))return C}}return V(!0),C};const Pl={mode:Ee.onSubmit,reValidateMode:Ee.onChange,shouldFocusError:!0};function wl(r={}){let s={...Pl,...r},t={submitCount:0,isDirty:!1,isReady:!1,isLoading:je(s.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:s.errors||{},disabled:s.disabled||!1},a={},n=se(s.defaultValues)||se(s.values)?oe(s.defaultValues||s.values)||{}:{},i=s.shouldUnregister?{}:oe(n),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},u,c=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let m={...d};const p={array:vt(),state:vt()},b=s.criteriaMode===Ee.all,N=f=>D=>{clearTimeout(c),c=setTimeout(f,D)},v=async f=>{if(!s.disabled&&(d.isValid||m.isValid||f)){const D=s.resolver?he((await A()).errors):await E(a,!0);D!==t.isValid&&p.state.next({isValid:D})}},y=(f,D)=>{!s.disabled&&(d.isValidating||d.validatingFields||m.isValidating||m.validatingFields)&&((f||Array.from(l.mount)).forEach(w=>{w&&(D?Z(t.validatingFields,w,D):te(t.validatingFields,w))}),p.state.next({validatingFields:t.validatingFields,isValidating:!he(t.validatingFields)}))},h=(f,D=[],w,T,O=!0,F=!0)=>{if(T&&w&&!s.disabled){if(o.action=!0,F&&Array.isArray(U(a,f))){const H=w(U(a,f),T.argA,T.argB);O&&Z(a,f,H)}if(F&&Array.isArray(U(t.errors,f))){const H=w(U(t.errors,f),T.argA,T.argB);O&&Z(t.errors,f,H),jl(t.errors,f)}if((d.touchedFields||m.touchedFields)&&F&&Array.isArray(U(t.touchedFields,f))){const H=w(U(t.touchedFields,f),T.argA,T.argB);O&&Z(t.touchedFields,f,H)}(d.dirtyFields||m.dirtyFields)&&(t.dirtyFields=ir(n,i)),p.state.next({name:f,isDirty:I(f,D),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else Z(i,f,D)},x=(f,D)=>{Z(t.errors,f,D),p.state.next({errors:t.errors})},M=f=>{t.errors=f,p.state.next({errors:t.errors,isValid:!1})},V=(f,D,w,T)=>{const O=U(a,f);if(O){const F=U(i,f,ae(w)?U(n,f):w);ae(F)||T&&T.defaultChecked||D?Z(i,f,D?F:jt(O._f)):W(f,F),o.mount&&v()}},C=(f,D,w,T,O)=>{let F=!1,H=!1;const z={name:f};if(!s.disabled){if(!w||T){(d.isDirty||m.isDirty)&&(H=t.isDirty,t.isDirty=z.isDirty=I(),F=H!==z.isDirty);const X=Ue(U(n,f),D);H=!!U(t.dirtyFields,f),X?te(t.dirtyFields,f):Z(t.dirtyFields,f,!0),z.dirtyFields=t.dirtyFields,F=F||(d.dirtyFields||m.dirtyFields)&&H!==!X}if(w){const X=U(t.touchedFields,f);X||(Z(t.touchedFields,f,w),z.touchedFields=t.touchedFields,F=F||(d.touchedFields||m.touchedFields)&&X!==w)}F&&O&&p.state.next(z)}return F?z:{}},P=(f,D,w,T)=>{const O=U(t.errors,f),F=(d.isValid||m.isValid)&&we(D)&&t.isValid!==D;if(s.delayError&&w?(u=N(()=>x(f,w)),u(s.delayError)):(clearTimeout(c),u=null,w?Z(t.errors,f,w):te(t.errors,f)),(w?!Ue(O,w):O)||!he(T)||F){const H={...T,...F&&we(D)?{isValid:D}:{},errors:t.errors,name:f};t={...t,...H},p.state.next(H)}},A=async f=>{y(f,!0);const D=await s.resolver(i,s.context,bl(f||l.mount,a,s.criteriaMode,s.shouldUseNativeValidation));return y(f),D},S=async f=>{const{errors:D}=await A(f);if(f)for(const w of f){const T=U(D,w);T?Z(t.errors,w,T):te(t.errors,w)}else t.errors=D;return D},E=async(f,D,w={valid:!0})=>{for(const T in f){const O=f[T];if(O){const{_f:F,...H}=O;if(F){const z=l.array.has(F.name),X=O._f&&xl(O._f);X&&d.validatingFields&&y([T],!0);const ve=await At(O,l.disabled,i,b,s.shouldUseNativeValidation&&!D,z);if(X&&d.validatingFields&&y([T]),ve[F.name]&&(w.valid=!1,D))break;!D&&(U(ve,F.name)?z?Vl(t.errors,ve,F.name):Z(t.errors,F.name,ve[F.name]):te(t.errors,F.name))}!he(H)&&await E(H,D,w)}}return w.valid},g=()=>{for(const f of l.unMount){const D=U(a,f);D&&(D._f.refs?D._f.refs.every(w=>!ls(w)):!ls(D._f.ref))&&Jr(f)}l.unMount=new Set},I=(f,D)=>!s.disabled&&(f&&D&&Z(i,f,D),!Ue(Re(),n)),q=(f,D,w)=>pl(f,l,{...o.mount?i:ae(D)?n:Ce(f)?{[f]:D}:D},w,D),L=f=>Os(U(o.mount?i:n,f,s.shouldUnregister?U(n,f,[]):[])),W=(f,D,w={})=>{const T=U(a,f);let O=D;if(T){const F=T._f;F&&(!F.disabled&&Z(i,f,Ra(D,F)),O=Rr(F.ref)&&fe(D)?"":D,ka(F.ref)?[...F.ref.options].forEach(H=>H.selected=O.includes(H.value)):F.refs?gr(F.ref)?F.refs.forEach(H=>{(!H.defaultChecked||!H.disabled)&&(Array.isArray(O)?H.checked=!!O.find(z=>z===H.value):H.checked=O===H.value||!!O)}):F.refs.forEach(H=>H.checked=H.value===O):Is(F.ref)?F.ref.value="":(F.ref.value=O,F.ref.type||p.state.next({name:f,values:oe(i)})))}(w.shouldDirty||w.shouldTouch)&&C(f,O,w.shouldTouch,w.shouldDirty,!0),w.shouldValidate&&ge(f)},G=(f,D,w)=>{for(const T in D){if(!D.hasOwnProperty(T))return;const O=D[T],F=f+"."+T,H=U(a,F);(l.array.has(f)||se(O)||H&&!H._f)&&!Ke(O)?G(F,O,w):W(F,O,w)}},J=(f,D,w={})=>{const T=U(a,f),O=l.array.has(f),F=oe(D);Z(i,f,F),O?(p.array.next({name:f,values:oe(i)}),(d.isDirty||d.dirtyFields||m.isDirty||m.dirtyFields)&&w.shouldDirty&&p.state.next({name:f,dirtyFields:ir(n,i),isDirty:I(f,F)})):T&&!T._f&&!fe(F)?G(f,F,w):W(f,F,w),wt(f,l)&&p.state.next({...t}),p.state.next({name:o.mount?f:void 0,values:oe(i)})},de=async f=>{o.mount=!0;const D=f.target;let w=D.name,T=!0;const O=U(a,w),F=X=>{T=Number.isNaN(X)||Ke(X)&&isNaN(X.getTime())||Ue(X,U(i,w,X))},H=Vt(s.mode),z=Vt(s.reValidateMode);if(O){let X,ve;const hr=D.type?jt(O._f):il(f),Oe=f.type===xt.BLUR||f.type===xt.FOCUS_OUT,qa=!vl(O._f)&&!s.resolver&&!U(t.errors,w)&&!O._f.deps||El(Oe,U(t.touchedFields,w),t.isSubmitted,z,H),Zr=wt(w,l,Oe);Z(i,w,hr),Oe?(O._f.onBlur&&O._f.onBlur(f),u&&u(0)):O._f.onChange&&O._f.onChange(f);const es=C(w,hr,Oe),Ha=!he(es)||Zr;if(!Oe&&p.state.next({name:w,type:f.type,values:oe(i)}),qa)return(d.isValid||m.isValid)&&(s.mode==="onBlur"?Oe&&v():Oe||v()),Ha&&p.state.next({name:w,...Zr?{}:es});if(!Oe&&Zr&&p.state.next({...t}),s.resolver){const{errors:Ks}=await A([w]);if(F(hr),T){const $a=kt(t.errors,a,w),Gs=kt(Ks,a,$a.name||w);X=Gs.error,w=Gs.name,ve=he(Ks)}}else y([w],!0),X=(await At(O,l.disabled,i,b,s.shouldUseNativeValidation))[w],y([w]),F(hr),T&&(X?ve=!1:(d.isValid||m.isValid)&&(ve=await E(a,!0)));T&&(O._f.deps&&ge(O._f.deps),P(w,ve,X,es))}},Ne=(f,D)=>{if(U(t.errors,D)&&f.focus)return f.focus(),1},ge=async(f,D={})=>{let w,T;const O=lr(f);if(s.resolver){const F=await S(ae(f)?f:O);w=he(F),T=f?!O.some(H=>U(F,H)):w}else f?(T=(await Promise.all(O.map(async F=>{const H=U(a,F);return await E(H&&H._f?{[F]:H}:H)}))).every(Boolean),!(!T&&!t.isValid)&&v()):T=w=await E(a);return p.state.next({...!Ce(f)||(d.isValid||m.isValid)&&w!==t.isValid?{}:{name:f},...s.resolver||!f?{isValid:w}:{},errors:t.errors}),D.shouldFocus&&!T&&cr(a,Ne,f?O:l.mount),T},Re=f=>{const D={...o.mount?i:n};return ae(f)?D:Ce(f)?U(D,f):f.map(w=>U(D,w))},Je=(f,D)=>({invalid:!!U((D||t).errors,f),isDirty:!!U((D||t).dirtyFields,f),error:U((D||t).errors,f),isValidating:!!U(t.validatingFields,f),isTouched:!!U((D||t).touchedFields,f)}),Qr=f=>{f&&lr(f).forEach(D=>te(t.errors,D)),p.state.next({errors:f?t.errors:{}})},Ls=(f,D,w)=>{const T=(U(a,f,{_f:{}})._f||{}).ref,O=U(t.errors,f)||{},{ref:F,message:H,type:z,...X}=O;Z(t.errors,f,{...X,...D,ref:T}),p.state.next({name:f,errors:t.errors,isValid:!1}),w&&w.shouldFocus&&T&&T.focus&&T.focus()},Oa=(f,D)=>je(f)?p.state.subscribe({next:w=>f(q(void 0,D),w)}):q(f,D,!0),_s=f=>p.state.subscribe({next:D=>{Dl(f.name,D.name,f.exact)&&yl(D,f.formState||d,_a,f.reRenderRoot)&&f.callback({values:{...i},...t,...D})}}).unsubscribe,Ta=f=>(o.mount=!0,m={...m,...f.formState},_s({...f,formState:m})),Jr=(f,D={})=>{for(const w of f?lr(f):l.mount)l.mount.delete(w),l.array.delete(w),D.keepValue||(te(a,w),te(i,w)),!D.keepError&&te(t.errors,w),!D.keepDirty&&te(t.dirtyFields,w),!D.keepTouched&&te(t.touchedFields,w),!D.keepIsValidating&&te(t.validatingFields,w),!s.shouldUnregister&&!D.keepDefaultValue&&te(n,w);p.state.next({values:oe(i)}),p.state.next({...t,...D.keepDirty?{isDirty:I()}:{}}),!D.keepIsValid&&v()},qs=({disabled:f,name:D})=>{(we(f)&&o.mount||f||l.disabled.has(D))&&(f?l.disabled.add(D):l.disabled.delete(D))},Xr=(f,D={})=>{let w=U(a,f);const T=we(D.disabled)||we(s.disabled);return Z(a,f,{...w||{},_f:{...w&&w._f?w._f:{ref:{name:f}},name:f,mount:!0,...D}}),l.mount.add(f),w?qs({disabled:we(D.disabled)?D.disabled:s.disabled,name:f}):V(f,!0,D.value),{...T?{disabled:D.disabled||s.disabled}:{},...s.progressive?{required:!!D.required,min:or(D.min),max:or(D.max),minLength:or(D.minLength),maxLength:or(D.maxLength),pattern:or(D.pattern)}:{},name:f,onChange:de,onBlur:de,ref:O=>{if(O){Xr(f,D),w=U(a,f);const F=ae(O.value)&&O.querySelectorAll&&O.querySelectorAll("input,select,textarea")[0]||O,H=Nl(F),z=w._f.refs||[];if(H?z.find(X=>X===F):F===w._f.ref)return;Z(a,f,{_f:{...w._f,...H?{refs:[...z.filter(ls),F,...Array.isArray(U(n,f))?[{}]:[]],ref:{type:F.type,name:f}}:{ref:F}}}),V(f,!1,void 0,F)}else w=U(a,f,{}),w._f&&(w._f.mount=!1),(s.shouldUnregister||D.shouldUnregister)&&!(ll(l.array,f)&&o.action)&&l.unMount.add(f)}}},Yr=()=>s.shouldFocusError&&cr(a,Ne,l.mount),Ia=f=>{we(f)&&(p.state.next({disabled:f}),cr(a,(D,w)=>{const T=U(a,w);T&&(D.disabled=T._f.disabled||f,Array.isArray(T._f.refs)&&T._f.refs.forEach(O=>{O.disabled=T._f.disabled||f}))},0,!1))},Hs=(f,D)=>async w=>{let T;w&&(w.preventDefault&&w.preventDefault(),w.persist&&w.persist());let O=oe(i);if(p.state.next({isSubmitting:!0}),s.resolver){const{errors:F,values:H}=await A();t.errors=F,O=oe(H)}else await E(a);if(l.disabled.size)for(const F of l.disabled)te(O,F);if(te(t.errors,"root"),he(t.errors)){p.state.next({errors:{}});try{await f(O,w)}catch(F){T=F}}else D&&await D({...t.errors},w),Yr(),setTimeout(Yr);if(p.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:he(t.errors)&&!T,submitCount:t.submitCount+1,errors:t.errors}),T)throw T},Ua=(f,D={})=>{U(a,f)&&(ae(D.defaultValue)?J(f,oe(U(n,f))):(J(f,D.defaultValue),Z(n,f,oe(D.defaultValue))),D.keepTouched||te(t.touchedFields,f),D.keepDirty||(te(t.dirtyFields,f),t.isDirty=D.defaultValue?I(f,oe(U(n,f))):I()),D.keepError||(te(t.errors,f),d.isValid&&v()),p.state.next({...t}))},$s=(f,D={})=>{const w=f?oe(f):n,T=oe(w),O=he(f),F=O?n:T;if(D.keepDefaultValues||(n=w),!D.keepValues){if(D.keepDirtyValues){const H=new Set([...l.mount,...Object.keys(ir(n,i))]);for(const z of Array.from(H))U(t.dirtyFields,z)?Z(F,z,U(i,z)):J(z,U(F,z))}else{if(Ms&&ae(f))for(const H of l.mount){const z=U(a,H);if(z&&z._f){const X=Array.isArray(z._f.refs)?z._f.refs[0]:z._f.ref;if(Rr(X)){const ve=X.closest("form");if(ve){ve.reset();break}}}}if(D.keepFieldsRef)for(const H of l.mount)J(H,U(F,H));else a={}}i=s.shouldUnregister?D.keepDefaultValues?oe(n):{}:oe(F),p.array.next({values:{...F}}),p.state.next({values:{...F}})}l={mount:D.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!D.keepIsValid||!!D.keepDirtyValues,o.watch=!!s.shouldUnregister,p.state.next({submitCount:D.keepSubmitCount?t.submitCount:0,isDirty:O?!1:D.keepDirty?t.isDirty:!!(D.keepDefaultValues&&!Ue(f,n)),isSubmitted:D.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:O?{}:D.keepDirtyValues?D.keepDefaultValues&&i?ir(n,i):t.dirtyFields:D.keepDefaultValues&&f?ir(n,f):D.keepDirty?t.dirtyFields:{},touchedFields:D.keepTouched?t.touchedFields:{},errors:D.keepErrors?t.errors:{},isSubmitSuccessful:D.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1})},Ws=(f,D)=>$s(je(f)?f(i):f,D),La=(f,D={})=>{const w=U(a,f),T=w&&w._f;if(T){const O=T.refs?T.refs[0]:T.ref;O.focus&&(O.focus(),D.shouldSelect&&je(O.select)&&O.select())}},_a=f=>{t={...t,...f}},Bs={control:{register:Xr,unregister:Jr,getFieldState:Je,handleSubmit:Hs,setError:Ls,_subscribe:_s,_runSchema:A,_focusError:Yr,_getWatch:q,_getDirty:I,_setValid:v,_setFieldArray:h,_setDisabledField:qs,_setErrors:M,_getFieldArray:L,_reset:$s,_resetDefaultValues:()=>je(s.defaultValues)&&s.defaultValues().then(f=>{Ws(f,s.resetOptions),p.state.next({isLoading:!1})}),_removeUnmounted:g,_disableForm:Ia,_subjects:p,_proxyFormState:d,get _fields(){return a},get _formValues(){return i},get _state(){return o},set _state(f){o=f},get _defaultValues(){return n},get _names(){return l},set _names(f){l=f},get _formState(){return t},get _options(){return s},set _options(f){s={...s,...f}}},subscribe:Ta,trigger:ge,register:Xr,handleSubmit:Hs,watch:Oa,setValue:J,getValues:Re,reset:Ws,resetField:Ua,clearErrors:Qr,unregister:Jr,setError:Ls,setFocus:La,getFieldState:Je};return{...Bs,formControl:Bs}}function Ma(r={}){const s=le.useRef(void 0),t=le.useRef(void 0),[a,n]=le.useState({isDirty:!1,isValidating:!1,isLoading:je(r.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:r.errors||{},disabled:r.disabled||!1,isReady:!1,defaultValues:je(r.defaultValues)?void 0:r.defaultValues});if(!s.current)if(r.formControl)s.current={...r.formControl,formState:a},r.defaultValues&&!je(r.defaultValues)&&r.formControl.reset(r.defaultValues,r.resetOptions);else{const{formControl:o,...l}=wl(r);s.current={...l,formState:a}}const i=s.current.control;return i._options=r,ul(()=>{const o=i._subscribe({formState:i._proxyFormState,callback:()=>n({...i._formState}),reRenderRoot:!0});return n(l=>({...l,isReady:!0})),i._formState.isReady=!0,o},[i]),le.useEffect(()=>i._disableForm(r.disabled),[i,r.disabled]),le.useEffect(()=>{r.mode&&(i._options.mode=r.mode),r.reValidateMode&&(i._options.reValidateMode=r.reValidateMode)},[i,r.mode,r.reValidateMode]),le.useEffect(()=>{r.errors&&(i._setErrors(r.errors),i._focusError())},[i,r.errors]),le.useEffect(()=>{r.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,r.shouldUnregister]),le.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==a.isDirty&&i._subjects.state.next({isDirty:o})}},[i,a.isDirty]),le.useEffect(()=>{r.values&&!Ue(r.values,t.current)?(i._reset(r.values,{keepFieldsRef:!0,...i._options.resetOptions}),t.current=r.values,n(o=>({...o}))):i._resetDefaultValues()},[i,r.values]),le.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),s.current.formState=dl(a,i),s.current}const St=["Nairobi","Mombasa","Kiambu","Nakuru","Machakos","Kajiado","Murang'a","Nyeri","Meru","Embu","Tharaka-Nithi","Kirinyaga","Nyandarua","Laikipia","Samburu","Trans-Nzoia","Uasin-Gishu","Elgeyo-Marakwet","Nandi","Baringo","Kericho","Bomet","Kakamega","Vihiga","Bungoma","Busia","Siaya","Kisumu","Homa Bay","Migori","Kisii","Nyamira","Narok","Turkana","West Pokot","Isiolo","Marsabit","Mandera","Wajir","Garissa","Tana River","Lamu","Taita-Taveta","Kwale","Kilifi"],kl=["Motorcycle","Three-wheeler","Pickup Truck","Van","Small Truck","Large Truck"],Cl=[{value:"CUSTOMER",label:"Customer",description:"Shop for fresh produce from local farmers",icon:e.jsxDEV(De,{className:"w-8 h-8"},void 0,!1,{fileName:"/app/code/frontend/src/pages/auth/RegisterPage.tsx",lineNumber:113,columnNumber:11},void 0),color:"bg-blue-500"},{value:"FARMER",label:"Farmer",description:"Sell your produce directly to customers",icon:e.jsxDEV(cs,{className:"w-8 h-8"},void 0,!1,{fileName:"/app/code/frontend/src/pages/auth/RegisterPage.tsx",lineNumber:120,columnNumber:11},void 0),color:"bg-green-500"},{value:"DRIVER",label:"Driver",description:"Deliver products and earn money",icon:e.jsxDEV(re,{className:"w-8 h-8"},void 0,!1,{fileName:"/app/code/frontend/src/pages/auth/RegisterPage.tsx",lineNumber:127,columnNumber:11},void 0),color:"bg-orange-500"},{value:"FARMER_AGENT",label:"Farmer Agent",description:"Help farmers join the platform",icon:e.jsxDEV(Ae,{className:"w-8 h-8"},void 0,!1,{fileName:"/app/code/frontend/src/pages/auth/RegisterPage.tsx",lineNumber:134,columnNumber:11},void 0),color:"bg-purple-500"}];function Al(){const r=Se(),[s,t]=k.useState(1),[a,n]=k.useState(!1),[i,o]=k.useState(!1),[l,u]=k.useState(!1),{register:c,handleSubmit:d,watch:m,setValue:p,formState:{errors:b}}=Ma(),N=m("role"),v=m("password"),y=async V=>{if(V.password!==V.confirmPassword){R.error("Passwords do not match");return}u(!0);try{const C={firstName:V.firstName,lastName:V.lastName,phone:V.phone,email:V.email,password:V.password,role:V.role,county:V.county};V.role==="FARMER"?(V.farmName&&(C.farmName=V.farmName),V.farmSize&&(C.farmSize=V.farmSize),V.kraPin&&(C.kraPin=V.kraPin),V.subCounty&&(C.subCounty=V.subCounty)):V.role==="DRIVER"?(C.licenseNumber=V.licenseNumber,C.vehicleType=V.vehicleType,C.vehicleRegNo=V.vehicleRegNo,C.idNumber=V.idNumber):V.role==="FARMER_AGENT"&&(C.assignedCounty=V.assignedCounty);const P=await _.post("/api/auth/register",C);R.success("Registration successful! Please login to continue."),P.data.requiresPayment&&R("You will need to pay the activation fee after login",{icon:"ℹ️"}),P.data.requiresApproval&&R("Your application will be reviewed by our team",{icon:"ℹ️"}),r("/login")}catch(C){console.error("Registration error:",C);const P=C.response?.data?.error||"Registration failed";R.error(P)}finally{u(!1)}},h=()=>{s<3&&t(s+1)},x=()=>{s>1&&t(s-1)},M=V=>{p("role",V),h()};return e.jsxDEV("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[e.jsxDEV("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[e.jsxDEV("div",{className:"flex justify-center",children:e.jsxDEV("div",{className:"w-12 h-12 bg-primary-600 rounded-lg flex items-center justify-center",children:e.jsxDEV("span",{className:"text-white font-bold text-lg",children:"Z"},void 0,!1,{fileName:"/app/code/frontend/src/pages/auth/RegisterPage.tsx",lineNumber:232,columnNumber:13},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/auth/RegisterPage.tsx",lineNumber:231,columnNumber:11},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/auth/RegisterPage.tsx",lineNumber:230,columnNumber:9},this),e.jsxDEV("h2",{className:"mt-6 text-center text-3xl font-bold text-gray-900",children:"Create your account"},void 0,!1,{fileName:"/app/code/frontend/src/pages/auth/RegisterPage.tsx",lineNumber:235,columnNumber:9},this),e.jsxDEV("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Or"," ",e.jsxDEV(B,{to:"/login",className:"font-medium text-primary-600 hover:text-primary-500",children:"sign in to your existing account"},void 0,!1,{fileName:"/app/code/frontend/src/pages/auth/RegisterPage.tsx",lineNumber:240,columnNumber:11},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/auth/RegisterPage.tsx",lineNumber:238,columnNumber:9},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/auth/RegisterPage.tsx",lineNumber:229,columnNumber:7},this),e.jsxDEV("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:e.jsxDEV("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:[e.jsxDEV("div",{className:"mb-8",children:[e.jsxDEV("div",{className:"flex items-center justify-between",children:[1,2,3].map(V=>e.jsxDEV("div",{className:`flex items-center ${s>=V?"text-primary-600":"text-gray-400"}`,children:[e.jsxDEV("div",{className:`w-8 h-8 rounded-full flex items-center justify-center border-2 ${s>=V?"border-primary-600 bg-primary-600 text-white":"border-gray-300"}`,children:s>V?e.jsxDEV(Vr,{className:"w-4 h-4"},void 0,!1,{fileName:"/app/code/frontend/src/pages/auth/RegisterPage.tsx",lineNumber:268,columnNumber:39},this):V},void 0,!1,{fileName:"/app/code/frontend/src/pages/auth/RegisterPage.tsx",lineNumber:261,columnNumber:19},this),V<3&&e.jsxDEV("div",{className:`w-16 h-0.5 mx-2 ${s>V?"bg-primary-600":"bg-gray-200"}`},void 0,!1,{fileName:"/app/code/frontend/src/pages/auth/RegisterPage.tsx",lineNumber:271,columnNumber:21},this)]},V,!0,{fileName:"/app/code/frontend/src/pages/auth/RegisterPage.tsx",lineNumber:255,columnNumber:17},this))},void 0,!1,{fileName:"/app/code/frontend/src/pages/auth/RegisterPage.tsx",lineNumber:253,columnNumber:13},this),e.jsxDEV("div",{className:"flex justify-between mt-2 text-xs text-gray-600",children:[e.jsxDEV("span",{children:"Role"},void 0,!1,{fileName:"/app/code/frontend/src/pages/auth/RegisterPage.tsx",lineNumber:281,columnNumber:15},this),e.jsxDEV("span",{children:"Info"},void 0,!1,{fileName:"/app/code/frontend/src/pages/auth/RegisterPage.tsx",lineNumber:282,columnNumber:15},this),e.jsxDEV("span",{children:"Details"},void 0,!1,{fileName:"/app/code/frontend/src/pages/auth/RegisterPage.tsx",lineNumber:283,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/auth/RegisterPage.tsx",lineNumber:280,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/auth/RegisterPage.tsx",lineNumber:252,columnNumber:11},this),e.jsxDEV("form",{onSubmit:d(y),children:[s===1&&e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Choose your role"},void 0,!1,{fileName:"/app/code/frontend/src/pages/auth/RegisterPage.tsx",lineNumber:291,columnNumber:17},this),e.jsxDEV("div",{className:"space-y-3",children:Cl.map(V=>e.jsxDEV("button",{type:"button",onClick:()=>M(V.value),className:"w-full p-4 border border-gray-300 rounded-lg hover:border-primary-500 hover:bg-primary-50 transition-colors text-left",children:e.jsxDEV("div",{className:"flex items-center",children:[e.jsxDEV("div",{className:`${V.color} text-white p-2 rounded-lg mr-4`,children:V.icon},void 0,!1,{fileName:"/app/code/frontend/src/pages/auth/RegisterPage.tsx",lineNumber:304,columnNumber:25},this),e.jsxDEV("div",{children:[e.jsxDEV("h4",{className:"font-medium text-gray-900",children:V.label},void 0,!1,{fileName:"/app/code/frontend/src/pages/auth/RegisterPage.tsx",lineNumber:310,columnNumber:27},this),e.jsxDEV("p",{className:"text-sm text-gray-600",children:V.description},void 0,!1,{fileName:"/app/code/frontend/src/pages/auth/RegisterPage.tsx",lineNumber:313,columnNumber:27},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/auth/RegisterPage.tsx",lineNumber:309,columnNumber:25},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/auth/RegisterPage.tsx",lineNumber:303,columnNumber:23},this)},V.value,!1,{fileName:"/app/code/frontend/src/pages/auth/RegisterPage.tsx",lineNumber:297,columnNumber:21},this))},void 0,!1,{fileName:"/app/code/frontend/src/pages/auth/RegisterPage.tsx",lineNumber:295,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/auth/RegisterPage.tsx",lineNumber:290,columnNumber:15},this),s===2&&e.jsxDEV("div",{className:"space-y-6",children:[e.jsxDEV("div",{className:"flex items-center mb-4",children:[e.jsxDEV("button",{type:"button",onClick:x,className:"mr-4 text-gray-400 hover:text-gray-600",children:e.jsxDEV(mr,{className:"w-5 h-5"},void 0,!1,{fileName:"/app/code/frontend/src/pages/auth/RegisterPage.tsx",lineNumber:333,columnNumber:21},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/auth/RegisterPage.tsx",lineNumber:328,columnNumber:19},this),e.jsxDEV("h3",{className:"text-lg font-medium text-gray-900",children:"Basic Information"},void 0,!1,{fileName:"/app/code/frontend/src/pages/auth/RegisterPage.tsx",lineNumber:335,columnNumber:19},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/auth/RegisterPage.tsx",lineNumber:327,columnNumber:17},this),e.jsxDEV("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name *"},void 0,!1,{fileName:"/app/code/frontend/src/pages/auth/RegisterPage.tsx",lineNumber:342,columnNumber:21},this),e.jsxDEV("input",{...c("firstName",{required:"First name is required"}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-primary-500"},void 0,!1,{fileName:"/app/code/frontend/src/pages/auth/RegisterPage.tsx",lineNumber:345,columnNumber:21},this),b.firstName&&e.jsxDEV("p",{className:"mt-1 text-sm text-red-600",children:b.firstName.message},void 0,!1,{fileName:"/app/code/frontend/src/pages/auth/RegisterPage.tsx",lineNumber:352,columnNumber:23},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/auth/RegisterPage.tsx",lineNumber:341,columnNumber:19},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Name *"},void 0,!1,{fileName:"/app/code/frontend/src/pages/auth/RegisterPage.tsx",lineNumber:359,columnNumber:21},this),e.jsxDEV("input",{...c("lastName",{required:"Last name is required"}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-primary-500"},void 0,!1,{fileName:"/app/code/frontend/src/pages/auth/RegisterPage.tsx",lineNumber:362,columnNumber:21},this),b.lastName&&e.jsxDEV("p",{className:"mt-1 text-sm text-red-600",children:b.lastName.message},void 0,!1,{fileName:"/app/code/frontend/src/pages/auth/RegisterPage.tsx",lineNumber:369,columnNumber:23},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/auth/RegisterPage.tsx",lineNumber:358,columnNumber:19},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/auth/RegisterPage.tsx",lineNumber:340,columnNumber:17},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number *"},void 0,!1,{fileName:"/app/code/frontend/src/pages/auth/RegisterPage.tsx",lineNumber:377,columnNumber:19},this),e.jsxDEV("input",{...c("phone",{required:"Phone number is required",pattern:{value:/^(\+254|0)[7-9]\d{8}$/,message:"Please enter a valid Kenyan phone number"}}),placeholder:"+254712345678 or 0712345678",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-primary-500"},void 0,!1,{fileName:"/app/code/frontend/src/pages/auth/RegisterPage.tsx",lineNumber:380,columnNumber:19},this),b.phone&&e.jsxDEV("p",{className:"mt-1 text-sm text-red-600",children:b.phone.message},void 0,!1,{fileName:"/app/code/frontend/src/pages/auth/RegisterPage.tsx",lineNumber:392,columnNumber:21},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/auth/RegisterPage.tsx",lineNumber:376,columnNumber:17},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"},void 0,!1,{fileName:"/app/code/frontend/src/pages/auth/RegisterPage.tsx",lineNumber:399,columnNumber:19},this),e.jsxDEV("input",{...c("email",{pattern:{value:/^[^\s@]+@[^\s@]+\.[^\s@]+$/,message:"Please enter a valid email address"}}),type:"email",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-primary-500"},void 0,!1,{fileName:"/app/code/frontend/src/pages/auth/RegisterPage.tsx",lineNumber:402,columnNumber:19},this),b.email&&e.jsxDEV("p",{className:"mt-1 text-sm text-red-600",children:b.email.message},void 0,!1,{fileName:"/app/code/frontend/src/pages/auth/RegisterPage.tsx",lineNumber:413,columnNumber:21},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/auth/RegisterPage.tsx",lineNumber:398,columnNumber:17},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"County *"},void 0,!1,{fileName:"/app/code/frontend/src/pages/auth/RegisterPage.tsx",lineNumber:420,columnNumber:19},this),e.jsxDEV("select",{...c("county",{required:"County is required"}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[e.jsxDEV("option",{value:"",children:"Select County"},void 0,!1,{fileName:"/app/code/frontend/src/pages/auth/RegisterPage.tsx",lineNumber:427,columnNumber:21},this),St.map(V=>e.jsxDEV("option",{value:V,children:V},V,!1,{fileName:"/app/code/frontend/src/pages/auth/RegisterPage.tsx",lineNumber:429,columnNumber:23},this))]},void 0,!0,{fileName:"/app/code/frontend/src/pages/auth/RegisterPage.tsx",lineNumber:423,columnNumber:19},this),b.county&&e.jsxDEV("p",{className:"mt-1 text-sm text-red-600",children:b.county.message},void 0,!1,{fileName:"/app/code/frontend/src/pages/auth/RegisterPage.tsx",lineNumber:435,columnNumber:21},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/auth/RegisterPage.tsx",lineNumber:419,columnNumber:17},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password *"},void 0,!1,{fileName:"/app/code/frontend/src/pages/auth/RegisterPage.tsx",lineNumber:442,columnNumber:19},this),e.jsxDEV("div",{className:"relative",children:[e.jsxDEV("input",{...c("password",{required:"Password is required",minLength:{value:6,message:"Password must be at least 6 characters"}}),type:a?"text":"password",className:"w-full border border-gray-300 rounded-lg px-3 py-2 pr-10 focus:ring-2 focus:ring-primary-500 focus:border-primary-500"},void 0,!1,{fileName:"/app/code/frontend/src/pages/auth/RegisterPage.tsx",lineNumber:446,columnNumber:21},this),e.jsxDEV("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>n(!a),children:a?e.jsxDEV(ms,{className:"h-5 w-5 text-gray-400"},void 0,!1,{fileName:"/app/code/frontend/src/pages/auth/RegisterPage.tsx",lineNumber:463,columnNumber:25},this):e.jsxDEV(_e,{className:"h-5 w-5 text-gray-400"},void 0,!1,{fileName:"/app/code/frontend/src/pages/auth/RegisterPage.tsx",lineNumber:465,columnNumber:25},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/auth/RegisterPage.tsx",lineNumber:457,columnNumber:21},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/auth/RegisterPage.tsx",lineNumber:445,columnNumber:19},this),b.password&&e.jsxDEV("p",{className:"mt-1 text-sm text-red-600",children:b.password.message},void 0,!1,{fileName:"/app/code/frontend/src/pages/auth/RegisterPage.tsx",lineNumber:470,columnNumber:21},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/auth/RegisterPage.tsx",lineNumber:441,columnNumber:17},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm Password *"},void 0,!1,{fileName:"/app/code/frontend/src/pages/auth/RegisterPage.tsx",lineNumber:477,columnNumber:19},this),e.jsxDEV("div",{className:"relative",children:[e.jsxDEV("input",{...c("confirmPassword",{required:"Please confirm your password",validate:V=>V===v||"Passwords do not match"}),type:i?"text":"password",className:"w-full border border-gray-300 rounded-lg px-3 py-2 pr-10 focus:ring-2 focus:ring-primary-500 focus:border-primary-500"},void 0,!1,{fileName:"/app/code/frontend/src/pages/auth/RegisterPage.tsx",lineNumber:481,columnNumber:21},this),e.jsxDEV("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>o(!i),children:i?e.jsxDEV(ms,{className:"h-5 w-5 text-gray-400"},void 0,!1,{fileName:"/app/code/frontend/src/pages/auth/RegisterPage.tsx",lineNumber:498,columnNumber:25},this):e.jsxDEV(_e,{className:"h-5 w-5 text-gray-400"},void 0,!1,{fileName:"/app/code/frontend/src/pages/auth/RegisterPage.tsx",lineNumber:500,columnNumber:25},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/auth/RegisterPage.tsx",lineNumber:490,columnNumber:21},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/auth/RegisterPage.tsx",lineNumber:480,columnNumber:19},this),b.confirmPassword&&e.jsxDEV("p",{className:"mt-1 text-sm text-red-600",children:b.confirmPassword.message},void 0,!1,{fileName:"/app/code/frontend/src/pages/auth/RegisterPage.tsx",lineNumber:505,columnNumber:21},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/auth/RegisterPage.tsx",lineNumber:476,columnNumber:17},this),e.jsxDEV("button",{type:"button",onClick:h,className:"w-full bg-primary-600 text-white py-3 px-4 rounded-lg hover:bg-primary-700 transition-colors font-medium flex items-center justify-center",children:["Next",e.jsxDEV(ks,{className:"w-5 h-5 ml-2"},void 0,!1,{fileName:"/app/code/frontend/src/pages/auth/RegisterPage.tsx",lineNumber:517,columnNumber:19},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/auth/RegisterPage.tsx",lineNumber:511,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/auth/RegisterPage.tsx",lineNumber:326,columnNumber:15},this),s===3&&e.jsxDEV("div",{className:"space-y-6",children:[e.jsxDEV("div",{className:"flex items-center mb-4",children:[e.jsxDEV("button",{type:"button",onClick:x,className:"mr-4 text-gray-400 hover:text-gray-600",children:e.jsxDEV(mr,{className:"w-5 h-5"},void 0,!1,{fileName:"/app/code/frontend/src/pages/auth/RegisterPage.tsx",lineNumber:531,columnNumber:21},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/auth/RegisterPage.tsx",lineNumber:526,columnNumber:19},this),e.jsxDEV("h3",{className:"text-lg font-medium text-gray-900",children:[N==="FARMER"&&"Farm Details",N==="DRIVER"&&"Driver Information",N==="FARMER_AGENT"&&"Agent Information",N==="CUSTOMER"&&"Almost Done!"]},void 0,!0,{fileName:"/app/code/frontend/src/pages/auth/RegisterPage.tsx",lineNumber:533,columnNumber:19},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/auth/RegisterPage.tsx",lineNumber:525,columnNumber:17},this),N==="FARMER"&&e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Farm Name"},void 0,!1,{fileName:"/app/code/frontend/src/pages/auth/RegisterPage.tsx",lineNumber:545,columnNumber:23},this),e.jsxDEV("input",{...c("farmName"),placeholder:"e.g., Green Valley Farm",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-primary-500"},void 0,!1,{fileName:"/app/code/frontend/src/pages/auth/RegisterPage.tsx",lineNumber:548,columnNumber:23},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/auth/RegisterPage.tsx",lineNumber:544,columnNumber:21},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sub-County"},void 0,!1,{fileName:"/app/code/frontend/src/pages/auth/RegisterPage.tsx",lineNumber:556,columnNumber:23},this),e.jsxDEV("input",{...c("subCounty"),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-primary-500"},void 0,!1,{fileName:"/app/code/frontend/src/pages/auth/RegisterPage.tsx",lineNumber:559,columnNumber:23},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/auth/RegisterPage.tsx",lineNumber:555,columnNumber:21},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Farm Size (acres)"},void 0,!1,{fileName:"/app/code/frontend/src/pages/auth/RegisterPage.tsx",lineNumber:566,columnNumber:23},this),e.jsxDEV("input",{...c("farmSize"),type:"number",step:"0.1",placeholder:"e.g., 5.5",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-primary-500"},void 0,!1,{fileName:"/app/code/frontend/src/pages/auth/RegisterPage.tsx",lineNumber:569,columnNumber:23},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/auth/RegisterPage.tsx",lineNumber:565,columnNumber:21},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"KRA PIN"},void 0,!1,{fileName:"/app/code/frontend/src/pages/auth/RegisterPage.tsx",lineNumber:579,columnNumber:23},this),e.jsxDEV("input",{...c("kraPin"),placeholder:"e.g., A123456789K",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-primary-500"},void 0,!1,{fileName:"/app/code/frontend/src/pages/auth/RegisterPage.tsx",lineNumber:582,columnNumber:23},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/auth/RegisterPage.tsx",lineNumber:578,columnNumber:21},this),e.jsxDEV("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:e.jsxDEV("div",{className:"flex",children:[e.jsxDEV("div",{className:"flex-shrink-0",children:e.jsxDEV("svg",{className:"h-5 w-5 text-yellow-400",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsxDEV("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"},void 0,!1,{fileName:"/app/code/frontend/src/pages/auth/RegisterPage.tsx",lineNumber:597,columnNumber:29},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/auth/RegisterPage.tsx",lineNumber:592,columnNumber:27},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/auth/RegisterPage.tsx",lineNumber:591,columnNumber:25},this),e.jsxDEV("div",{className:"ml-3",children:[e.jsxDEV("h3",{className:"text-sm font-medium text-yellow-800",children:"Activation Fee Required"},void 0,!1,{fileName:"/app/code/frontend/src/pages/auth/RegisterPage.tsx",lineNumber:605,columnNumber:27},this),e.jsxDEV("div",{className:"mt-2 text-sm text-yellow-700",children:e.jsxDEV("p",{children:"Farmers need to pay a one-time activation fee of KES 300 after registration."},void 0,!1,{fileName:"/app/code/frontend/src/pages/auth/RegisterPage.tsx",lineNumber:609,columnNumber:29},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/auth/RegisterPage.tsx",lineNumber:608,columnNumber:27},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/auth/RegisterPage.tsx",lineNumber:604,columnNumber:25},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/auth/RegisterPage.tsx",lineNumber:590,columnNumber:23},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/auth/RegisterPage.tsx",lineNumber:589,columnNumber:21},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/auth/RegisterPage.tsx",lineNumber:543,columnNumber:19},this),N==="DRIVER"&&e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Driving License Number *"},void 0,!1,{fileName:"/app/code/frontend/src/pages/auth/RegisterPage.tsx",lineNumber:624,columnNumber:23},this),e.jsxDEV("input",{...c("licenseNumber",{required:"License number is required for drivers"}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-primary-500"},void 0,!1,{fileName:"/app/code/frontend/src/pages/auth/RegisterPage.tsx",lineNumber:627,columnNumber:23},this),b.licenseNumber&&e.jsxDEV("p",{className:"mt-1 text-sm text-red-600",children:b.licenseNumber.message},void 0,!1,{fileName:"/app/code/frontend/src/pages/auth/RegisterPage.tsx",lineNumber:634,columnNumber:25},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/auth/RegisterPage.tsx",lineNumber:623,columnNumber:21},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Vehicle Type *"},void 0,!1,{fileName:"/app/code/frontend/src/pages/auth/RegisterPage.tsx",lineNumber:641,columnNumber:23},this),e.jsxDEV("select",{...c("vehicleType",{required:"Vehicle type is required for drivers"}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[e.jsxDEV("option",{value:"",children:"Select Vehicle Type"},void 0,!1,{fileName:"/app/code/frontend/src/pages/auth/RegisterPage.tsx",lineNumber:650,columnNumber:25},this),kl.map(V=>e.jsxDEV("option",{value:V,children:V},V,!1,{fileName:"/app/code/frontend/src/pages/auth/RegisterPage.tsx",lineNumber:652,columnNumber:27},this))]},void 0,!0,{fileName:"/app/code/frontend/src/pages/auth/RegisterPage.tsx",lineNumber:644,columnNumber:23},this),b.vehicleType&&e.jsxDEV("p",{className:"mt-1 text-sm text-red-600",children:b.vehicleType.message},void 0,!1,{fileName:"/app/code/frontend/src/pages/auth/RegisterPage.tsx",lineNumber:658,columnNumber:25},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/auth/RegisterPage.tsx",lineNumber:640,columnNumber:21},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Vehicle Registration Number *"},void 0,!1,{fileName:"/app/code/frontend/src/pages/auth/RegisterPage.tsx",lineNumber:665,columnNumber:23},this),e.jsxDEV("input",{...c("vehicleRegNo",{required:"Vehicle registration number is required for drivers"}),placeholder:"e.g., KCA 123X",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-primary-500"},void 0,!1,{fileName:"/app/code/frontend/src/pages/auth/RegisterPage.tsx",lineNumber:668,columnNumber:23},this),b.vehicleRegNo&&e.jsxDEV("p",{className:"mt-1 text-sm text-red-600",children:b.vehicleRegNo.message},void 0,!1,{fileName:"/app/code/frontend/src/pages/auth/RegisterPage.tsx",lineNumber:677,columnNumber:25},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/auth/RegisterPage.tsx",lineNumber:664,columnNumber:21},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"National ID Number *"},void 0,!1,{fileName:"/app/code/frontend/src/pages/auth/RegisterPage.tsx",lineNumber:684,columnNumber:23},this),e.jsxDEV("input",{...c("idNumber",{required:"ID number is required for drivers"}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-primary-500"},void 0,!1,{fileName:"/app/code/frontend/src/pages/auth/RegisterPage.tsx",lineNumber:687,columnNumber:23},this),b.idNumber&&e.jsxDEV("p",{className:"mt-1 text-sm text-red-600",children:b.idNumber.message},void 0,!1,{fileName:"/app/code/frontend/src/pages/auth/RegisterPage.tsx",lineNumber:694,columnNumber:25},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/auth/RegisterPage.tsx",lineNumber:683,columnNumber:21},this),e.jsxDEV("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxDEV("div",{className:"flex",children:[e.jsxDEV("div",{className:"flex-shrink-0",children:e.jsxDEV("svg",{className:"h-5 w-5 text-blue-400",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsxDEV("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"},void 0,!1,{fileName:"/app/code/frontend/src/pages/auth/RegisterPage.tsx",lineNumber:708,columnNumber:29},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/auth/RegisterPage.tsx",lineNumber:703,columnNumber:27},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/auth/RegisterPage.tsx",lineNumber:702,columnNumber:25},this),e.jsxDEV("div",{className:"ml-3",children:[e.jsxDEV("h3",{className:"text-sm font-medium text-blue-800",children:"Approval Required"},void 0,!1,{fileName:"/app/code/frontend/src/pages/auth/RegisterPage.tsx",lineNumber:716,columnNumber:27},this),e.jsxDEV("div",{className:"mt-2 text-sm text-blue-700",children:e.jsxDEV("p",{children:"Driver applications require verification and approval by our team."},void 0,!1,{fileName:"/app/code/frontend/src/pages/auth/RegisterPage.tsx",lineNumber:720,columnNumber:29},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/auth/RegisterPage.tsx",lineNumber:719,columnNumber:27},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/auth/RegisterPage.tsx",lineNumber:715,columnNumber:25},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/auth/RegisterPage.tsx",lineNumber:701,columnNumber:23},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/auth/RegisterPage.tsx",lineNumber:700,columnNumber:21},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/auth/RegisterPage.tsx",lineNumber:622,columnNumber:19},this),N==="FARMER_AGENT"&&e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Assigned County *"},void 0,!1,{fileName:"/app/code/frontend/src/pages/auth/RegisterPage.tsx",lineNumber:735,columnNumber:23},this),e.jsxDEV("select",{...c("assignedCounty",{required:"Assigned county is required for agents"}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[e.jsxDEV("option",{value:"",children:"Select County"},void 0,!1,{fileName:"/app/code/frontend/src/pages/auth/RegisterPage.tsx",lineNumber:744,columnNumber:25},this),St.map(V=>e.jsxDEV("option",{value:V,children:V},V,!1,{fileName:"/app/code/frontend/src/pages/auth/RegisterPage.tsx",lineNumber:746,columnNumber:27},this))]},void 0,!0,{fileName:"/app/code/frontend/src/pages/auth/RegisterPage.tsx",lineNumber:738,columnNumber:23},this),b.assignedCounty&&e.jsxDEV("p",{className:"mt-1 text-sm text-red-600",children:b.assignedCounty.message},void 0,!1,{fileName:"/app/code/frontend/src/pages/auth/RegisterPage.tsx",lineNumber:752,columnNumber:25},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/auth/RegisterPage.tsx",lineNumber:734,columnNumber:21},this),e.jsxDEV("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:e.jsxDEV("div",{className:"flex",children:[e.jsxDEV("div",{className:"flex-shrink-0",children:e.jsxDEV("svg",{className:"h-5 w-5 text-purple-400",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsxDEV("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-6-3a2 2 0 11-4 0 2 2 0 014 0zm-2 4a5 5 0 00-4.546 2.916A5.986 5.986 0 0010 16a5.986 5.986 0 004.546-2.084A5 5 0 0010 11z",clipRule:"evenodd"},void 0,!1,{fileName:"/app/code/frontend/src/pages/auth/RegisterPage.tsx",lineNumber:766,columnNumber:29},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/auth/RegisterPage.tsx",lineNumber:761,columnNumber:27},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/auth/RegisterPage.tsx",lineNumber:760,columnNumber:25},this),e.jsxDEV("div",{className:"ml-3",children:[e.jsxDEV("h3",{className:"text-sm font-medium text-purple-800",children:"Agent Responsibilities"},void 0,!1,{fileName:"/app/code/frontend/src/pages/auth/RegisterPage.tsx",lineNumber:774,columnNumber:27},this),e.jsxDEV("div",{className:"mt-2 text-sm text-purple-700",children:e.jsxDEV("p",{children:"As an agent, you'll help onboard farmers in your assigned county and earn commissions."},void 0,!1,{fileName:"/app/code/frontend/src/pages/auth/RegisterPage.tsx",lineNumber:778,columnNumber:29},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/auth/RegisterPage.tsx",lineNumber:777,columnNumber:27},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/auth/RegisterPage.tsx",lineNumber:773,columnNumber:25},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/auth/RegisterPage.tsx",lineNumber:759,columnNumber:23},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/auth/RegisterPage.tsx",lineNumber:758,columnNumber:21},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/auth/RegisterPage.tsx",lineNumber:733,columnNumber:19},this),N==="CUSTOMER"&&e.jsxDEV("div",{className:"text-center py-8",children:[e.jsxDEV("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsxDEV(Vr,{className:"w-8 h-8 text-green-600"},void 0,!1,{fileName:"/app/code/frontend/src/pages/auth/RegisterPage.tsx",lineNumber:793,columnNumber:23},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/auth/RegisterPage.tsx",lineNumber:792,columnNumber:21},this),e.jsxDEV("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"You're all set!"},void 0,!1,{fileName:"/app/code/frontend/src/pages/auth/RegisterPage.tsx",lineNumber:795,columnNumber:21},this),e.jsxDEV("p",{className:"text-gray-600",children:"Complete your registration to start shopping for fresh produce."},void 0,!1,{fileName:"/app/code/frontend/src/pages/auth/RegisterPage.tsx",lineNumber:798,columnNumber:21},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/auth/RegisterPage.tsx",lineNumber:791,columnNumber:19},this),e.jsxDEV("button",{type:"submit",disabled:l,className:"w-full bg-primary-600 text-white py-3 px-4 rounded-lg hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-medium",children:l?"Creating Account...":"Create Account"},void 0,!1,{fileName:"/app/code/frontend/src/pages/auth/RegisterPage.tsx",lineNumber:805,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/auth/RegisterPage.tsx",lineNumber:524,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/auth/RegisterPage.tsx",lineNumber:287,columnNumber:11},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/auth/RegisterPage.tsx",lineNumber:250,columnNumber:9},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/auth/RegisterPage.tsx",lineNumber:249,columnNumber:7},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/auth/RegisterPage.tsx",lineNumber:228,columnNumber:5},this)}function Sl(){const{user:r}=ee(),[s,t]=k.useState(!1),[a,n]=k.useState("overview"),[i,o]=k.useState([]),[l,u]=k.useState(null),[c,d]=k.useState([]),[m,p]=k.useState(!0),[b,N]=k.useState({totalConsignments:0,pendingConsignments:0,completedConsignments:0,totalEarnings:0});k.useEffect(()=>{v()},[]);const v=async()=>{try{p(!0);const C=localStorage.getItem("token"),[P,A,S]=await Promise.all([_.get("/api/consignments",{headers:{Authorization:`Bearer ${C}`}}),_.get("/api/wallet",{headers:{Authorization:`Bearer ${C}`}}),_.get("/api/notifications",{headers:{Authorization:`Bearer ${C}`}})]);o(P.data),u(A.data),d(S.data);const E=P.data.length,g=P.data.filter(L=>L.status==="PENDING").length,I=P.data.filter(L=>L.status==="COMPLETED").length,q=A.data.balance+A.data.transactions.filter(L=>L.type==="DEBIT").reduce((L,W)=>L+W.amount,0);N({totalConsignments:E,pendingConsignments:g,completedConsignments:I,totalEarnings:q})}catch(C){console.error("Failed to fetch dashboard data:",C),R.error("Failed to load dashboard data")}finally{p(!1)}},y=async(C,P)=>{try{const A=localStorage.getItem("token"),S=await _.post("/api/wallet/withdraw",{amount:C,phoneNumber:P},{headers:{Authorization:`Bearer ${A}`}});R.success("Withdrawal initiated! Check your phone for M-Pesa prompt."),v()}catch(A){R.error(A.response?.data?.error||"Withdrawal failed")}},h=async C=>{try{const P=localStorage.getItem("token"),A=await _.post("/api/payments/registration-fee",{phoneNumber:C},{headers:{Authorization:`Bearer ${P}`}});R.success("Registration fee payment initiated! Check your phone for M-Pesa prompt.")}catch(P){R.error(P.response?.data?.error||"Payment failed")}},x=[{id:"overview",label:"Overview",icon:Ie},{id:"consignments",label:"Consignments",icon:K},{id:"wallet",label:"Wallet",icon:rs},{id:"notifications",label:"Notifications",icon:Ut},{id:"profile",label:"Profile",icon:jr}],M=C=>({PENDING:"bg-yellow-100 text-yellow-800",APPROVED:"bg-green-100 text-green-800",REJECTED:"bg-red-100 text-red-800",PRICE_SUGGESTED:"bg-blue-100 text-blue-800",DRIVER_ASSIGNED:"bg-indigo-100 text-indigo-800",IN_TRANSIT:"bg-purple-100 text-purple-800",DELIVERED:"bg-cyan-100 text-cyan-800",COMPLETED:"bg-green-100 text-green-800"})[C]||"bg-gray-100 text-gray-800",V=C=>{const A={PENDING:ce,APPROVED:ie,REJECTED:Me,PRICE_SUGGESTED:He,DRIVER_ASSIGNED:re,IN_TRANSIT:re,DELIVERED:ie,COMPLETED:ie}[C]||qe;return e.jsxDEV(A,{className:"w-4 h-4"},void 0,!1,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:201,columnNumber:12},this)};return m?e.jsxDEV("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxDEV("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600"},void 0,!1,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:207,columnNumber:9},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:206,columnNumber:7},this):e.jsxDEV("div",{className:"min-h-screen bg-gray-50 flex",children:[e.jsxDEV("div",{className:`${s?"translate-x-0":"-translate-x-full"} fixed inset-y-0 left-0 z-50 w-64 bg-white shadow-lg transform transition-transform duration-300 ease-in-out lg:translate-x-0 lg:static lg:inset-0`,children:[e.jsxDEV("div",{className:"flex items-center justify-between h-16 px-6 border-b border-gray-200",children:[e.jsxDEV("h2",{className:"text-lg font-semibold text-gray-800",children:"Farmer Dashboard"},void 0,!1,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:219,columnNumber:11},this),e.jsxDEV("button",{onClick:()=>t(!1),className:"lg:hidden text-gray-500 hover:text-gray-700",children:e.jsxDEV(Me,{className:"w-6 h-6"},void 0,!1,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:226,columnNumber:13},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:222,columnNumber:11},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:218,columnNumber:9},this),e.jsxDEV("nav",{className:"mt-6",children:x.map(C=>{const P=C.icon;return e.jsxDEV("button",{onClick:()=>{n(C.id),t(!1)},className:`w-full flex items-center px-6 py-3 text-left hover:bg-gray-50 transition-colors ${a===C.id?"bg-green-50 text-green-600 border-r-2 border-green-600":"text-gray-600"}`,children:[e.jsxDEV(P,{className:"w-5 h-5 mr-3"},void 0,!1,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:246,columnNumber:17},this),C.label]},C.id,!0,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:234,columnNumber:15},this)})},void 0,!1,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:230,columnNumber:9},this),e.jsxDEV("div",{className:"absolute bottom-0 left-0 right-0 p-6 border-t border-gray-200",children:e.jsxDEV("div",{className:"flex items-center",children:[e.jsxDEV("div",{className:"w-10 h-10 bg-green-600 rounded-full flex items-center justify-center text-white font-semibold",children:[r?.firstName?.[0],r?.lastName?.[0]]},void 0,!0,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:256,columnNumber:13},this),e.jsxDEV("div",{className:"ml-3",children:[e.jsxDEV("p",{className:"text-sm font-medium text-gray-800",children:[r?.firstName," ",r?.lastName]},void 0,!0,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:261,columnNumber:15},this),e.jsxDEV("p",{className:"text-xs text-gray-500",children:r?.county},void 0,!1,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:264,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:260,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:255,columnNumber:11},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:254,columnNumber:9},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:215,columnNumber:7},this),e.jsxDEV("div",{className:"flex-1 flex flex-col overflow-hidden",children:[e.jsxDEV("div",{className:"bg-white shadow-sm border-b border-gray-200",children:e.jsxDEV("div",{className:"flex items-center justify-between h-16 px-6",children:[e.jsxDEV("div",{className:"flex items-center",children:[e.jsxDEV("button",{onClick:()=>t(!0),className:"lg:hidden text-gray-500 hover:text-gray-700 mr-3",children:e.jsxDEV(Mt,{className:"w-6 h-6"},void 0,!1,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:280,columnNumber:17},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:276,columnNumber:15},this),e.jsxDEV("h1",{className:"text-xl font-semibold text-gray-800 capitalize",children:a},void 0,!1,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:282,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:275,columnNumber:13},this),!r?.registrationFeePaid&&e.jsxDEV("div",{className:"bg-red-50 border border-red-200 rounded-lg px-4 py-2",children:e.jsxDEV("div",{className:"flex items-center",children:[e.jsxDEV(qe,{className:"w-4 h-4 text-red-600 mr-2"},void 0,!1,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:290,columnNumber:19},this),e.jsxDEV("span",{className:"text-sm text-red-800",children:"Registration fee required"},void 0,!1,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:291,columnNumber:19},this),e.jsxDEV("button",{onClick:()=>{const C=prompt("Enter your M-Pesa phone number:");C&&h(C)},className:"ml-3 bg-red-600 text-white px-3 py-1 rounded text-sm hover:bg-red-700",children:"Pay KES 300"},void 0,!1,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:294,columnNumber:19},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:289,columnNumber:17},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:288,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:274,columnNumber:11},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:273,columnNumber:9},this),e.jsxDEV("div",{className:"flex-1 overflow-auto p-6",children:[a==="overview"&&e.jsxDEV("div",{className:"space-y-6",children:[e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxDEV("div",{className:"bg-white rounded-lg shadow-sm p-6 border border-gray-200",children:e.jsxDEV("div",{className:"flex items-center",children:[e.jsxDEV(K,{className:"w-8 h-8 text-blue-600"},void 0,!1,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:317,columnNumber:21},this),e.jsxDEV("div",{className:"ml-4",children:[e.jsxDEV("p",{className:"text-sm font-medium text-gray-500",children:"Total Consignments"},void 0,!1,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:319,columnNumber:23},this),e.jsxDEV("p",{className:"text-2xl font-bold text-gray-900",children:b.totalConsignments},void 0,!1,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:322,columnNumber:23},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:318,columnNumber:21},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:316,columnNumber:19},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:315,columnNumber:17},this),e.jsxDEV("div",{className:"bg-white rounded-lg shadow-sm p-6 border border-gray-200",children:e.jsxDEV("div",{className:"flex items-center",children:[e.jsxDEV(ce,{className:"w-8 h-8 text-yellow-600"},void 0,!1,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:331,columnNumber:21},this),e.jsxDEV("div",{className:"ml-4",children:[e.jsxDEV("p",{className:"text-sm font-medium text-gray-500",children:"Pending"},void 0,!1,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:333,columnNumber:23},this),e.jsxDEV("p",{className:"text-2xl font-bold text-gray-900",children:b.pendingConsignments},void 0,!1,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:336,columnNumber:23},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:332,columnNumber:21},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:330,columnNumber:19},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:329,columnNumber:17},this),e.jsxDEV("div",{className:"bg-white rounded-lg shadow-sm p-6 border border-gray-200",children:e.jsxDEV("div",{className:"flex items-center",children:[e.jsxDEV(ie,{className:"w-8 h-8 text-green-600"},void 0,!1,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:345,columnNumber:21},this),e.jsxDEV("div",{className:"ml-4",children:[e.jsxDEV("p",{className:"text-sm font-medium text-gray-500",children:"Completed"},void 0,!1,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:347,columnNumber:23},this),e.jsxDEV("p",{className:"text-2xl font-bold text-gray-900",children:b.completedConsignments},void 0,!1,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:350,columnNumber:23},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:346,columnNumber:21},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:344,columnNumber:19},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:343,columnNumber:17},this),e.jsxDEV("div",{className:"bg-white rounded-lg shadow-sm p-6 border border-gray-200",children:e.jsxDEV("div",{className:"flex items-center",children:[e.jsxDEV(rs,{className:"w-8 h-8 text-green-600"},void 0,!1,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:359,columnNumber:21},this),e.jsxDEV("div",{className:"ml-4",children:[e.jsxDEV("p",{className:"text-sm font-medium text-gray-500",children:"Wallet Balance"},void 0,!1,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:361,columnNumber:23},this),e.jsxDEV("p",{className:"text-2xl font-bold text-gray-900",children:["KES ",l?.balance?.toLocaleString()||0]},void 0,!0,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:364,columnNumber:23},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:360,columnNumber:21},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:358,columnNumber:19},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:357,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:314,columnNumber:15},this),e.jsxDEV("div",{className:"bg-white rounded-lg shadow-sm p-6 border border-gray-200",children:[e.jsxDEV("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Actions"},void 0,!1,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:374,columnNumber:17},this),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxDEV("button",{onClick:()=>n("consignments"),className:"flex items-center justify-center px-4 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",disabled:!r?.registrationFeePaid,children:[e.jsxDEV(Tr,{className:"w-5 h-5 mr-2"},void 0,!1,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:383,columnNumber:21},this),"Submit Consignment"]},void 0,!0,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:378,columnNumber:19},this),e.jsxDEV("button",{onClick:()=>n("wallet"),className:"flex items-center justify-center px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsxDEV(rs,{className:"w-5 h-5 mr-2"},void 0,!1,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:391,columnNumber:21},this),"Manage Wallet"]},void 0,!0,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:387,columnNumber:19},this),e.jsxDEV("button",{onClick:()=>n("consignments"),className:"flex items-center justify-center px-4 py-3 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:[e.jsxDEV(_e,{className:"w-5 h-5 mr-2"},void 0,!1,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:399,columnNumber:21},this),"View Consignments"]},void 0,!0,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:395,columnNumber:19},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:377,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:373,columnNumber:15},this),e.jsxDEV("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[e.jsxDEV("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsxDEV("h3",{className:"text-lg font-semibold text-gray-900",children:"Recent Consignments"},void 0,!1,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:408,columnNumber:19},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:407,columnNumber:17},this),e.jsxDEV("div",{className:"p-6",children:i.slice(0,5).map(C=>e.jsxDEV("div",{className:"flex items-center justify-between py-3 border-b border-gray-100 last:border-b-0",children:[e.jsxDEV("div",{className:"flex items-center",children:[e.jsxDEV("img",{src:C.images[0]||"/placeholder.jpg",alt:C.title,className:"w-12 h-12 rounded-lg object-cover"},void 0,!1,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:419,columnNumber:25},this),e.jsxDEV("div",{className:"ml-4",children:[e.jsxDEV("p",{className:"font-medium text-gray-900",children:C.title},void 0,!1,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:425,columnNumber:27},this),e.jsxDEV("p",{className:"text-sm text-gray-500",children:[C.quantity," ",C.unit]},void 0,!0,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:428,columnNumber:27},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:424,columnNumber:25},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:418,columnNumber:23},this),e.jsxDEV("div",{className:"flex items-center space-x-3",children:[e.jsxDEV("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${M(C.status)}`,children:[V(C.status),e.jsxDEV("span",{className:"ml-1",children:C.status.replace("_"," ")},void 0,!1,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:438,columnNumber:27},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:434,columnNumber:25},this),e.jsxDEV("span",{className:"text-sm font-medium text-gray-900",children:["KES"," ",C.finalPricePerUnit||C.bidPricePerUnit,"/kg"]},void 0,!0,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:442,columnNumber:25},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:433,columnNumber:23},this)]},C.id,!0,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:414,columnNumber:21},this))},void 0,!1,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:412,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:406,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:312,columnNumber:13},this),a==="consignments"&&e.jsxDEV(Rl,{consignments:i,onRefresh:v,canSubmit:r?.registrationFeePaid||!1},void 0,!1,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:457,columnNumber:13},this),a==="wallet"&&e.jsxDEV(Fl,{wallet:l,onWithdraw:y,onRefresh:v},void 0,!1,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:465,columnNumber:13},this),a==="notifications"&&e.jsxDEV(Ml,{notifications:c,onRefresh:v},void 0,!1,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:473,columnNumber:13},this),a==="profile"&&e.jsxDEV(Ol,{user:r},void 0,!1,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:479,columnNumber:43},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:310,columnNumber:9},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:271,columnNumber:7},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:213,columnNumber:5},this)}function Rl({consignments:r,onRefresh:s,canSubmit:t}){const[a,n]=k.useState(!1),[i,o]=k.useState({title:"",description:"",category:"Vegetables",quantity:"",unit:"kg",bidPricePerUnit:"",location:"",harvestDate:"",expiryDate:"",images:[""]}),l=async u=>{if(u.preventDefault(),!t){R.error("Please pay the registration fee first");return}try{const c=localStorage.getItem("token");await _.post("/api/consignments",{...i,quantity:parseFloat(i.quantity),bidPricePerUnit:parseFloat(i.bidPricePerUnit)},{headers:{Authorization:`Bearer ${c}`}}),R.success("Consignment submitted successfully!"),n(!1),o({title:"",description:"",category:"Vegetables",quantity:"",unit:"kg",bidPricePerUnit:"",location:"",harvestDate:"",expiryDate:"",images:[""]}),s()}catch(c){R.error(c.response?.data?.error||"Failed to submit consignment")}};return e.jsxDEV("div",{className:"space-y-6",children:[e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("h2",{className:"text-2xl font-bold text-gray-900",children:"My Consignments"},void 0,!1,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:546,columnNumber:9},this),e.jsxDEV("button",{onClick:()=>n(!0),disabled:!t,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 disabled:bg-gray-400 disabled:cursor-not-allowed flex items-center",children:[e.jsxDEV(Tr,{className:"w-5 h-5 mr-2"},void 0,!1,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:552,columnNumber:11},this),"Submit New Consignment"]},void 0,!0,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:547,columnNumber:9},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:545,columnNumber:7},this),!t&&e.jsxDEV("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:e.jsxDEV("div",{className:"flex items-center",children:[e.jsxDEV(qe,{className:"w-5 h-5 text-yellow-600 mr-2"},void 0,!1,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:560,columnNumber:13},this),e.jsxDEV("span",{className:"text-yellow-800",children:"You must pay the KES 300 registration fee before submitting consignments."},void 0,!1,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:561,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:559,columnNumber:11},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:558,columnNumber:9},this),a&&e.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxDEV("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxDEV("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("h3",{className:"text-lg font-semibold text-gray-900",children:"Submit New Consignment"},void 0,!1,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:574,columnNumber:17},this),e.jsxDEV("button",{onClick:()=>n(!1),className:"text-gray-500 hover:text-gray-700",children:e.jsxDEV(Me,{className:"w-6 h-6"},void 0,!1,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:581,columnNumber:19},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:577,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:573,columnNumber:15},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:572,columnNumber:13},this),e.jsxDEV("form",{onSubmit:l,className:"p-6 space-y-4",children:[e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title"},void 0,!1,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:589,columnNumber:19},this),e.jsxDEV("input",{type:"text",required:!0,value:i.title,onChange:u=>o(c=>({...c,title:u.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500",placeholder:"e.g., Fresh Tomatoes"},void 0,!1,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:592,columnNumber:19},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:588,columnNumber:17},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"},void 0,!1,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:608,columnNumber:19},this),e.jsxDEV("select",{value:i.category,onChange:u=>o(c=>({...c,category:u.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500",children:[e.jsxDEV("option",{value:"Vegetables",children:"Vegetables"},void 0,!1,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:621,columnNumber:21},this),e.jsxDEV("option",{value:"Fruits",children:"Fruits"},void 0,!1,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:622,columnNumber:21},this),e.jsxDEV("option",{value:"Grains",children:"Grains"},void 0,!1,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:623,columnNumber:21},this),e.jsxDEV("option",{value:"Legumes",children:"Legumes"},void 0,!1,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:624,columnNumber:21},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:611,columnNumber:19},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:607,columnNumber:17},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Quantity"},void 0,!1,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:629,columnNumber:19},this),e.jsxDEV("input",{type:"number",required:!0,value:i.quantity,onChange:u=>o(c=>({...c,quantity:u.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500",placeholder:"e.g., 500"},void 0,!1,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:632,columnNumber:19},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:628,columnNumber:17},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Unit"},void 0,!1,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:648,columnNumber:19},this),e.jsxDEV("select",{value:i.unit,onChange:u=>o(c=>({...c,unit:u.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500",children:[e.jsxDEV("option",{value:"kg",children:"Kilograms (kg)"},void 0,!1,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:658,columnNumber:21},this),e.jsxDEV("option",{value:"tonnes",children:"Tonnes"},void 0,!1,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:659,columnNumber:21},this),e.jsxDEV("option",{value:"bags",children:"Bags"},void 0,!1,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:660,columnNumber:21},this),e.jsxDEV("option",{value:"pieces",children:"Pieces"},void 0,!1,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:661,columnNumber:21},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:651,columnNumber:19},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:647,columnNumber:17},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Bid Price per Unit (KES)"},void 0,!1,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:666,columnNumber:19},this),e.jsxDEV("input",{type:"number",required:!0,value:i.bidPricePerUnit,onChange:u=>o(c=>({...c,bidPricePerUnit:u.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500",placeholder:"e.g., 80"},void 0,!1,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:669,columnNumber:19},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:665,columnNumber:17},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Location"},void 0,!1,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:685,columnNumber:19},this),e.jsxDEV("input",{type:"text",required:!0,value:i.location,onChange:u=>o(c=>({...c,location:u.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500",placeholder:"e.g., Nakuru"},void 0,!1,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:688,columnNumber:19},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:684,columnNumber:17},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Harvest Date"},void 0,!1,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:704,columnNumber:19},this),e.jsxDEV("input",{type:"date",required:!0,value:i.harvestDate,onChange:u=>o(c=>({...c,harvestDate:u.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500"},void 0,!1,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:707,columnNumber:19},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:703,columnNumber:17},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Expiry Date"},void 0,!1,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:722,columnNumber:19},this),e.jsxDEV("input",{type:"date",required:!0,value:i.expiryDate,onChange:u=>o(c=>({...c,expiryDate:u.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500"},void 0,!1,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:725,columnNumber:19},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:721,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:587,columnNumber:15},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"},void 0,!1,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:741,columnNumber:17},this),e.jsxDEV("textarea",{required:!0,value:i.description,onChange:u=>o(c=>({...c,description:u.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500",rows:3,placeholder:"Describe your produce quality, farming methods, etc."},void 0,!1,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:744,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:740,columnNumber:15},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Image URL"},void 0,!1,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:760,columnNumber:17},this),e.jsxDEV("input",{type:"url",value:i.images[0],onChange:u=>o(c=>({...c,images:[u.target.value]})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500",placeholder:"https://example.com/image.jpg"},void 0,!1,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:763,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:759,columnNumber:15},this),e.jsxDEV("div",{className:"flex justify-end space-x-3 pt-4",children:[e.jsxDEV("button",{type:"button",onClick:()=>n(!1),className:"px-4 py-2 text-gray-700 bg-gray-200 rounded-lg hover:bg-gray-300",children:"Cancel"},void 0,!1,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:778,columnNumber:17},this),e.jsxDEV("button",{type:"submit",className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:"Submit Consignment"},void 0,!1,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:785,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:777,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:586,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:571,columnNumber:11},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:570,columnNumber:9},this),e.jsxDEV("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[e.jsxDEV("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsxDEV("h3",{className:"text-lg font-semibold text-gray-900",children:["All Consignments (",r.length,")"]},void 0,!0,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:800,columnNumber:11},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:799,columnNumber:9},this),e.jsxDEV("div",{className:"divide-y divide-gray-200",children:r.map(u=>e.jsxDEV("div",{className:"p-6",children:[e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{className:"flex items-center",children:[e.jsxDEV("img",{src:u.images[0]||"/placeholder.jpg",alt:u.title,className:"w-16 h-16 rounded-lg object-cover"},void 0,!1,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:809,columnNumber:19},this),e.jsxDEV("div",{className:"ml-4",children:[e.jsxDEV("h4",{className:"text-lg font-medium text-gray-900",children:u.title},void 0,!1,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:815,columnNumber:21},this),e.jsxDEV("p",{className:"text-sm text-gray-500",children:u.description},void 0,!1,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:818,columnNumber:21},this),e.jsxDEV("div",{className:"flex items-center space-x-4 mt-2",children:[e.jsxDEV("span",{className:"text-sm text-gray-600",children:[u.quantity," ",u.unit]},void 0,!0,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:822,columnNumber:23},this),e.jsxDEV("span",{className:"text-sm text-gray-600",children:["KES ",u.bidPricePerUnit,"/",u.unit]},void 0,!0,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:825,columnNumber:23},this),e.jsxDEV("span",{className:"text-sm text-gray-600",children:u.location},void 0,!1,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:828,columnNumber:23},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:821,columnNumber:21},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:814,columnNumber:19},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:808,columnNumber:17},this),e.jsxDEV("div",{className:"text-right",children:[e.jsxDEV("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${Tl(u.status)}`,children:[Il(u.status),e.jsxDEV("span",{className:"ml-1",children:u.status.replace("_"," ")},void 0,!1,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:839,columnNumber:21},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:835,columnNumber:19},this),e.jsxDEV("p",{className:"text-sm text-gray-500 mt-1",children:new Date(u.createdAt).toLocaleDateString()},void 0,!1,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:843,columnNumber:19},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:834,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:807,columnNumber:15},this),u.adminNotes&&e.jsxDEV("div",{className:"mt-4 p-3 bg-gray-50 rounded-lg",children:e.jsxDEV("p",{className:"text-sm text-gray-700",children:[e.jsxDEV("strong",{children:"Admin Notes:"},void 0,!1,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:851,columnNumber:21},this)," ",u.adminNotes]},void 0,!0,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:850,columnNumber:19},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:849,columnNumber:17},this)]},u.id,!0,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:806,columnNumber:13},this))},void 0,!1,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:804,columnNumber:9},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:798,columnNumber:7},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:544,columnNumber:5},this)}function Fl({wallet:r,onWithdraw:s,onRefresh:t}){const[a,n]=k.useState(!1),[i,o]=k.useState(""),[l,u]=k.useState(""),c=async d=>{d.preventDefault();const m=parseFloat(i);if(m<10){R.error("Minimum withdrawal amount is KES 10");return}if(m>r.balance){R.error("Insufficient balance");return}await s(m,l),n(!1),o(""),u("")};return e.jsxDEV("div",{className:"space-y-6",children:[e.jsxDEV("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsxDEV("div",{className:"flex items-center justify-between mb-6",children:[e.jsxDEV("h2",{className:"text-2xl font-bold text-gray-900",children:"Wallet"},void 0,!1,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:893,columnNumber:11},this),e.jsxDEV("button",{onClick:()=>n(!0),disabled:!r?.balance||r.balance<10,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 disabled:bg-gray-400 disabled:cursor-not-allowed",children:"Withdraw Funds"},void 0,!1,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:894,columnNumber:11},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:892,columnNumber:9},this),e.jsxDEV("div",{className:"bg-gradient-to-r from-green-500 to-green-600 rounded-lg p-6 text-white",children:[e.jsxDEV("h3",{className:"text-lg font-medium mb-2",children:"Available Balance"},void 0,!1,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:904,columnNumber:11},this),e.jsxDEV("p",{className:"text-3xl font-bold",children:["KES ",r?.balance?.toLocaleString()||0]},void 0,!0,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:905,columnNumber:11},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:903,columnNumber:9},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:891,columnNumber:7},this),a&&e.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxDEV("div",{className:"bg-white rounded-lg max-w-md w-full",children:[e.jsxDEV("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("h3",{className:"text-lg font-semibold text-gray-900",children:"Withdraw Funds"},void 0,!1,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:916,columnNumber:17},this),e.jsxDEV("button",{onClick:()=>n(!1),className:"text-gray-500 hover:text-gray-700",children:e.jsxDEV(Me,{className:"w-6 h-6"},void 0,!1,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:923,columnNumber:19},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:919,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:915,columnNumber:15},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:914,columnNumber:13},this),e.jsxDEV("form",{onSubmit:c,className:"p-6 space-y-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Amount (KES)"},void 0,!1,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:930,columnNumber:17},this),e.jsxDEV("input",{type:"number",min:"10",max:r?.balance||0,required:!0,value:i,onChange:d=>o(d.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500",placeholder:"Enter amount"},void 0,!1,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:933,columnNumber:17},this),e.jsxDEV("p",{className:"text-sm text-gray-500 mt-1",children:["Minimum: KES 10 | Available: KES"," ",r?.balance?.toLocaleString()||0]},void 0,!0,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:943,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:929,columnNumber:15},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"M-Pesa Phone Number"},void 0,!1,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:950,columnNumber:17},this),e.jsxDEV("input",{type:"tel",required:!0,value:l,onChange:d=>u(d.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500",placeholder:"+254712345678"},void 0,!1,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:953,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:949,columnNumber:15},this),e.jsxDEV("div",{className:"flex justify-end space-x-3 pt-4",children:[e.jsxDEV("button",{type:"button",onClick:()=>n(!1),className:"px-4 py-2 text-gray-700 bg-gray-200 rounded-lg hover:bg-gray-300",children:"Cancel"},void 0,!1,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:964,columnNumber:17},this),e.jsxDEV("button",{type:"submit",className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:"Withdraw"},void 0,!1,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:971,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:963,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:928,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:913,columnNumber:11},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:912,columnNumber:9},this),e.jsxDEV("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[e.jsxDEV("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsxDEV("h3",{className:"text-lg font-semibold text-gray-900",children:"Transaction History"},void 0,!1,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:986,columnNumber:11},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:985,columnNumber:9},this),e.jsxDEV("div",{className:"divide-y divide-gray-200",children:r?.transactions?.map(d=>e.jsxDEV("div",{className:"p-6 flex items-center justify-between",children:[e.jsxDEV("div",{className:"flex items-center",children:[e.jsxDEV("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${d.type==="CREDIT"?"bg-green-100":"bg-red-100"}`,children:d.type==="CREDIT"?e.jsxDEV(Ie,{className:"w-5 h-5 text-green-600"},void 0,!1,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:1005,columnNumber:21},this):e.jsxDEV(Ie,{className:"w-5 h-5 text-red-600 transform rotate-180"},void 0,!1,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:1007,columnNumber:21},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:997,columnNumber:17},this),e.jsxDEV("div",{className:"ml-4",children:[e.jsxDEV("p",{className:"font-medium text-gray-900",children:d.description},void 0,!1,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:1013,columnNumber:19},this),e.jsxDEV("p",{className:"text-sm text-gray-500",children:[new Date(d.createdAt).toLocaleDateString()," at"," ",new Date(d.createdAt).toLocaleTimeString()]},void 0,!0,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:1016,columnNumber:19},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:1012,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:996,columnNumber:15},this),e.jsxDEV("div",{className:"text-right",children:e.jsxDEV("p",{className:`font-semibold ${d.type==="CREDIT"?"text-green-600":"text-red-600"}`,children:[d.type==="CREDIT"?"+":"-","KES"," ",d.amount.toLocaleString()]},void 0,!0,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:1023,columnNumber:17},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:1022,columnNumber:15},this)]},d.id,!0,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:992,columnNumber:13},this))},void 0,!1,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:990,columnNumber:9},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:984,columnNumber:7},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:890,columnNumber:5},this)}function Ml({notifications:r,onRefresh:s}){const t=async a=>{try{const n=localStorage.getItem("token");await _.put(`/api/notifications/${a}/read`,{},{headers:{Authorization:`Bearer ${n}`}}),s()}catch(n){console.error("Failed to mark notification as read:",n)}};return e.jsxDEV("div",{className:"space-y-6",children:[e.jsxDEV("h2",{className:"text-2xl font-bold text-gray-900",children:"Notifications"},void 0,!1,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:1060,columnNumber:7},this),e.jsxDEV("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:e.jsxDEV("div",{className:"divide-y divide-gray-200",children:[r.map(a=>e.jsxDEV("div",{className:`p-6 ${a.isRead?"bg-white":"bg-blue-50"}`,children:e.jsxDEV("div",{className:"flex items-start justify-between",children:[e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV("div",{className:"flex items-center",children:[e.jsxDEV("h4",{className:"text-lg font-medium text-gray-900",children:a.title},void 0,!1,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:1072,columnNumber:21},this),!a.isRead&&e.jsxDEV("span",{className:"ml-2 w-2 h-2 bg-blue-600 rounded-full"},void 0,!1,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:1076,columnNumber:23},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:1071,columnNumber:19},this),e.jsxDEV("p",{className:"text-gray-700 mt-1",children:a.message},void 0,!1,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:1079,columnNumber:19},this),e.jsxDEV("p",{className:"text-sm text-gray-500 mt-2",children:[new Date(a.createdAt).toLocaleDateString()," at"," ",new Date(a.createdAt).toLocaleTimeString()]},void 0,!0,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:1080,columnNumber:19},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:1070,columnNumber:17},this),!a.isRead&&e.jsxDEV("button",{onClick:()=>t(a.id),className:"ml-4 text-blue-600 hover:text-blue-800 text-sm font-medium",children:"Mark as read"},void 0,!1,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:1086,columnNumber:19},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:1069,columnNumber:15},this)},a.id,!1,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:1065,columnNumber:13},this)),r.length===0&&e.jsxDEV("div",{className:"p-6 text-center text-gray-500",children:"No notifications yet"},void 0,!1,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:1097,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:1063,columnNumber:9},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:1062,columnNumber:7},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:1059,columnNumber:5},this)}function Ol({user:r}){return e.jsxDEV("div",{className:"space-y-6",children:[e.jsxDEV("h2",{className:"text-2xl font-bold text-gray-900",children:"Profile"},void 0,!1,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:1111,columnNumber:7},this),e.jsxDEV("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsxDEV("div",{className:"flex items-center mb-6",children:[e.jsxDEV("div",{className:"w-20 h-20 bg-green-600 rounded-full flex items-center justify-center text-white text-2xl font-bold",children:[r?.firstName?.[0],r?.lastName?.[0]]},void 0,!0,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:1115,columnNumber:11},this),e.jsxDEV("div",{className:"ml-6",children:[e.jsxDEV("h3",{className:"text-xl font-semibold text-gray-900",children:[r?.firstName," ",r?.lastName]},void 0,!0,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:1120,columnNumber:13},this),e.jsxDEV("p",{className:"text-gray-600",children:r?.email},void 0,!1,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:1123,columnNumber:13},this),e.jsxDEV("p",{className:"text-gray-600",children:r?.phone},void 0,!1,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:1124,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:1119,columnNumber:11},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:1114,columnNumber:9},this),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"},void 0,!1,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:1130,columnNumber:13},this),e.jsxDEV("p",{className:"text-gray-900 capitalize",children:r?.role},void 0,!1,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:1133,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:1129,columnNumber:11},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"County"},void 0,!1,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:1136,columnNumber:13},this),e.jsxDEV("p",{className:"text-gray-900",children:r?.county},void 0,!1,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:1139,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:1135,columnNumber:11},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Registration Status"},void 0,!1,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:1142,columnNumber:13},this),e.jsxDEV("div",{className:"flex items-center",children:r?.registrationFeePaid?e.jsxDEV("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[e.jsxDEV(ie,{className:"w-4 h-4 mr-1"},void 0,!1,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:1148,columnNumber:19},this),"Paid"]},void 0,!0,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:1147,columnNumber:17},this):e.jsxDEV("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:[e.jsxDEV(qe,{className:"w-4 h-4 mr-1"},void 0,!1,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:1153,columnNumber:19},this),"Fee Required"]},void 0,!0,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:1152,columnNumber:17},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:1145,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:1141,columnNumber:11},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Verification Status"},void 0,!1,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:1160,columnNumber:13},this),e.jsxDEV("div",{className:"flex items-center",children:r?.verified?e.jsxDEV("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[e.jsxDEV(ie,{className:"w-4 h-4 mr-1"},void 0,!1,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:1166,columnNumber:19},this),"Verified"]},void 0,!0,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:1165,columnNumber:17},this):e.jsxDEV("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:[e.jsxDEV(ce,{className:"w-4 h-4 mr-1"},void 0,!1,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:1171,columnNumber:19},this),"Pending"]},void 0,!0,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:1170,columnNumber:17},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:1163,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:1159,columnNumber:11},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:1128,columnNumber:9},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:1113,columnNumber:7},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:1110,columnNumber:5},this)}function Tl(r){return{PENDING:"bg-yellow-100 text-yellow-800",APPROVED:"bg-green-100 text-green-800",REJECTED:"bg-red-100 text-red-800",PRICE_SUGGESTED:"bg-blue-100 text-blue-800",DRIVER_ASSIGNED:"bg-indigo-100 text-indigo-800",IN_TRANSIT:"bg-purple-100 text-purple-800",DELIVERED:"bg-cyan-100 text-cyan-800",COMPLETED:"bg-green-100 text-green-800"}[r]||"bg-gray-100 text-gray-800"}function Il(r){const t={PENDING:ce,APPROVED:ie,REJECTED:Me,PRICE_SUGGESTED:He,DRIVER_ASSIGNED:re,IN_TRANSIT:re,DELIVERED:ie,COMPLETED:ie}[r]||qe;return e.jsxDEV(t,{className:"w-4 h-4"},void 0,!1,{fileName:"/app/code/frontend/src/pages/farmer/FarmerDashboard.tsx",lineNumber:1210,columnNumber:10},this)}function Ul(){const{user:r}=ee(),s=Se(),[t,a]=k.useState([]),[n,i]=k.useState(!0),[o,l]=k.useState({totalOrders:0,completedOrders:0,totalSpent:0,pendingOrders:0});k.useEffect(()=>{s("/customer/profile",{replace:!0})},[s]),k.useEffect(()=>{u()},[]);const u=async()=>{try{i(!0);const m=localStorage.getItem("token"),p=await _.get("/api/orders",{headers:{Authorization:`Bearer ${m}`}});a(p.data);const b=p.data.length,N=p.data.filter(h=>h.status==="DELIVERED").length,v=p.data.filter(h=>h.paymentStatus==="COMPLETED").reduce((h,x)=>h+x.totalAmount,0),y=p.data.filter(h=>h.status==="PENDING").length;l({totalOrders:b,completedOrders:N,totalSpent:v,pendingOrders:y})}catch(m){console.error("Failed to fetch orders:",m),R.error("Failed to load orders")}finally{i(!1)}},c=m=>({PENDING:"bg-yellow-100 text-yellow-800",CONFIRMED:"bg-blue-100 text-blue-800",PROCESSING:"bg-indigo-100 text-indigo-800",SHIPPED:"bg-purple-100 text-purple-800",DELIVERED:"bg-green-100 text-green-800",CANCELLED:"bg-red-100 text-red-800"})[m]||"bg-gray-100 text-gray-800",d=m=>{const b={PENDING:ce,CONFIRMED:K,PROCESSING:K,SHIPPED:re,DELIVERED:K,CANCELLED:K}[m]||K;return e.jsxDEV(b,{className:"w-4 h-4"},void 0,!1,{fileName:"/app/code/frontend/src/pages/customer/CustomerDashboard.tsx",lineNumber:126,columnNumber:12},this)};return n?e.jsxDEV("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxDEV("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600"},void 0,!1,{fileName:"/app/code/frontend/src/pages/customer/CustomerDashboard.tsx",lineNumber:132,columnNumber:9},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/customer/CustomerDashboard.tsx",lineNumber:131,columnNumber:7},this):e.jsxDEV("div",{className:"min-h-screen bg-gray-50",children:e.jsxDEV("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxDEV("div",{className:"mb-8",children:[e.jsxDEV("h1",{className:"text-3xl font-bold text-gray-900",children:["Welcome back, ",r?.firstName,"!"]},void 0,!0,{fileName:"/app/code/frontend/src/pages/customer/CustomerDashboard.tsx",lineNumber:142,columnNumber:11},this),e.jsxDEV("p",{className:"text-gray-600 mt-2",children:"Manage your profile and view your order history"},void 0,!1,{fileName:"/app/code/frontend/src/pages/customer/CustomerDashboard.tsx",lineNumber:145,columnNumber:11},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/customer/CustomerDashboard.tsx",lineNumber:141,columnNumber:9},this),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[e.jsxDEV("div",{className:"bg-white rounded-lg shadow-sm p-6 border border-gray-200",children:e.jsxDEV("div",{className:"flex items-center",children:[e.jsxDEV(Le,{className:"w-8 h-8 text-blue-600"},void 0,!1,{fileName:"/app/code/frontend/src/pages/customer/CustomerDashboard.tsx",lineNumber:154,columnNumber:15},this),e.jsxDEV("div",{className:"ml-4",children:[e.jsxDEV("p",{className:"text-sm font-medium text-gray-500",children:"Total Orders"},void 0,!1,{fileName:"/app/code/frontend/src/pages/customer/CustomerDashboard.tsx",lineNumber:156,columnNumber:17},this),e.jsxDEV("p",{className:"text-2xl font-bold text-gray-900",children:o.totalOrders},void 0,!1,{fileName:"/app/code/frontend/src/pages/customer/CustomerDashboard.tsx",lineNumber:159,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/customer/CustomerDashboard.tsx",lineNumber:155,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/customer/CustomerDashboard.tsx",lineNumber:153,columnNumber:13},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/customer/CustomerDashboard.tsx",lineNumber:152,columnNumber:11},this),e.jsxDEV("div",{className:"bg-white rounded-lg shadow-sm p-6 border border-gray-200",children:e.jsxDEV("div",{className:"flex items-center",children:[e.jsxDEV(ce,{className:"w-8 h-8 text-yellow-600"},void 0,!1,{fileName:"/app/code/frontend/src/pages/customer/CustomerDashboard.tsx",lineNumber:168,columnNumber:15},this),e.jsxDEV("div",{className:"ml-4",children:[e.jsxDEV("p",{className:"text-sm font-medium text-gray-500",children:"Pending Orders"},void 0,!1,{fileName:"/app/code/frontend/src/pages/customer/CustomerDashboard.tsx",lineNumber:170,columnNumber:17},this),e.jsxDEV("p",{className:"text-2xl font-bold text-gray-900",children:o.pendingOrders},void 0,!1,{fileName:"/app/code/frontend/src/pages/customer/CustomerDashboard.tsx",lineNumber:173,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/customer/CustomerDashboard.tsx",lineNumber:169,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/customer/CustomerDashboard.tsx",lineNumber:167,columnNumber:13},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/customer/CustomerDashboard.tsx",lineNumber:166,columnNumber:11},this),e.jsxDEV("div",{className:"bg-white rounded-lg shadow-sm p-6 border border-gray-200",children:e.jsxDEV("div",{className:"flex items-center",children:[e.jsxDEV(K,{className:"w-8 h-8 text-green-600"},void 0,!1,{fileName:"/app/code/frontend/src/pages/customer/CustomerDashboard.tsx",lineNumber:182,columnNumber:15},this),e.jsxDEV("div",{className:"ml-4",children:[e.jsxDEV("p",{className:"text-sm font-medium text-gray-500",children:"Completed"},void 0,!1,{fileName:"/app/code/frontend/src/pages/customer/CustomerDashboard.tsx",lineNumber:184,columnNumber:17},this),e.jsxDEV("p",{className:"text-2xl font-bold text-gray-900",children:o.completedOrders},void 0,!1,{fileName:"/app/code/frontend/src/pages/customer/CustomerDashboard.tsx",lineNumber:185,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/customer/CustomerDashboard.tsx",lineNumber:183,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/customer/CustomerDashboard.tsx",lineNumber:181,columnNumber:13},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/customer/CustomerDashboard.tsx",lineNumber:180,columnNumber:11},this),e.jsxDEV("div",{className:"bg-white rounded-lg shadow-sm p-6 border border-gray-200",children:e.jsxDEV("div",{className:"flex items-center",children:[e.jsxDEV(dr,{className:"w-8 h-8 text-green-600"},void 0,!1,{fileName:"/app/code/frontend/src/pages/customer/CustomerDashboard.tsx",lineNumber:194,columnNumber:15},this),e.jsxDEV("div",{className:"ml-4",children:[e.jsxDEV("p",{className:"text-sm font-medium text-gray-500",children:"Total Spent"},void 0,!1,{fileName:"/app/code/frontend/src/pages/customer/CustomerDashboard.tsx",lineNumber:196,columnNumber:17},this),e.jsxDEV("p",{className:"text-2xl font-bold text-gray-900",children:["KES ",o.totalSpent.toLocaleString()]},void 0,!0,{fileName:"/app/code/frontend/src/pages/customer/CustomerDashboard.tsx",lineNumber:197,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/customer/CustomerDashboard.tsx",lineNumber:195,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/customer/CustomerDashboard.tsx",lineNumber:193,columnNumber:13},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/customer/CustomerDashboard.tsx",lineNumber:192,columnNumber:11},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/customer/CustomerDashboard.tsx",lineNumber:151,columnNumber:9},this),e.jsxDEV("div",{className:"bg-white rounded-lg shadow-sm p-6 border border-gray-200 mb-8",children:[e.jsxDEV("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Actions"},void 0,!1,{fileName:"/app/code/frontend/src/pages/customer/CustomerDashboard.tsx",lineNumber:207,columnNumber:11},this),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxDEV("button",{onClick:()=>s("/marketplace"),className:"flex items-center justify-center px-4 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[e.jsxDEV(Le,{className:"w-5 h-5 mr-2"},void 0,!1,{fileName:"/app/code/frontend/src/pages/customer/CustomerDashboard.tsx",lineNumber:215,columnNumber:15},this),"Browse Marketplace"]},void 0,!0,{fileName:"/app/code/frontend/src/pages/customer/CustomerDashboard.tsx",lineNumber:211,columnNumber:13},this),e.jsxDEV("button",{onClick:()=>s("/customer/orders"),className:"flex items-center justify-center px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsxDEV(K,{className:"w-5 h-5 mr-2"},void 0,!1,{fileName:"/app/code/frontend/src/pages/customer/CustomerDashboard.tsx",lineNumber:223,columnNumber:15},this),"View Orders"]},void 0,!0,{fileName:"/app/code/frontend/src/pages/customer/CustomerDashboard.tsx",lineNumber:219,columnNumber:13},this),e.jsxDEV("button",{onClick:()=>s("/customer/profile"),className:"flex items-center justify-center px-4 py-3 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:[e.jsxDEV(De,{className:"w-5 h-5 mr-2"},void 0,!1,{fileName:"/app/code/frontend/src/pages/customer/CustomerDashboard.tsx",lineNumber:231,columnNumber:15},this),"Edit Profile"]},void 0,!0,{fileName:"/app/code/frontend/src/pages/customer/CustomerDashboard.tsx",lineNumber:227,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/customer/CustomerDashboard.tsx",lineNumber:210,columnNumber:11},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/customer/CustomerDashboard.tsx",lineNumber:206,columnNumber:9},this),e.jsxDEV("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[e.jsxDEV("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("h3",{className:"text-lg font-semibold text-gray-900",children:"Recent Orders"},void 0,!1,{fileName:"/app/code/frontend/src/pages/customer/CustomerDashboard.tsx",lineNumber:241,columnNumber:15},this),e.jsxDEV("button",{onClick:()=>s("/customer/orders"),className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"View All"},void 0,!1,{fileName:"/app/code/frontend/src/pages/customer/CustomerDashboard.tsx",lineNumber:244,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/customer/CustomerDashboard.tsx",lineNumber:240,columnNumber:13},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/customer/CustomerDashboard.tsx",lineNumber:239,columnNumber:11},this),e.jsxDEV("div",{className:"p-6",children:[t.slice(0,3).map(m=>e.jsxDEV("div",{className:"flex items-center justify-between py-4 border-b border-gray-100 last:border-b-0",children:[e.jsxDEV("div",{className:"flex items-center",children:[e.jsxDEV("div",{className:"w-12 h-12 bg-gray-100 rounded-lg flex items-center justify-center",children:m.items[0]?.product?.images?.[0]?e.jsxDEV("img",{src:m.items[0].product.images[0],alt:m.items[0].product.name,className:"w-12 h-12 rounded-lg object-cover"},void 0,!1,{fileName:"/app/code/frontend/src/pages/customer/CustomerDashboard.tsx",lineNumber:261,columnNumber:23},this):e.jsxDEV(K,{className:"w-6 h-6 text-gray-400"},void 0,!1,{fileName:"/app/code/frontend/src/pages/customer/CustomerDashboard.tsx",lineNumber:267,columnNumber:23},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/customer/CustomerDashboard.tsx",lineNumber:259,columnNumber:19},this),e.jsxDEV("div",{className:"ml-4",children:[e.jsxDEV("p",{className:"font-medium text-gray-900",children:["Order #",m.id.slice(-8)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/customer/CustomerDashboard.tsx",lineNumber:271,columnNumber:21},this),e.jsxDEV("p",{className:"text-sm text-gray-500",children:[m.items.length," item",m.items.length>1?"s":""," • KES"," ",m.totalAmount.toLocaleString()]},void 0,!0,{fileName:"/app/code/frontend/src/pages/customer/CustomerDashboard.tsx",lineNumber:274,columnNumber:21},this),e.jsxDEV("p",{className:"text-sm text-gray-500",children:new Date(m.orderDate).toLocaleDateString()},void 0,!1,{fileName:"/app/code/frontend/src/pages/customer/CustomerDashboard.tsx",lineNumber:279,columnNumber:21},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/customer/CustomerDashboard.tsx",lineNumber:270,columnNumber:19},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/customer/CustomerDashboard.tsx",lineNumber:258,columnNumber:17},this),e.jsxDEV("div",{className:"text-right",children:[e.jsxDEV("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${c(m.status)}`,children:[d(m.status),e.jsxDEV("span",{className:"ml-1",children:m.status},void 0,!1,{fileName:"/app/code/frontend/src/pages/customer/CustomerDashboard.tsx",lineNumber:289,columnNumber:21},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/customer/CustomerDashboard.tsx",lineNumber:285,columnNumber:19},this),e.jsxDEV("p",{className:"text-sm text-gray-500 mt-1",children:m.paymentMethod},void 0,!1,{fileName:"/app/code/frontend/src/pages/customer/CustomerDashboard.tsx",lineNumber:291,columnNumber:19},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/customer/CustomerDashboard.tsx",lineNumber:284,columnNumber:17},this)]},m.id,!0,{fileName:"/app/code/frontend/src/pages/customer/CustomerDashboard.tsx",lineNumber:254,columnNumber:15},this)),t.length===0&&e.jsxDEV("div",{className:"text-center py-8",children:[e.jsxDEV(K,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"},void 0,!1,{fileName:"/app/code/frontend/src/pages/customer/CustomerDashboard.tsx",lineNumber:299,columnNumber:17},this),e.jsxDEV("p",{className:"text-gray-500",children:"No orders yet"},void 0,!1,{fileName:"/app/code/frontend/src/pages/customer/CustomerDashboard.tsx",lineNumber:300,columnNumber:17},this),e.jsxDEV("button",{onClick:()=>s("/marketplace"),className:"mt-3 text-blue-600 hover:text-blue-800 font-medium",children:"Start Shopping"},void 0,!1,{fileName:"/app/code/frontend/src/pages/customer/CustomerDashboard.tsx",lineNumber:301,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/customer/CustomerDashboard.tsx",lineNumber:298,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/customer/CustomerDashboard.tsx",lineNumber:252,columnNumber:11},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/customer/CustomerDashboard.tsx",lineNumber:238,columnNumber:9},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/customer/CustomerDashboard.tsx",lineNumber:139,columnNumber:7},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/customer/CustomerDashboard.tsx",lineNumber:138,columnNumber:5},this)}function Ll(){const{user:r,updateUser:s}=ee(),t=Se(),[a,n]=k.useState(!1),[i,o]=k.useState(!1),[l,u]=k.useState([]),[c,d]=k.useState({totalOrders:0,completedOrders:0,totalSpent:0,pendingOrders:0}),[m,p]=k.useState({firstName:r?.firstName||"",lastName:r?.lastName||"",email:r?.email||"",county:r?.county||""});k.useEffect(()=>{b()},[]);const b=async()=>{try{const h=localStorage.getItem("token"),x=await _.get("/api/orders",{headers:{Authorization:`Bearer ${h}`}});u(x.data);const M=x.data.length,V=x.data.filter(A=>A.status==="DELIVERED").length,C=x.data.filter(A=>A.paymentStatus==="COMPLETED").reduce((A,S)=>A+S.totalAmount,0),P=x.data.filter(A=>A.status==="PENDING").length;d({totalOrders:M,completedOrders:V,totalSpent:C,pendingOrders:P})}catch(h){console.error("Failed to fetch orders:",h)}},N=async()=>{try{o(!0);const h=localStorage.getItem("token"),x=await _.put("/api/profile",m,{headers:{Authorization:`Bearer ${h}`}});s(x.data.user),n(!1),R.success("Profile updated successfully!")}catch(h){R.error(h.response?.data?.error||"Failed to update profile")}finally{o(!1)}},v=()=>{p({firstName:r?.firstName||"",lastName:r?.lastName||"",email:r?.email||"",county:r?.county||""}),n(!1)},y=h=>({PENDING:"bg-yellow-100 text-yellow-800",CONFIRMED:"bg-blue-100 text-blue-800",PROCESSING:"bg-indigo-100 text-indigo-800",SHIPPED:"bg-purple-100 text-purple-800",DELIVERED:"bg-green-100 text-green-800",CANCELLED:"bg-red-100 text-red-800"})[h]||"bg-gray-100 text-gray-800";return e.jsxDEV("div",{className:"min-h-screen bg-gray-50",children:e.jsxDEV("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxDEV("div",{className:"mb-8",children:[e.jsxDEV("h1",{className:"text-3xl font-bold text-gray-900",children:"My Profile"},void 0,!1,{fileName:"/app/code/frontend/src/pages/customer/ProfilePage.tsx",lineNumber:145,columnNumber:11},this),e.jsxDEV("p",{className:"text-gray-600 mt-2",children:"Manage your personal information and preferences"},void 0,!1,{fileName:"/app/code/frontend/src/pages/customer/ProfilePage.tsx",lineNumber:146,columnNumber:11},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/customer/ProfilePage.tsx",lineNumber:144,columnNumber:9},this),e.jsxDEV("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxDEV("div",{className:"lg:col-span-2",children:e.jsxDEV("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[e.jsxDEV("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("h2",{className:"text-lg font-semibold text-gray-900",children:"Personal Information"},void 0,!1,{fileName:"/app/code/frontend/src/pages/customer/ProfilePage.tsx",lineNumber:157,columnNumber:19},this),a?e.jsxDEV("div",{className:"flex space-x-2",children:[e.jsxDEV("button",{onClick:N,disabled:i,className:"flex items-center text-green-600 hover:text-green-800 disabled:opacity-50",children:[e.jsxDEV(tn,{className:"w-4 h-4 mr-1"},void 0,!1,{fileName:"/app/code/frontend/src/pages/customer/ProfilePage.tsx",lineNumber:175,columnNumber:25},this),"Save"]},void 0,!0,{fileName:"/app/code/frontend/src/pages/customer/ProfilePage.tsx",lineNumber:170,columnNumber:23},this),e.jsxDEV("button",{onClick:v,className:"flex items-center text-red-600 hover:text-red-800",children:[e.jsxDEV(Me,{className:"w-4 h-4 mr-1"},void 0,!1,{fileName:"/app/code/frontend/src/pages/customer/ProfilePage.tsx",lineNumber:182,columnNumber:25},this),"Cancel"]},void 0,!0,{fileName:"/app/code/frontend/src/pages/customer/ProfilePage.tsx",lineNumber:178,columnNumber:23},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/customer/ProfilePage.tsx",lineNumber:169,columnNumber:21},this):e.jsxDEV("button",{onClick:()=>n(!0),className:"flex items-center text-blue-600 hover:text-blue-800",children:[e.jsxDEV(sn,{className:"w-4 h-4 mr-1"},void 0,!1,{fileName:"/app/code/frontend/src/pages/customer/ProfilePage.tsx",lineNumber:165,columnNumber:23},this),"Edit"]},void 0,!0,{fileName:"/app/code/frontend/src/pages/customer/ProfilePage.tsx",lineNumber:161,columnNumber:21},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/customer/ProfilePage.tsx",lineNumber:156,columnNumber:17},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/customer/ProfilePage.tsx",lineNumber:155,columnNumber:15},this),e.jsxDEV("div",{className:"p-6",children:[e.jsxDEV("div",{className:"flex items-center mb-6",children:[e.jsxDEV("div",{className:"w-20 h-20 bg-green-600 rounded-full flex items-center justify-center text-white text-2xl font-bold",children:[r?.firstName?.[0],r?.lastName?.[0]]},void 0,!0,{fileName:"/app/code/frontend/src/pages/customer/ProfilePage.tsx",lineNumber:193,columnNumber:19},this),e.jsxDEV("div",{className:"ml-6",children:[e.jsxDEV("h3",{className:"text-xl font-semibold text-gray-900",children:[r?.firstName," ",r?.lastName]},void 0,!0,{fileName:"/app/code/frontend/src/pages/customer/ProfilePage.tsx",lineNumber:198,columnNumber:21},this),e.jsxDEV("p",{className:"text-gray-600",children:r?.role},void 0,!1,{fileName:"/app/code/frontend/src/pages/customer/ProfilePage.tsx",lineNumber:201,columnNumber:21},this),e.jsxDEV("div",{className:"flex items-center mt-1",children:[e.jsxDEV(Ye,{className:"w-4 h-4 text-green-600 mr-1"},void 0,!1,{fileName:"/app/code/frontend/src/pages/customer/ProfilePage.tsx",lineNumber:203,columnNumber:23},this),e.jsxDEV("span",{className:"text-sm text-green-600",children:"Verified Account"},void 0,!1,{fileName:"/app/code/frontend/src/pages/customer/ProfilePage.tsx",lineNumber:204,columnNumber:23},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/customer/ProfilePage.tsx",lineNumber:202,columnNumber:21},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/customer/ProfilePage.tsx",lineNumber:197,columnNumber:19},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/customer/ProfilePage.tsx",lineNumber:192,columnNumber:17},this),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsxDEV(De,{className:"w-4 h-4 inline mr-1"},void 0,!1,{fileName:"/app/code/frontend/src/pages/customer/ProfilePage.tsx",lineNumber:215,columnNumber:23},this),"First Name"]},void 0,!0,{fileName:"/app/code/frontend/src/pages/customer/ProfilePage.tsx",lineNumber:214,columnNumber:21},this),a?e.jsxDEV("input",{type:"text",value:m.firstName,onChange:h=>p(x=>({...x,firstName:h.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500"},void 0,!1,{fileName:"/app/code/frontend/src/pages/customer/ProfilePage.tsx",lineNumber:219,columnNumber:23},this):e.jsxDEV("p",{className:"text-gray-900 py-2",children:r?.firstName},void 0,!1,{fileName:"/app/code/frontend/src/pages/customer/ProfilePage.tsx",lineNumber:231,columnNumber:23},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/customer/ProfilePage.tsx",lineNumber:213,columnNumber:19},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsxDEV(De,{className:"w-4 h-4 inline mr-1"},void 0,!1,{fileName:"/app/code/frontend/src/pages/customer/ProfilePage.tsx",lineNumber:237,columnNumber:23},this),"Last Name"]},void 0,!0,{fileName:"/app/code/frontend/src/pages/customer/ProfilePage.tsx",lineNumber:236,columnNumber:21},this),a?e.jsxDEV("input",{type:"text",value:m.lastName,onChange:h=>p(x=>({...x,lastName:h.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500"},void 0,!1,{fileName:"/app/code/frontend/src/pages/customer/ProfilePage.tsx",lineNumber:241,columnNumber:23},this):e.jsxDEV("p",{className:"text-gray-900 py-2",children:r?.lastName},void 0,!1,{fileName:"/app/code/frontend/src/pages/customer/ProfilePage.tsx",lineNumber:253,columnNumber:23},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/customer/ProfilePage.tsx",lineNumber:235,columnNumber:19},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsxDEV(ws,{className:"w-4 h-4 inline mr-1"},void 0,!1,{fileName:"/app/code/frontend/src/pages/customer/ProfilePage.tsx",lineNumber:259,columnNumber:23},this),"Email Address"]},void 0,!0,{fileName:"/app/code/frontend/src/pages/customer/ProfilePage.tsx",lineNumber:258,columnNumber:21},this),a?e.jsxDEV("input",{type:"email",value:m.email,onChange:h=>p(x=>({...x,email:h.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500"},void 0,!1,{fileName:"/app/code/frontend/src/pages/customer/ProfilePage.tsx",lineNumber:263,columnNumber:23},this):e.jsxDEV("p",{className:"text-gray-900 py-2",children:r?.email},void 0,!1,{fileName:"/app/code/frontend/src/pages/customer/ProfilePage.tsx",lineNumber:275,columnNumber:23},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/customer/ProfilePage.tsx",lineNumber:257,columnNumber:19},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsxDEV(rr,{className:"w-4 h-4 inline mr-1"},void 0,!1,{fileName:"/app/code/frontend/src/pages/customer/ProfilePage.tsx",lineNumber:281,columnNumber:23},this),"Phone Number"]},void 0,!0,{fileName:"/app/code/frontend/src/pages/customer/ProfilePage.tsx",lineNumber:280,columnNumber:21},this),e.jsxDEV("p",{className:"text-gray-900 py-2",children:r?.phone},void 0,!1,{fileName:"/app/code/frontend/src/pages/customer/ProfilePage.tsx",lineNumber:284,columnNumber:21},this),e.jsxDEV("p",{className:"text-sm text-gray-500",children:"Phone number cannot be changed"},void 0,!1,{fileName:"/app/code/frontend/src/pages/customer/ProfilePage.tsx",lineNumber:285,columnNumber:21},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/customer/ProfilePage.tsx",lineNumber:279,columnNumber:19},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsxDEV($e,{className:"w-4 h-4 inline mr-1"},void 0,!1,{fileName:"/app/code/frontend/src/pages/customer/ProfilePage.tsx",lineNumber:292,columnNumber:23},this),"County"]},void 0,!0,{fileName:"/app/code/frontend/src/pages/customer/ProfilePage.tsx",lineNumber:291,columnNumber:21},this),a?e.jsxDEV("select",{value:m.county,onChange:h=>p(x=>({...x,county:h.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500",children:[e.jsxDEV("option",{value:"",children:"Select County"},void 0,!1,{fileName:"/app/code/frontend/src/pages/customer/ProfilePage.tsx",lineNumber:306,columnNumber:25},this),e.jsxDEV("option",{value:"Nairobi",children:"Nairobi"},void 0,!1,{fileName:"/app/code/frontend/src/pages/customer/ProfilePage.tsx",lineNumber:307,columnNumber:25},this),e.jsxDEV("option",{value:"Kiambu",children:"Kiambu"},void 0,!1,{fileName:"/app/code/frontend/src/pages/customer/ProfilePage.tsx",lineNumber:308,columnNumber:25},this),e.jsxDEV("option",{value:"Nakuru",children:"Nakuru"},void 0,!1,{fileName:"/app/code/frontend/src/pages/customer/ProfilePage.tsx",lineNumber:309,columnNumber:25},this),e.jsxDEV("option",{value:"Mombasa",children:"Mombasa"},void 0,!1,{fileName:"/app/code/frontend/src/pages/customer/ProfilePage.tsx",lineNumber:310,columnNumber:25},this),e.jsxDEV("option",{value:"Kisumu",children:"Kisumu"},void 0,!1,{fileName:"/app/code/frontend/src/pages/customer/ProfilePage.tsx",lineNumber:311,columnNumber:25},this),e.jsxDEV("option",{value:"Eldoret",children:"Eldoret"},void 0,!1,{fileName:"/app/code/frontend/src/pages/customer/ProfilePage.tsx",lineNumber:312,columnNumber:25},this),e.jsxDEV("option",{value:"Thika",children:"Thika"},void 0,!1,{fileName:"/app/code/frontend/src/pages/customer/ProfilePage.tsx",lineNumber:313,columnNumber:25},this),e.jsxDEV("option",{value:"Nyeri",children:"Nyeri"},void 0,!1,{fileName:"/app/code/frontend/src/pages/customer/ProfilePage.tsx",lineNumber:314,columnNumber:25},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/customer/ProfilePage.tsx",lineNumber:296,columnNumber:23},this):e.jsxDEV("p",{className:"text-gray-900 py-2",children:r?.county},void 0,!1,{fileName:"/app/code/frontend/src/pages/customer/ProfilePage.tsx",lineNumber:317,columnNumber:23},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/customer/ProfilePage.tsx",lineNumber:290,columnNumber:19},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsxDEV(Ze,{className:"w-4 h-4 inline mr-1"},void 0,!1,{fileName:"/app/code/frontend/src/pages/customer/ProfilePage.tsx",lineNumber:323,columnNumber:23},this),"Member Since"]},void 0,!0,{fileName:"/app/code/frontend/src/pages/customer/ProfilePage.tsx",lineNumber:322,columnNumber:21},this),e.jsxDEV("p",{className:"text-gray-900 py-2",children:new Date(r?.createdAt||new Date).toLocaleDateString()},void 0,!1,{fileName:"/app/code/frontend/src/pages/customer/ProfilePage.tsx",lineNumber:326,columnNumber:21},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/customer/ProfilePage.tsx",lineNumber:321,columnNumber:19},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/customer/ProfilePage.tsx",lineNumber:212,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/customer/ProfilePage.tsx",lineNumber:190,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/customer/ProfilePage.tsx",lineNumber:154,columnNumber:13},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/customer/ProfilePage.tsx",lineNumber:153,columnNumber:11},this),e.jsxDEV("div",{className:"space-y-6",children:[e.jsxDEV("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsxDEV("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Account Summary"},void 0,!1,{fileName:"/app/code/frontend/src/pages/customer/ProfilePage.tsx",lineNumber:341,columnNumber:15},this),e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{className:"flex items-center",children:[e.jsxDEV(Le,{className:"w-5 h-5 text-blue-600 mr-2"},void 0,!1,{fileName:"/app/code/frontend/src/pages/customer/ProfilePage.tsx",lineNumber:347,columnNumber:21},this),e.jsxDEV("span",{className:"text-sm text-gray-600",children:"Total Orders"},void 0,!1,{fileName:"/app/code/frontend/src/pages/customer/ProfilePage.tsx",lineNumber:348,columnNumber:21},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/customer/ProfilePage.tsx",lineNumber:346,columnNumber:19},this),e.jsxDEV("span",{className:"font-semibold text-gray-900",children:c.totalOrders},void 0,!1,{fileName:"/app/code/frontend/src/pages/customer/ProfilePage.tsx",lineNumber:350,columnNumber:19},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/customer/ProfilePage.tsx",lineNumber:345,columnNumber:17},this),e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{className:"flex items-center",children:[e.jsxDEV(ce,{className:"w-5 h-5 text-yellow-600 mr-2"},void 0,!1,{fileName:"/app/code/frontend/src/pages/customer/ProfilePage.tsx",lineNumber:357,columnNumber:21},this),e.jsxDEV("span",{className:"text-sm text-gray-600",children:"Pending"},void 0,!1,{fileName:"/app/code/frontend/src/pages/customer/ProfilePage.tsx",lineNumber:358,columnNumber:21},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/customer/ProfilePage.tsx",lineNumber:356,columnNumber:19},this),e.jsxDEV("span",{className:"font-semibold text-gray-900",children:c.pendingOrders},void 0,!1,{fileName:"/app/code/frontend/src/pages/customer/ProfilePage.tsx",lineNumber:360,columnNumber:19},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/customer/ProfilePage.tsx",lineNumber:355,columnNumber:17},this),e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{className:"flex items-center",children:[e.jsxDEV(K,{className:"w-5 h-5 text-green-600 mr-2"},void 0,!1,{fileName:"/app/code/frontend/src/pages/customer/ProfilePage.tsx",lineNumber:367,columnNumber:21},this),e.jsxDEV("span",{className:"text-sm text-gray-600",children:"Completed"},void 0,!1,{fileName:"/app/code/frontend/src/pages/customer/ProfilePage.tsx",lineNumber:368,columnNumber:21},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/customer/ProfilePage.tsx",lineNumber:366,columnNumber:19},this),e.jsxDEV("span",{className:"font-semibold text-gray-900",children:c.completedOrders},void 0,!1,{fileName:"/app/code/frontend/src/pages/customer/ProfilePage.tsx",lineNumber:370,columnNumber:19},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/customer/ProfilePage.tsx",lineNumber:365,columnNumber:17},this),e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{className:"flex items-center",children:[e.jsxDEV(dr,{className:"w-5 h-5 text-green-600 mr-2"},void 0,!1,{fileName:"/app/code/frontend/src/pages/customer/ProfilePage.tsx",lineNumber:377,columnNumber:21},this),e.jsxDEV("span",{className:"text-sm text-gray-600",children:"Total Spent"},void 0,!1,{fileName:"/app/code/frontend/src/pages/customer/ProfilePage.tsx",lineNumber:378,columnNumber:21},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/customer/ProfilePage.tsx",lineNumber:376,columnNumber:19},this),e.jsxDEV("span",{className:"font-semibold text-gray-900",children:["KES ",c.totalSpent.toLocaleString()]},void 0,!0,{fileName:"/app/code/frontend/src/pages/customer/ProfilePage.tsx",lineNumber:380,columnNumber:19},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/customer/ProfilePage.tsx",lineNumber:375,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/customer/ProfilePage.tsx",lineNumber:344,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/customer/ProfilePage.tsx",lineNumber:340,columnNumber:13},this),e.jsxDEV("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsxDEV("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Actions"},void 0,!1,{fileName:"/app/code/frontend/src/pages/customer/ProfilePage.tsx",lineNumber:389,columnNumber:15},this),e.jsxDEV("div",{className:"space-y-3",children:[e.jsxDEV("button",{onClick:()=>t("/marketplace"),className:"w-full flex items-center justify-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[e.jsxDEV(Le,{className:"w-4 h-4 mr-2"},void 0,!1,{fileName:"/app/code/frontend/src/pages/customer/ProfilePage.tsx",lineNumber:397,columnNumber:19},this),"Browse Marketplace"]},void 0,!0,{fileName:"/app/code/frontend/src/pages/customer/ProfilePage.tsx",lineNumber:393,columnNumber:17},this),e.jsxDEV("button",{onClick:()=>t("/customer/orders"),className:"w-full flex items-center justify-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsxDEV(K,{className:"w-4 h-4 mr-2"},void 0,!1,{fileName:"/app/code/frontend/src/pages/customer/ProfilePage.tsx",lineNumber:405,columnNumber:19},this),"View Order History"]},void 0,!0,{fileName:"/app/code/frontend/src/pages/customer/ProfilePage.tsx",lineNumber:401,columnNumber:17},this),e.jsxDEV("button",{onClick:()=>t("/cart"),className:"w-full flex items-center justify-center px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:[e.jsxDEV(Le,{className:"w-4 h-4 mr-2"},void 0,!1,{fileName:"/app/code/frontend/src/pages/customer/ProfilePage.tsx",lineNumber:413,columnNumber:19},this),"View Cart"]},void 0,!0,{fileName:"/app/code/frontend/src/pages/customer/ProfilePage.tsx",lineNumber:409,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/customer/ProfilePage.tsx",lineNumber:392,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/customer/ProfilePage.tsx",lineNumber:388,columnNumber:13},this),e.jsxDEV("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsxDEV("div",{className:"flex items-center justify-between mb-4",children:[e.jsxDEV("h3",{className:"text-lg font-semibold text-gray-900",children:"Recent Orders"},void 0,!1,{fileName:"/app/code/frontend/src/pages/customer/ProfilePage.tsx",lineNumber:422,columnNumber:17},this),e.jsxDEV("button",{onClick:()=>t("/customer/orders"),className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"View All"},void 0,!1,{fileName:"/app/code/frontend/src/pages/customer/ProfilePage.tsx",lineNumber:425,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/customer/ProfilePage.tsx",lineNumber:421,columnNumber:15},this),e.jsxDEV("div",{className:"space-y-3",children:[l.slice(0,3).map(h=>e.jsxDEV("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-sm font-medium text-gray-900",children:["Order #",h.id.slice(-6)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/customer/ProfilePage.tsx",lineNumber:439,columnNumber:23},this),e.jsxDEV("p",{className:"text-xs text-gray-500",children:new Date(h.orderDate).toLocaleDateString()},void 0,!1,{fileName:"/app/code/frontend/src/pages/customer/ProfilePage.tsx",lineNumber:442,columnNumber:23},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/customer/ProfilePage.tsx",lineNumber:438,columnNumber:21},this),e.jsxDEV("div",{className:"text-right",children:[e.jsxDEV("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${y(h.status)}`,children:h.status},void 0,!1,{fileName:"/app/code/frontend/src/pages/customer/ProfilePage.tsx",lineNumber:447,columnNumber:23},this),e.jsxDEV("p",{className:"text-xs text-gray-500 mt-1",children:["KES ",h.totalAmount.toLocaleString()]},void 0,!0,{fileName:"/app/code/frontend/src/pages/customer/ProfilePage.tsx",lineNumber:452,columnNumber:23},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/customer/ProfilePage.tsx",lineNumber:446,columnNumber:21},this)]},h.id,!0,{fileName:"/app/code/frontend/src/pages/customer/ProfilePage.tsx",lineNumber:434,columnNumber:19},this)),l.length===0&&e.jsxDEV("div",{className:"text-center py-4",children:[e.jsxDEV(K,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"},void 0,!1,{fileName:"/app/code/frontend/src/pages/customer/ProfilePage.tsx",lineNumber:460,columnNumber:21},this),e.jsxDEV("p",{className:"text-sm text-gray-500",children:"No orders yet"},void 0,!1,{fileName:"/app/code/frontend/src/pages/customer/ProfilePage.tsx",lineNumber:461,columnNumber:21},this),e.jsxDEV("button",{onClick:()=>t("/marketplace"),className:"mt-2 text-blue-600 hover:text-blue-800 text-sm font-medium",children:"Start Shopping"},void 0,!1,{fileName:"/app/code/frontend/src/pages/customer/ProfilePage.tsx",lineNumber:462,columnNumber:21},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/customer/ProfilePage.tsx",lineNumber:459,columnNumber:19},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/customer/ProfilePage.tsx",lineNumber:432,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/customer/ProfilePage.tsx",lineNumber:420,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/customer/ProfilePage.tsx",lineNumber:338,columnNumber:11},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/customer/ProfilePage.tsx",lineNumber:151,columnNumber:9},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/customer/ProfilePage.tsx",lineNumber:142,columnNumber:7},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/customer/ProfilePage.tsx",lineNumber:141,columnNumber:5},this)}function _l(){const{user:r}=ee(),[s,t]=k.useState([]),[a,n]=k.useState(!0),[i,o]=k.useState(null);k.useEffect(()=>{l()},[]);const l=async()=>{try{n(!0);const m=localStorage.getItem("token"),p=await _.get("/api/orders",{headers:{Authorization:`Bearer ${m}`}});t(p.data)}catch(m){console.error("Failed to fetch orders:",m),R.error("Failed to load orders")}finally{n(!1)}},u=m=>({PENDING:"bg-yellow-100 text-yellow-800",CONFIRMED:"bg-blue-100 text-blue-800",PROCESSING:"bg-indigo-100 text-indigo-800",SHIPPED:"bg-purple-100 text-purple-800",DELIVERED:"bg-green-100 text-green-800",CANCELLED:"bg-red-100 text-red-800"})[m]||"bg-gray-100 text-gray-800",c=m=>{const b={PENDING:ce,CONFIRMED:K,PROCESSING:K,SHIPPED:re,DELIVERED:ie,CANCELLED:Me}[m]||K;return e.jsxDEV(b,{className:"w-4 h-4"},void 0,!1,{fileName:"/app/code/frontend/src/pages/customer/OrderHistoryPage.tsx",lineNumber:94,columnNumber:12},this)},d=m=>({PENDING:"bg-yellow-100 text-yellow-800",COMPLETED:"bg-green-100 text-green-800",FAILED:"bg-red-100 text-red-800",CANCELLED:"bg-gray-100 text-gray-800"})[m]||"bg-gray-100 text-gray-800";return a?e.jsxDEV("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxDEV("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600"},void 0,!1,{fileName:"/app/code/frontend/src/pages/customer/OrderHistoryPage.tsx",lineNumber:110,columnNumber:9},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/customer/OrderHistoryPage.tsx",lineNumber:109,columnNumber:7},this):e.jsxDEV("div",{className:"min-h-screen bg-gray-50",children:e.jsxDEV("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxDEV("div",{className:"mb-8",children:[e.jsxDEV("h1",{className:"text-3xl font-bold text-gray-900",children:"Order History"},void 0,!1,{fileName:"/app/code/frontend/src/pages/customer/OrderHistoryPage.tsx",lineNumber:120,columnNumber:11},this),e.jsxDEV("p",{className:"text-gray-600 mt-2",children:"Track and manage your orders"},void 0,!1,{fileName:"/app/code/frontend/src/pages/customer/OrderHistoryPage.tsx",lineNumber:121,columnNumber:11},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/customer/OrderHistoryPage.tsx",lineNumber:119,columnNumber:9},this),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[e.jsxDEV("div",{className:"bg-white rounded-lg shadow-sm p-6 border border-gray-200",children:e.jsxDEV("div",{className:"flex items-center",children:[e.jsxDEV(K,{className:"w-8 h-8 text-blue-600"},void 0,!1,{fileName:"/app/code/frontend/src/pages/customer/OrderHistoryPage.tsx",lineNumber:128,columnNumber:15},this),e.jsxDEV("div",{className:"ml-4",children:[e.jsxDEV("p",{className:"text-sm font-medium text-gray-500",children:"Total Orders"},void 0,!1,{fileName:"/app/code/frontend/src/pages/customer/OrderHistoryPage.tsx",lineNumber:130,columnNumber:17},this),e.jsxDEV("p",{className:"text-2xl font-bold text-gray-900",children:s.length},void 0,!1,{fileName:"/app/code/frontend/src/pages/customer/OrderHistoryPage.tsx",lineNumber:133,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/customer/OrderHistoryPage.tsx",lineNumber:129,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/customer/OrderHistoryPage.tsx",lineNumber:127,columnNumber:13},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/customer/OrderHistoryPage.tsx",lineNumber:126,columnNumber:11},this),e.jsxDEV("div",{className:"bg-white rounded-lg shadow-sm p-6 border border-gray-200",children:e.jsxDEV("div",{className:"flex items-center",children:[e.jsxDEV(ce,{className:"w-8 h-8 text-yellow-600"},void 0,!1,{fileName:"/app/code/frontend/src/pages/customer/OrderHistoryPage.tsx",lineNumber:142,columnNumber:15},this),e.jsxDEV("div",{className:"ml-4",children:[e.jsxDEV("p",{className:"text-sm font-medium text-gray-500",children:"Pending"},void 0,!1,{fileName:"/app/code/frontend/src/pages/customer/OrderHistoryPage.tsx",lineNumber:144,columnNumber:17},this),e.jsxDEV("p",{className:"text-2xl font-bold text-gray-900",children:s.filter(m=>m.status==="PENDING").length},void 0,!1,{fileName:"/app/code/frontend/src/pages/customer/OrderHistoryPage.tsx",lineNumber:145,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/customer/OrderHistoryPage.tsx",lineNumber:143,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/customer/OrderHistoryPage.tsx",lineNumber:141,columnNumber:13},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/customer/OrderHistoryPage.tsx",lineNumber:140,columnNumber:11},this),e.jsxDEV("div",{className:"bg-white rounded-lg shadow-sm p-6 border border-gray-200",children:e.jsxDEV("div",{className:"flex items-center",children:[e.jsxDEV(ie,{className:"w-8 h-8 text-green-600"},void 0,!1,{fileName:"/app/code/frontend/src/pages/customer/OrderHistoryPage.tsx",lineNumber:154,columnNumber:15},this),e.jsxDEV("div",{className:"ml-4",children:[e.jsxDEV("p",{className:"text-sm font-medium text-gray-500",children:"Delivered"},void 0,!1,{fileName:"/app/code/frontend/src/pages/customer/OrderHistoryPage.tsx",lineNumber:156,columnNumber:17},this),e.jsxDEV("p",{className:"text-2xl font-bold text-gray-900",children:s.filter(m=>m.status==="DELIVERED").length},void 0,!1,{fileName:"/app/code/frontend/src/pages/customer/OrderHistoryPage.tsx",lineNumber:157,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/customer/OrderHistoryPage.tsx",lineNumber:155,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/customer/OrderHistoryPage.tsx",lineNumber:153,columnNumber:13},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/customer/OrderHistoryPage.tsx",lineNumber:152,columnNumber:11},this),e.jsxDEV("div",{className:"bg-white rounded-lg shadow-sm p-6 border border-gray-200",children:e.jsxDEV("div",{className:"flex items-center",children:[e.jsxDEV(dr,{className:"w-8 h-8 text-green-600"},void 0,!1,{fileName:"/app/code/frontend/src/pages/customer/OrderHistoryPage.tsx",lineNumber:166,columnNumber:15},this),e.jsxDEV("div",{className:"ml-4",children:[e.jsxDEV("p",{className:"text-sm font-medium text-gray-500",children:"Total Spent"},void 0,!1,{fileName:"/app/code/frontend/src/pages/customer/OrderHistoryPage.tsx",lineNumber:168,columnNumber:17},this),e.jsxDEV("p",{className:"text-2xl font-bold text-gray-900",children:["KES"," ",s.filter(m=>m.paymentStatus==="COMPLETED").reduce((m,p)=>m+p.totalAmount,0).toLocaleString()]},void 0,!0,{fileName:"/app/code/frontend/src/pages/customer/OrderHistoryPage.tsx",lineNumber:169,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/customer/OrderHistoryPage.tsx",lineNumber:167,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/customer/OrderHistoryPage.tsx",lineNumber:165,columnNumber:13},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/customer/OrderHistoryPage.tsx",lineNumber:164,columnNumber:11},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/customer/OrderHistoryPage.tsx",lineNumber:125,columnNumber:9},this),e.jsxDEV("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[e.jsxDEV("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsxDEV("h2",{className:"text-lg font-semibold text-gray-900",children:"All Orders"},void 0,!1,{fileName:"/app/code/frontend/src/pages/customer/OrderHistoryPage.tsx",lineNumber:184,columnNumber:13},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/customer/OrderHistoryPage.tsx",lineNumber:183,columnNumber:11},this),s.length===0?e.jsxDEV("div",{className:"p-12 text-center",children:[e.jsxDEV(K,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"},void 0,!1,{fileName:"/app/code/frontend/src/pages/customer/OrderHistoryPage.tsx",lineNumber:189,columnNumber:15},this),e.jsxDEV("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No orders yet"},void 0,!1,{fileName:"/app/code/frontend/src/pages/customer/OrderHistoryPage.tsx",lineNumber:190,columnNumber:15},this),e.jsxDEV("p",{className:"text-gray-500 mb-6",children:"Start shopping to see your orders here"},void 0,!1,{fileName:"/app/code/frontend/src/pages/customer/OrderHistoryPage.tsx",lineNumber:193,columnNumber:15},this),e.jsxDEV("button",{onClick:()=>window.location.href="/marketplace",className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700",children:"Browse Marketplace"},void 0,!1,{fileName:"/app/code/frontend/src/pages/customer/OrderHistoryPage.tsx",lineNumber:196,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/customer/OrderHistoryPage.tsx",lineNumber:188,columnNumber:13},this):e.jsxDEV("div",{className:"divide-y divide-gray-200",children:s.map(m=>e.jsxDEV("div",{className:"p-6",children:[e.jsxDEV("div",{className:"flex items-center justify-between mb-4",children:[e.jsxDEV("div",{className:"flex items-center",children:[e.jsxDEV("div",{className:"w-12 h-12 bg-gray-100 rounded-lg flex items-center justify-center",children:m.items[0]?.product?.images?.[0]?e.jsxDEV("img",{src:m.items[0].product.images[0],alt:m.items[0].product.name,className:"w-12 h-12 rounded-lg object-cover"},void 0,!1,{fileName:"/app/code/frontend/src/pages/customer/OrderHistoryPage.tsx",lineNumber:211,columnNumber:27},this):e.jsxDEV(K,{className:"w-6 h-6 text-gray-400"},void 0,!1,{fileName:"/app/code/frontend/src/pages/customer/OrderHistoryPage.tsx",lineNumber:217,columnNumber:27},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/customer/OrderHistoryPage.tsx",lineNumber:209,columnNumber:23},this),e.jsxDEV("div",{className:"ml-4",children:[e.jsxDEV("h3",{className:"text-lg font-medium text-gray-900",children:["Order #",m.id.slice(-8)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/customer/OrderHistoryPage.tsx",lineNumber:221,columnNumber:25},this),e.jsxDEV("p",{className:"text-sm text-gray-500",children:[m.items.length," item",m.items.length>1?"s":""," • KES"," ",m.totalAmount.toLocaleString()]},void 0,!0,{fileName:"/app/code/frontend/src/pages/customer/OrderHistoryPage.tsx",lineNumber:224,columnNumber:25},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/customer/OrderHistoryPage.tsx",lineNumber:220,columnNumber:23},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/customer/OrderHistoryPage.tsx",lineNumber:208,columnNumber:21},this),e.jsxDEV("div",{className:"flex items-center space-x-3",children:[e.jsxDEV("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${u(m.status)}`,children:[c(m.status),e.jsxDEV("span",{className:"ml-1",children:m.status},void 0,!1,{fileName:"/app/code/frontend/src/pages/customer/OrderHistoryPage.tsx",lineNumber:237,columnNumber:25},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/customer/OrderHistoryPage.tsx",lineNumber:233,columnNumber:23},this),e.jsxDEV("button",{onClick:()=>o(m),className:"text-blue-600 hover:text-blue-800 font-medium text-sm flex items-center",children:[e.jsxDEV(_e,{className:"w-4 h-4 mr-1"},void 0,!1,{fileName:"/app/code/frontend/src/pages/customer/OrderHistoryPage.tsx",lineNumber:243,columnNumber:25},this),"View Details"]},void 0,!0,{fileName:"/app/code/frontend/src/pages/customer/OrderHistoryPage.tsx",lineNumber:239,columnNumber:23},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/customer/OrderHistoryPage.tsx",lineNumber:232,columnNumber:21},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/customer/OrderHistoryPage.tsx",lineNumber:207,columnNumber:19},this),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm text-gray-600",children:[e.jsxDEV("div",{className:"flex items-center",children:[e.jsxDEV(Ze,{className:"w-4 h-4 mr-2"},void 0,!1,{fileName:"/app/code/frontend/src/pages/customer/OrderHistoryPage.tsx",lineNumber:251,columnNumber:23},this),"Ordered: ",new Date(m.orderDate).toLocaleDateString()]},void 0,!0,{fileName:"/app/code/frontend/src/pages/customer/OrderHistoryPage.tsx",lineNumber:250,columnNumber:21},this),e.jsxDEV("div",{className:"flex items-center",children:[e.jsxDEV(dr,{className:"w-4 h-4 mr-2"},void 0,!1,{fileName:"/app/code/frontend/src/pages/customer/OrderHistoryPage.tsx",lineNumber:255,columnNumber:23},this),"Payment:"," ",e.jsxDEV("span",{className:`ml-1 px-2 py-0.5 rounded text-xs ${d(m.paymentStatus)}`,children:m.paymentStatus},void 0,!1,{fileName:"/app/code/frontend/src/pages/customer/OrderHistoryPage.tsx",lineNumber:257,columnNumber:23},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/customer/OrderHistoryPage.tsx",lineNumber:254,columnNumber:21},this),e.jsxDEV("div",{className:"flex items-center",children:[e.jsxDEV(re,{className:"w-4 h-4 mr-2"},void 0,!1,{fileName:"/app/code/frontend/src/pages/customer/OrderHistoryPage.tsx",lineNumber:264,columnNumber:23},this),"Method: ",m.paymentMethod]},void 0,!0,{fileName:"/app/code/frontend/src/pages/customer/OrderHistoryPage.tsx",lineNumber:263,columnNumber:21},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/customer/OrderHistoryPage.tsx",lineNumber:249,columnNumber:19},this),m.status==="SHIPPED"||m.status==="DELIVERED"?e.jsxDEV("div",{className:"mt-4 p-3 bg-green-50 rounded-lg",children:e.jsxDEV("p",{className:"text-sm text-green-800",children:m.status==="DELIVERED"?"Order delivered successfully!":"Your order is on the way!"},void 0,!1,{fileName:"/app/code/frontend/src/pages/customer/OrderHistoryPage.tsx",lineNumber:272,columnNumber:23},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/customer/OrderHistoryPage.tsx",lineNumber:271,columnNumber:21},this):null]},m.id,!0,{fileName:"/app/code/frontend/src/pages/customer/OrderHistoryPage.tsx",lineNumber:206,columnNumber:17},this))},void 0,!1,{fileName:"/app/code/frontend/src/pages/customer/OrderHistoryPage.tsx",lineNumber:204,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/customer/OrderHistoryPage.tsx",lineNumber:182,columnNumber:9},this),i&&e.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxDEV("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxDEV("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("h3",{className:"text-lg font-semibold text-gray-900",children:["Order Details #",i.id.slice(-8)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/customer/OrderHistoryPage.tsx",lineNumber:291,columnNumber:19},this),e.jsxDEV("button",{onClick:()=>o(null),className:"text-gray-500 hover:text-gray-700",children:e.jsxDEV(Me,{className:"w-6 h-6"},void 0,!1,{fileName:"/app/code/frontend/src/pages/customer/OrderHistoryPage.tsx",lineNumber:298,columnNumber:21},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/customer/OrderHistoryPage.tsx",lineNumber:294,columnNumber:19},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/customer/OrderHistoryPage.tsx",lineNumber:290,columnNumber:17},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/customer/OrderHistoryPage.tsx",lineNumber:289,columnNumber:15},this),e.jsxDEV("div",{className:"p-6 space-y-6",children:[e.jsxDEV("div",{children:[e.jsxDEV("h4",{className:"font-medium text-gray-900 mb-2",children:"Order Status"},void 0,!1,{fileName:"/app/code/frontend/src/pages/customer/OrderHistoryPage.tsx",lineNumber:306,columnNumber:19},this),e.jsxDEV("div",{className:"flex items-center space-x-4",children:[e.jsxDEV("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${u(i.status)}`,children:[c(i.status),e.jsxDEV("span",{className:"ml-1",children:i.status},void 0,!1,{fileName:"/app/code/frontend/src/pages/customer/OrderHistoryPage.tsx",lineNumber:314,columnNumber:23},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/customer/OrderHistoryPage.tsx",lineNumber:310,columnNumber:21},this),e.jsxDEV("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${d(i.paymentStatus)}`,children:i.paymentStatus},void 0,!1,{fileName:"/app/code/frontend/src/pages/customer/OrderHistoryPage.tsx",lineNumber:316,columnNumber:21},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/customer/OrderHistoryPage.tsx",lineNumber:309,columnNumber:19},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/customer/OrderHistoryPage.tsx",lineNumber:305,columnNumber:17},this),e.jsxDEV("div",{children:[e.jsxDEV("h4",{className:"font-medium text-gray-900 mb-2",children:"Items Ordered"},void 0,!1,{fileName:"/app/code/frontend/src/pages/customer/OrderHistoryPage.tsx",lineNumber:326,columnNumber:19},this),e.jsxDEV("div",{className:"space-y-3",children:i.items.map(m=>e.jsxDEV("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxDEV("div",{className:"flex items-center",children:[e.jsxDEV("img",{src:m.product.images[0]||"/placeholder.jpg",alt:m.product.name,className:"w-12 h-12 rounded-lg object-cover"},void 0,!1,{fileName:"/app/code/frontend/src/pages/customer/OrderHistoryPage.tsx",lineNumber:336,columnNumber:27},this),e.jsxDEV("div",{className:"ml-3",children:[e.jsxDEV("p",{className:"font-medium text-gray-900",children:m.product.name},void 0,!1,{fileName:"/app/code/frontend/src/pages/customer/OrderHistoryPage.tsx",lineNumber:342,columnNumber:29},this),e.jsxDEV("p",{className:"text-sm text-gray-500",children:[m.quantity," ",m.product.unit," × KES"," ",m.pricePerUnit]},void 0,!0,{fileName:"/app/code/frontend/src/pages/customer/OrderHistoryPage.tsx",lineNumber:345,columnNumber:29},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/customer/OrderHistoryPage.tsx",lineNumber:341,columnNumber:27},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/customer/OrderHistoryPage.tsx",lineNumber:335,columnNumber:25},this),e.jsxDEV("p",{className:"font-medium text-gray-900",children:["KES ",m.totalPrice.toLocaleString()]},void 0,!0,{fileName:"/app/code/frontend/src/pages/customer/OrderHistoryPage.tsx",lineNumber:351,columnNumber:25},this)]},m.id,!0,{fileName:"/app/code/frontend/src/pages/customer/OrderHistoryPage.tsx",lineNumber:331,columnNumber:23},this))},void 0,!1,{fileName:"/app/code/frontend/src/pages/customer/OrderHistoryPage.tsx",lineNumber:329,columnNumber:19},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/customer/OrderHistoryPage.tsx",lineNumber:325,columnNumber:17},this),e.jsxDEV("div",{children:[e.jsxDEV("h4",{className:"font-medium text-gray-900 mb-2",children:"Delivery Information"},void 0,!1,{fileName:"/app/code/frontend/src/pages/customer/OrderHistoryPage.tsx",lineNumber:361,columnNumber:19},this),e.jsxDEV("div",{className:"space-y-2 text-sm text-gray-600",children:[e.jsxDEV("div",{className:"flex items-center",children:[e.jsxDEV($e,{className:"w-4 h-4 mr-2"},void 0,!1,{fileName:"/app/code/frontend/src/pages/customer/OrderHistoryPage.tsx",lineNumber:366,columnNumber:23},this),i.deliveryAddress]},void 0,!0,{fileName:"/app/code/frontend/src/pages/customer/OrderHistoryPage.tsx",lineNumber:365,columnNumber:21},this),e.jsxDEV("div",{className:"flex items-center",children:[e.jsxDEV(rr,{className:"w-4 h-4 mr-2"},void 0,!1,{fileName:"/app/code/frontend/src/pages/customer/OrderHistoryPage.tsx",lineNumber:370,columnNumber:23},this),i.deliveryPhone]},void 0,!0,{fileName:"/app/code/frontend/src/pages/customer/OrderHistoryPage.tsx",lineNumber:369,columnNumber:21},this),e.jsxDEV("div",{className:"flex items-center",children:[e.jsxDEV(Ze,{className:"w-4 h-4 mr-2"},void 0,!1,{fileName:"/app/code/frontend/src/pages/customer/OrderHistoryPage.tsx",lineNumber:374,columnNumber:23},this),"Expected:"," ",new Date(i.estimatedDelivery).toLocaleDateString()]},void 0,!0,{fileName:"/app/code/frontend/src/pages/customer/OrderHistoryPage.tsx",lineNumber:373,columnNumber:21},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/customer/OrderHistoryPage.tsx",lineNumber:364,columnNumber:19},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/customer/OrderHistoryPage.tsx",lineNumber:360,columnNumber:17},this),e.jsxDEV("div",{className:"border-t pt-4",children:[e.jsxDEV("div",{className:"flex justify-between items-center",children:[e.jsxDEV("span",{className:"text-lg font-medium text-gray-900",children:"Total Amount"},void 0,!1,{fileName:"/app/code/frontend/src/pages/customer/OrderHistoryPage.tsx",lineNumber:386,columnNumber:21},this),e.jsxDEV("span",{className:"text-lg font-bold text-gray-900",children:["KES ",i.totalAmount.toLocaleString()]},void 0,!0,{fileName:"/app/code/frontend/src/pages/customer/OrderHistoryPage.tsx",lineNumber:389,columnNumber:21},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/customer/OrderHistoryPage.tsx",lineNumber:385,columnNumber:19},this),e.jsxDEV("p",{className:"text-sm text-gray-500 mt-1",children:["Payment via ",i.paymentMethod]},void 0,!0,{fileName:"/app/code/frontend/src/pages/customer/OrderHistoryPage.tsx",lineNumber:393,columnNumber:19},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/customer/OrderHistoryPage.tsx",lineNumber:384,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/customer/OrderHistoryPage.tsx",lineNumber:303,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/customer/OrderHistoryPage.tsx",lineNumber:288,columnNumber:13},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/customer/OrderHistoryPage.tsx",lineNumber:287,columnNumber:11},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/customer/OrderHistoryPage.tsx",lineNumber:117,columnNumber:7},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/customer/OrderHistoryPage.tsx",lineNumber:116,columnNumber:5},this)}function ql(){const{cart:r,updateQuantity:s,removeFromCart:t,clearCart:a,refreshCart:n}=ar(),{user:i,isAuthenticated:o}=ee();Se();const[l,u]=k.useState(null),[c,d]=k.useState(""),[m,p]=k.useState(null);k.useEffect(()=>{n()},[n]);const b=async(g,I)=>{if(!(I<0)){u(g);try{I===0?t(g):s(g,I)}catch{}finally{u(null)}}},N=async g=>{if(window.confirm("Are you sure you want to remove this item from your cart?"))try{t(g)}catch{}},v=async()=>{if(window.confirm("Are you sure you want to clear your entire cart?"))try{await a()}catch{}},y=()=>{c.toLowerCase()==="first10"?(p({code:"FIRST10",discount:10,type:"percentage"}),R.success("Coupon applied successfully!"),d("")):c.toLowerCase()==="save100"?(p({code:"SAVE100",discount:100,type:"fixed"}),R.success("Coupon applied successfully!"),d("")):R.error("Invalid coupon code")},h=()=>{p(null),R.success("Coupon removed")},x=g=>new Intl.NumberFormat("en-KE",{style:"currency",currency:"KES",minimumFractionDigits:0}).format(g),M=g=>m?m.type==="percentage"?g*m.discount/100:Math.min(m.discount,g):0,V=g=>g>=1e3?0:150;if(!r||r.items.length===0)return e.jsxDEV("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxDEV("div",{className:"text-center py-16",children:[e.jsxDEV(Le,{className:"w-24 h-24 text-gray-300 mx-auto mb-6"},void 0,!1,{fileName:"/app/code/frontend/src/pages/cart/CartPage.tsx",lineNumber:173,columnNumber:11},this),e.jsxDEV("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Your cart is empty"},void 0,!1,{fileName:"/app/code/frontend/src/pages/cart/CartPage.tsx",lineNumber:174,columnNumber:11},this),e.jsxDEV("p",{className:"text-gray-600 mb-8",children:"Looks like you haven't added any items to your cart yet."},void 0,!1,{fileName:"/app/code/frontend/src/pages/cart/CartPage.tsx",lineNumber:177,columnNumber:11},this),e.jsxDEV(B,{to:"/marketplace",className:"bg-primary-600 text-white px-8 py-3 rounded-lg hover:bg-primary-700 transition-colors font-medium inline-flex items-center",children:[e.jsxDEV(Le,{className:"w-5 h-5 mr-2"},void 0,!1,{fileName:"/app/code/frontend/src/pages/cart/CartPage.tsx",lineNumber:184,columnNumber:13},this),"Start Shopping"]},void 0,!0,{fileName:"/app/code/frontend/src/pages/cart/CartPage.tsx",lineNumber:180,columnNumber:11},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/cart/CartPage.tsx",lineNumber:172,columnNumber:9},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/cart/CartPage.tsx",lineNumber:171,columnNumber:7},this);const C=r.totalAmount,P=M(C),A=C-P,S=V(A),E=A+S;return e.jsxDEV("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxDEV("div",{className:"flex items-center justify-between mb-8",children:[e.jsxDEV("div",{children:[e.jsxDEV("h1",{className:"text-3xl font-bold text-gray-900",children:"Shopping Cart"},void 0,!1,{fileName:"/app/code/frontend/src/pages/cart/CartPage.tsx",lineNumber:203,columnNumber:11},this),e.jsxDEV("p",{className:"text-gray-600 mt-2",children:[r.totalItems," ",r.totalItems===1?"item":"items"," in your cart"]},void 0,!0,{fileName:"/app/code/frontend/src/pages/cart/CartPage.tsx",lineNumber:204,columnNumber:11},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/cart/CartPage.tsx",lineNumber:202,columnNumber:9},this),r.items.length>0&&e.jsxDEV("button",{onClick:v,className:"text-red-600 hover:text-red-700 text-sm font-medium",children:"Clear Cart"},void 0,!1,{fileName:"/app/code/frontend/src/pages/cart/CartPage.tsx",lineNumber:211,columnNumber:11},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/cart/CartPage.tsx",lineNumber:201,columnNumber:7},this),e.jsxDEV("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxDEV("div",{className:"lg:col-span-2",children:[e.jsxDEV("div",{className:"bg-white rounded-lg shadow-sm border",children:e.jsxDEV("div",{className:"p-6",children:e.jsxDEV("div",{className:"space-y-6",children:r.items.map(g=>e.jsxDEV("div",{className:"flex items-start space-x-4 pb-6 border-b border-gray-200 last:border-b-0 last:pb-0",children:[e.jsxDEV("div",{className:"flex-shrink-0",children:e.jsxDEV("div",{className:"w-20 h-20 bg-gray-200 rounded-lg overflow-hidden",children:g.images&&g.images.length>0?e.jsxDEV("img",{src:g.images[0],alt:g.name,className:"w-full h-full object-cover",onError:I=>{I.currentTarget.src="/api/placeholder/80/80?text="+encodeURIComponent(g.name)}},void 0,!1,{fileName:"/app/code/frontend/src/pages/cart/CartPage.tsx",lineNumber:235,columnNumber:27},this):e.jsxDEV("div",{className:"w-full h-full flex items-center justify-center text-gray-400 text-xs",children:"📦"},void 0,!1,{fileName:"/app/code/frontend/src/pages/cart/CartPage.tsx",lineNumber:246,columnNumber:27},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/cart/CartPage.tsx",lineNumber:233,columnNumber:23},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/cart/CartPage.tsx",lineNumber:232,columnNumber:21},this),e.jsxDEV("div",{className:"flex-1 min-w-0",children:[e.jsxDEV("div",{className:"flex items-start justify-between",children:[e.jsxDEV("div",{className:"flex-1 min-w-0",children:[e.jsxDEV("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:e.jsxDEV(B,{to:`/marketplace/product/${g.productId}`,className:"hover:text-primary-600 transition-colors",children:g.name},void 0,!1,{fileName:"/app/code/frontend/src/pages/cart/CartPage.tsx",lineNumber:258,columnNumber:29},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/cart/CartPage.tsx",lineNumber:257,columnNumber:27},this),e.jsxDEV("div",{className:"flex items-center text-sm text-gray-600 mb-2",children:e.jsxDEV("span",{children:"Fresh Produce"},void 0,!1,{fileName:"/app/code/frontend/src/pages/cart/CartPage.tsx",lineNumber:267,columnNumber:29},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/cart/CartPage.tsx",lineNumber:266,columnNumber:27},this),e.jsxDEV("div",{className:"flex items-center space-x-4 mb-3",children:e.jsxDEV("span",{className:"text-lg font-semibold text-gray-900",children:[x(g.pricePerUnit)," / ",g.unit]},void 0,!0,{fileName:"/app/code/frontend/src/pages/cart/CartPage.tsx",lineNumber:271,columnNumber:29},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/cart/CartPage.tsx",lineNumber:270,columnNumber:27},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/cart/CartPage.tsx",lineNumber:256,columnNumber:25},this),e.jsxDEV("div",{className:"flex flex-col items-end space-y-2 ml-4",children:[e.jsxDEV("button",{onClick:()=>N(g.id),className:"text-gray-400 hover:text-red-500 transition-colors",title:"Remove item",children:e.jsxDEV(an,{className:"w-5 h-5"},void 0,!1,{fileName:"/app/code/frontend/src/pages/cart/CartPage.tsx",lineNumber:284,columnNumber:29},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/cart/CartPage.tsx",lineNumber:279,columnNumber:27},this),e.jsxDEV("button",{className:"text-gray-400 hover:text-red-500 transition-colors",children:e.jsxDEV(Ps,{className:"w-5 h-5"},void 0,!1,{fileName:"/app/code/frontend/src/pages/cart/CartPage.tsx",lineNumber:288,columnNumber:29},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/cart/CartPage.tsx",lineNumber:287,columnNumber:27},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/cart/CartPage.tsx",lineNumber:278,columnNumber:25},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/cart/CartPage.tsx",lineNumber:255,columnNumber:23},this),e.jsxDEV("div",{className:"flex items-center justify-between mt-4",children:[e.jsxDEV("div",{className:"flex items-center border border-gray-300 rounded-lg",children:[e.jsxDEV("button",{onClick:()=>b(g.id,g.quantity-1),disabled:l===g.id||g.quantity<=1,className:"p-2 text-gray-600 hover:text-gray-900 disabled:opacity-50 disabled:cursor-not-allowed",children:e.jsxDEV(nn,{className:"w-4 h-4"},void 0,!1,{fileName:"/app/code/frontend/src/pages/cart/CartPage.tsx",lineNumber:305,columnNumber:29},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/cart/CartPage.tsx",lineNumber:296,columnNumber:27},this),e.jsxDEV("input",{type:"number",min:"1",max:999,value:g.quantity,onChange:I=>{const q=parseInt(I.target.value)||1;q!==g.quantity&&b(g.id,q)},className:"w-16 px-2 py-2 text-center border-0 focus:ring-0",disabled:l===g.id},void 0,!1,{fileName:"/app/code/frontend/src/pages/cart/CartPage.tsx",lineNumber:308,columnNumber:27},this),e.jsxDEV("button",{onClick:()=>b(g.id,g.quantity+1),disabled:l===g.id,className:"p-2 text-gray-600 hover:text-gray-900 disabled:opacity-50 disabled:cursor-not-allowed",children:e.jsxDEV(Tr,{className:"w-4 h-4"},void 0,!1,{fileName:"/app/code/frontend/src/pages/cart/CartPage.tsx",lineNumber:330,columnNumber:29},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/cart/CartPage.tsx",lineNumber:323,columnNumber:27},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/cart/CartPage.tsx",lineNumber:295,columnNumber:25},this),e.jsxDEV("div",{className:"text-right",children:[e.jsxDEV("div",{className:"text-lg font-bold text-gray-900",children:x((g.pricePerUnit||0)*(g.quantity||0))},void 0,!1,{fileName:"/app/code/frontend/src/pages/cart/CartPage.tsx",lineNumber:335,columnNumber:27},this),g.quantity>1&&e.jsxDEV("div",{className:"text-sm text-gray-600",children:[g.quantity," ×"," ",x(g.pricePerUnit||0)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/cart/CartPage.tsx",lineNumber:341,columnNumber:29},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/cart/CartPage.tsx",lineNumber:334,columnNumber:25},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/cart/CartPage.tsx",lineNumber:294,columnNumber:23},this),l===g.id&&e.jsxDEV("div",{className:"mt-2 text-sm text-primary-600",children:"Updating..."},void 0,!1,{fileName:"/app/code/frontend/src/pages/cart/CartPage.tsx",lineNumber:350,columnNumber:25},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/cart/CartPage.tsx",lineNumber:254,columnNumber:21},this)]},g.id,!0,{fileName:"/app/code/frontend/src/pages/cart/CartPage.tsx",lineNumber:227,columnNumber:19},this))},void 0,!1,{fileName:"/app/code/frontend/src/pages/cart/CartPage.tsx",lineNumber:225,columnNumber:15},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/cart/CartPage.tsx",lineNumber:224,columnNumber:13},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/cart/CartPage.tsx",lineNumber:223,columnNumber:11},this),e.jsxDEV("div",{className:"mt-6",children:e.jsxDEV(B,{to:"/marketplace",className:"text-primary-600 hover:text-primary-700 font-medium inline-flex items-center",children:"← Continue Shopping"},void 0,!1,{fileName:"/app/code/frontend/src/pages/cart/CartPage.tsx",lineNumber:363,columnNumber:13},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/cart/CartPage.tsx",lineNumber:362,columnNumber:11},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/cart/CartPage.tsx",lineNumber:222,columnNumber:9},this),e.jsxDEV("div",{children:e.jsxDEV("div",{className:"bg-white rounded-lg shadow-sm border p-6 sticky top-6",children:[e.jsxDEV("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Order Summary"},void 0,!1,{fileName:"/app/code/frontend/src/pages/cart/CartPage.tsx",lineNumber:375,columnNumber:13},this),e.jsxDEV("div",{className:"space-y-3 mb-6",children:[e.jsxDEV("div",{className:"flex justify-between text-gray-600",children:[e.jsxDEV("span",{children:["Subtotal (",r.totalItems," items)"]},void 0,!0,{fileName:"/app/code/frontend/src/pages/cart/CartPage.tsx",lineNumber:381,columnNumber:17},this),e.jsxDEV("span",{children:x(C)},void 0,!1,{fileName:"/app/code/frontend/src/pages/cart/CartPage.tsx",lineNumber:382,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/cart/CartPage.tsx",lineNumber:380,columnNumber:15},this),m&&e.jsxDEV("div",{className:"flex justify-between text-green-600",children:[e.jsxDEV("span",{className:"flex items-center",children:[e.jsxDEV(Lt,{className:"w-4 h-4 mr-1"},void 0,!1,{fileName:"/app/code/frontend/src/pages/cart/CartPage.tsx",lineNumber:388,columnNumber:21},this),m.code,e.jsxDEV("button",{onClick:h,className:"ml-2 text-red-500 hover:text-red-700",children:"×"},void 0,!1,{fileName:"/app/code/frontend/src/pages/cart/CartPage.tsx",lineNumber:390,columnNumber:21},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/cart/CartPage.tsx",lineNumber:387,columnNumber:19},this),e.jsxDEV("span",{children:["-",x(P)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/cart/CartPage.tsx",lineNumber:397,columnNumber:19},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/cart/CartPage.tsx",lineNumber:386,columnNumber:17},this),e.jsxDEV("div",{className:"flex justify-between text-gray-600",children:[e.jsxDEV("span",{className:"flex items-center",children:["Delivery Fee",S===0&&e.jsxDEV("span",{className:"ml-2 text-green-600 text-sm",children:"(Free)"},void 0,!1,{fileName:"/app/code/frontend/src/pages/cart/CartPage.tsx",lineNumber:405,columnNumber:21},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/cart/CartPage.tsx",lineNumber:402,columnNumber:17},this),e.jsxDEV("span",{children:x(S)},void 0,!1,{fileName:"/app/code/frontend/src/pages/cart/CartPage.tsx",lineNumber:408,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/cart/CartPage.tsx",lineNumber:401,columnNumber:15},this),e.jsxDEV("div",{className:"border-t border-gray-200 pt-3",children:e.jsxDEV("div",{className:"flex justify-between text-lg font-semibold text-gray-900",children:[e.jsxDEV("span",{children:"Total"},void 0,!1,{fileName:"/app/code/frontend/src/pages/cart/CartPage.tsx",lineNumber:413,columnNumber:19},this),e.jsxDEV("span",{children:x(E)},void 0,!1,{fileName:"/app/code/frontend/src/pages/cart/CartPage.tsx",lineNumber:414,columnNumber:19},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/cart/CartPage.tsx",lineNumber:412,columnNumber:17},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/cart/CartPage.tsx",lineNumber:411,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/cart/CartPage.tsx",lineNumber:379,columnNumber:13},this),e.jsxDEV("div",{className:"mb-6",children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Coupon Code"},void 0,!1,{fileName:"/app/code/frontend/src/pages/cart/CartPage.tsx",lineNumber:421,columnNumber:15},this),e.jsxDEV("div",{className:"flex space-x-2",children:[e.jsxDEV("input",{type:"text",placeholder:"Enter coupon code",value:c,onChange:g=>d(g.target.value),className:"flex-1 border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-primary-500 focus:border-primary-500"},void 0,!1,{fileName:"/app/code/frontend/src/pages/cart/CartPage.tsx",lineNumber:425,columnNumber:17},this),e.jsxDEV("button",{onClick:y,disabled:!c.trim(),className:"bg-gray-100 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-200 disabled:opacity-50 disabled:cursor-not-allowed text-sm font-medium",children:"Apply"},void 0,!1,{fileName:"/app/code/frontend/src/pages/cart/CartPage.tsx",lineNumber:432,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/cart/CartPage.tsx",lineNumber:424,columnNumber:15},this),e.jsxDEV("p",{className:"text-xs text-gray-500 mt-1",children:"Try: FIRST10 (10% off) or SAVE100 (KES 100 off)"},void 0,!1,{fileName:"/app/code/frontend/src/pages/cart/CartPage.tsx",lineNumber:440,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/cart/CartPage.tsx",lineNumber:420,columnNumber:13},this),e.jsxDEV("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg",children:[e.jsxDEV("div",{className:"flex items-center text-sm text-gray-600 mb-2",children:[e.jsxDEV(ce,{className:"w-4 h-4 mr-2"},void 0,!1,{fileName:"/app/code/frontend/src/pages/cart/CartPage.tsx",lineNumber:448,columnNumber:17},this),e.jsxDEV("span",{children:"Estimated delivery: 1-2 business days"},void 0,!1,{fileName:"/app/code/frontend/src/pages/cart/CartPage.tsx",lineNumber:449,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/cart/CartPage.tsx",lineNumber:447,columnNumber:15},this),e.jsxDEV("div",{className:"text-xs text-gray-500",children:S===0?"🎉 You qualify for free delivery!":`Spend ${x(1e3-A)} more for free delivery`},void 0,!1,{fileName:"/app/code/frontend/src/pages/cart/CartPage.tsx",lineNumber:451,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/cart/CartPage.tsx",lineNumber:446,columnNumber:13},this),e.jsxDEV(B,{to:"/checkout",className:"w-full bg-primary-600 text-white py-3 px-6 rounded-lg hover:bg-primary-700 transition-colors font-medium inline-flex items-center justify-center",children:["Proceed to Checkout",e.jsxDEV(ks,{className:"w-5 h-5 ml-2"},void 0,!1,{fileName:"/app/code/frontend/src/pages/cart/CartPage.tsx",lineNumber:464,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/cart/CartPage.tsx",lineNumber:459,columnNumber:13},this),e.jsxDEV("div",{className:"mt-4 text-center",children:e.jsxDEV("div",{className:"text-xs text-gray-500",children:"🔒 Secure checkout powered by M-Pesa"},void 0,!1,{fileName:"/app/code/frontend/src/pages/cart/CartPage.tsx",lineNumber:469,columnNumber:15},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/cart/CartPage.tsx",lineNumber:468,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/cart/CartPage.tsx",lineNumber:374,columnNumber:11},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/cart/CartPage.tsx",lineNumber:373,columnNumber:9},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/cart/CartPage.tsx",lineNumber:220,columnNumber:7},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/cart/CartPage.tsx",lineNumber:199,columnNumber:5},this)}const Or=r=>{const s=r.replace(/[\s\-\(\)]/g,"");return s.startsWith("+254")?s.substring(1):s.startsWith("254")?s:s.startsWith("0")?"254"+s.substring(1):s.length===9&&(s.startsWith("7")||s.startsWith("1"))?"254"+s:s},Es=r=>{const s=Or(r);return/^254[71]\d{8}$/.test(s)},Hl=async(r,s=30,t=2e3)=>{for(let a=0;a<s;a++)try{const i=await(await fetch(`/api/payments/status/${r}`)).json();if(i.status==="COMPLETED")return{success:!0,status:"COMPLETED",data:i};if(i.status==="FAILED"||i.status==="CANCELLED")return{success:!1,status:i.status,data:i};await new Promise(o=>setTimeout(o,t))}catch(n){console.error("Error polling payment status:",n)}return{success:!1,status:"TIMEOUT"}},$l=["Nairobi","Mombasa","Kiambu","Nakuru","Machakos","Kajiado","Murang'a","Nyeri","Meru","Embu","Tharaka-Nithi","Kirinyaga","Nyandarua","Laikipia","Samburu","Trans-Nzoia","Uasin-Gishu","Elgeyo-Marakwet","Nandi","Baringo","Kericho","Bomet","Kakamega","Vihiga","Bungoma","Busia","Siaya","Kisumu","Homa Bay","Migori","Kisii","Nyamira","Narok","Turkana","West Pokot","Isiolo","Marsabit","Mandera","Wajir","Garissa","Tana River","Lamu","Taita-Taveta","Kwale","Kilifi"];function Wl(){const r=Se(),{cart:s,clearCart:t}=ar(),{user:a,isAuthenticated:n,loginWithData:i}=ee(),[o,l]=k.useState(null),[u,c]=k.useState(!0),[d,m]=k.useState(!1),[p,b]=k.useState(1),[N,v]=k.useState(null),{register:y,handleSubmit:h,watch:x,setValue:M,formState:{errors:V}}=Ma({defaultValues:{firstName:a?.firstName||"",lastName:a?.lastName||"",phone:a?.phone||"",email:a?.email||"",paymentMethod:"MPESA",mpesaPhone:a?.phone||"",createAccount:!n,password:""}}),C=x("paymentMethod");x("county");const P=x("createAccount");k.useEffect(()=>{A()},[]);const A=async()=>{try{c(!0);const g=s.totalAmount>2e3?0:300,I={items:s.items,totalItems:s.totalItems,totalAmount:s.totalAmount,isReadyForCheckout:s.items.length>0,deliveryFee:g,subtotal:s.totalAmount,total:s.totalAmount+g,grandTotal:s.totalAmount+g,unavailableItems:[]};if(l(I),s.totalItems===0){R.error("Your cart is empty"),r("/marketplace");return}}catch(g){console.error("Failed to load cart summary:",g),R.error("Failed to load cart summary"),r("/cart")}finally{c(!1)}},S=async g=>{if(o){m(!0);try{const I={items:o.items.map(L=>({productId:L.productId,quantity:L.quantity,price:L.pricePerUnit})),customerInfo:{firstName:g.firstName,lastName:g.lastName,phone:g.phone,email:g.email,address:`${g.street}, ${g.ward}, ${g.subCounty}, ${g.county}`,county:g.county,buildingName:g.buildingName,deliveryInstructions:g.deliveryInstructions},paymentMethod:g.paymentMethod,mpesaPhone:g.paymentMethod==="MPESA"?g.mpesaPhone:void 0,deliveryFee:o.deliveryFee,totalAmount:o.grandTotal},q=await _.post("/api/orders",I);if(v(q.data),g.paymentMethod==="MPESA"&&g.mpesaPhone)try{const L=Or(g.mpesaPhone);if(!Es(L)){R.error("Please enter a valid Kenyan phone number");return}R("Initiating M-Pesa payment...",{icon:"ℹ️"});const W=await _.post("/api/payments/stk-push",{phone:L,amount:o.grandTotal,orderId:q.data.orderId,accountReference:`Order-${q.data.orderId}`,transactionDesc:`Payment for order ${q.data.orderId}`});if(W.data.success){R.success("M-Pesa payment request sent! Please check your phone.");try{R("Waiting for payment confirmation...",{icon:"ℹ️"});const G=await Hl(W.data.transactionId);G.success?R.success("Payment completed successfully!"):R.error(`Payment ${G.status.toLowerCase()}. Please try again.`)}catch(G){console.error("Payment polling error:",G),R("Payment initiated. Status will be updated shortly.",{icon:"⚠️"})}}else R.error("Failed to initiate M-Pesa payment")}catch(L){console.error("M-Pesa STK push error:",L),R.error("Failed to process M-Pesa payment")}if(!n&&g.createAccount&&g.password)try{const L={firstName:g.firstName,lastName:g.lastName,phone:g.phone,email:g.email,password:g.password,county:g.county,role:"CUSTOMER"},W=await _.post("/api/auth/register",L);if(W.data.success){const{user:G,token:J}=W.data;i(G,J),R.success("Account created and logged in successfully!")}}catch(L){console.error("Failed to create account:",L),R.error("Order placed successfully, but failed to create account. You can register later.")}await t(),b(4),R.success("Order placed successfully!")}catch(I){console.error("Failed to create order:",I);const q=I.response?.data?.error||"Failed to place order";R.error(q)}finally{m(!1)}}},E=g=>new Intl.NumberFormat("en-KE",{style:"currency",currency:"KES",minimumFractionDigits:0}).format(g);return u?e.jsxDEV("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxDEV("div",{className:"animate-pulse",children:[e.jsxDEV("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-8"},void 0,!1,{fileName:"/app/code/frontend/src/pages/checkout/CheckoutPage.tsx",lineNumber:327,columnNumber:11},this),e.jsxDEV("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("div",{className:"h-32 bg-gray-200 rounded-lg"},void 0,!1,{fileName:"/app/code/frontend/src/pages/checkout/CheckoutPage.tsx",lineNumber:330,columnNumber:15},this),e.jsxDEV("div",{className:"h-48 bg-gray-200 rounded-lg"},void 0,!1,{fileName:"/app/code/frontend/src/pages/checkout/CheckoutPage.tsx",lineNumber:331,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/checkout/CheckoutPage.tsx",lineNumber:329,columnNumber:13},this),e.jsxDEV("div",{className:"h-64 bg-gray-200 rounded-lg"},void 0,!1,{fileName:"/app/code/frontend/src/pages/checkout/CheckoutPage.tsx",lineNumber:333,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/checkout/CheckoutPage.tsx",lineNumber:328,columnNumber:11},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/checkout/CheckoutPage.tsx",lineNumber:326,columnNumber:9},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/checkout/CheckoutPage.tsx",lineNumber:325,columnNumber:7},this):!o||o.totalItems===0?e.jsxDEV("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxDEV("div",{className:"text-center",children:[e.jsxDEV(Le,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"},void 0,!1,{fileName:"/app/code/frontend/src/pages/checkout/CheckoutPage.tsx",lineNumber:344,columnNumber:11},this),e.jsxDEV("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"No items to checkout"},void 0,!1,{fileName:"/app/code/frontend/src/pages/checkout/CheckoutPage.tsx",lineNumber:345,columnNumber:11},this),e.jsxDEV("p",{className:"text-gray-600 mb-6",children:"Your cart is empty or items are unavailable"},void 0,!1,{fileName:"/app/code/frontend/src/pages/checkout/CheckoutPage.tsx",lineNumber:348,columnNumber:11},this),e.jsxDEV("button",{onClick:()=>r("/marketplace"),className:"bg-primary-600 text-white px-6 py-3 rounded-lg hover:bg-primary-700 transition-colors",children:"Continue Shopping"},void 0,!1,{fileName:"/app/code/frontend/src/pages/checkout/CheckoutPage.tsx",lineNumber:351,columnNumber:11},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/checkout/CheckoutPage.tsx",lineNumber:343,columnNumber:9},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/checkout/CheckoutPage.tsx",lineNumber:342,columnNumber:7},this):e.jsxDEV("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxDEV("div",{className:"mb-8",children:[e.jsxDEV("button",{onClick:()=>r("/cart"),className:"flex items-center text-gray-600 hover:text-gray-900 mb-4",children:[e.jsxDEV(mr,{className:"w-4 h-4 mr-2"},void 0,!1,{fileName:"/app/code/frontend/src/pages/checkout/CheckoutPage.tsx",lineNumber:370,columnNumber:11},this),"Back to Cart"]},void 0,!0,{fileName:"/app/code/frontend/src/pages/checkout/CheckoutPage.tsx",lineNumber:366,columnNumber:9},this),e.jsxDEV("h1",{className:"text-3xl font-bold text-gray-900",children:"Checkout"},void 0,!1,{fileName:"/app/code/frontend/src/pages/checkout/CheckoutPage.tsx",lineNumber:374,columnNumber:9},this),e.jsxDEV("div",{className:"mt-6",children:e.jsxDEV("div",{className:"flex items-center",children:[{step:1,title:"Information"},{step:2,title:"Review"},{step:3,title:"Payment"},{step:4,title:"Confirmation"}].map((g,I)=>e.jsxDEV(le.Fragment,{children:[e.jsxDEV("div",{className:`flex items-center ${p>=g.step?"text-primary-600":"text-gray-400"}`,children:[e.jsxDEV("div",{className:`w-8 h-8 rounded-full flex items-center justify-center border-2 ${p>=g.step?"border-primary-600 bg-primary-600 text-white":"border-gray-300"}`,children:p>g.step?e.jsxDEV(Vr,{className:"w-4 h-4"},void 0,!1,{fileName:"/app/code/frontend/src/pages/checkout/CheckoutPage.tsx",lineNumber:399,columnNumber:23},this):g.step},void 0,!1,{fileName:"/app/code/frontend/src/pages/checkout/CheckoutPage.tsx",lineNumber:391,columnNumber:19},this),e.jsxDEV("span",{className:"ml-2 text-sm font-medium",children:g.title},void 0,!1,{fileName:"/app/code/frontend/src/pages/checkout/CheckoutPage.tsx",lineNumber:404,columnNumber:19},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/checkout/CheckoutPage.tsx",lineNumber:386,columnNumber:17},this),I<3&&e.jsxDEV("div",{className:`flex-1 h-0.5 mx-4 ${p>g.step?"bg-primary-600":"bg-gray-200"}`},void 0,!1,{fileName:"/app/code/frontend/src/pages/checkout/CheckoutPage.tsx",lineNumber:407,columnNumber:19},this)]},g.step,!0,{fileName:"/app/code/frontend/src/pages/checkout/CheckoutPage.tsx",lineNumber:385,columnNumber:15},this))},void 0,!1,{fileName:"/app/code/frontend/src/pages/checkout/CheckoutPage.tsx",lineNumber:378,columnNumber:11},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/checkout/CheckoutPage.tsx",lineNumber:377,columnNumber:9},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/checkout/CheckoutPage.tsx",lineNumber:365,columnNumber:7},this),p===4?e.jsxDEV("div",{className:"max-w-2xl mx-auto",children:e.jsxDEV("div",{className:"bg-white rounded-lg shadow-sm border p-8 text-center",children:[e.jsxDEV("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsxDEV(Vr,{className:"w-8 h-8 text-green-600"},void 0,!1,{fileName:"/app/code/frontend/src/pages/checkout/CheckoutPage.tsx",lineNumber:424,columnNumber:15},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/checkout/CheckoutPage.tsx",lineNumber:423,columnNumber:13},this),e.jsxDEV("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Order Placed Successfully!"},void 0,!1,{fileName:"/app/code/frontend/src/pages/checkout/CheckoutPage.tsx",lineNumber:427,columnNumber:13},this),N&&e.jsxDEV("div",{className:"mb-6",children:[e.jsxDEV("p",{className:"text-gray-600 mb-2",children:"Order Number:"},void 0,!1,{fileName:"/app/code/frontend/src/pages/checkout/CheckoutPage.tsx",lineNumber:433,columnNumber:17},this),e.jsxDEV("p",{className:"text-lg font-semibold text-gray-900 mb-4",children:N.order?.orderNumber||N.order?.id},void 0,!1,{fileName:"/app/code/frontend/src/pages/checkout/CheckoutPage.tsx",lineNumber:434,columnNumber:17},this),e.jsxDEV("p",{className:"text-gray-600 mb-2",children:"Total Amount:"},void 0,!1,{fileName:"/app/code/frontend/src/pages/checkout/CheckoutPage.tsx",lineNumber:438,columnNumber:17},this),e.jsxDEV("p",{className:"text-2xl font-bold text-primary-600 mb-6",children:E(o.grandTotal)},void 0,!1,{fileName:"/app/code/frontend/src/pages/checkout/CheckoutPage.tsx",lineNumber:439,columnNumber:17},this),e.jsxDEV("div",{className:"bg-blue-50 rounded-lg p-4 mb-6",children:[e.jsxDEV("div",{className:"flex items-center text-blue-700 mb-2",children:[e.jsxDEV(ce,{className:"w-5 h-5 mr-2"},void 0,!1,{fileName:"/app/code/frontend/src/pages/checkout/CheckoutPage.tsx",lineNumber:445,columnNumber:21},this),e.jsxDEV("span",{className:"font-medium",children:"Estimated Delivery"},void 0,!1,{fileName:"/app/code/frontend/src/pages/checkout/CheckoutPage.tsx",lineNumber:446,columnNumber:21},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/checkout/CheckoutPage.tsx",lineNumber:444,columnNumber:19},this),e.jsxDEV("p",{className:"text-blue-600",children:"1-2 business days"},void 0,!1,{fileName:"/app/code/frontend/src/pages/checkout/CheckoutPage.tsx",lineNumber:448,columnNumber:19},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/checkout/CheckoutPage.tsx",lineNumber:443,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/checkout/CheckoutPage.tsx",lineNumber:432,columnNumber:15},this),e.jsxDEV("div",{className:"space-y-3",children:[e.jsxDEV("button",{onClick:()=>r("/customer/dashboard"),className:"w-full bg-primary-600 text-white py-3 px-6 rounded-lg hover:bg-primary-700 transition-colors font-medium",children:"View Order Status"},void 0,!1,{fileName:"/app/code/frontend/src/pages/checkout/CheckoutPage.tsx",lineNumber:454,columnNumber:15},this),e.jsxDEV("button",{onClick:()=>r("/marketplace"),className:"w-full bg-gray-100 text-gray-700 py-3 px-6 rounded-lg hover:bg-gray-200 transition-colors font-medium",children:"Continue Shopping"},void 0,!1,{fileName:"/app/code/frontend/src/pages/checkout/CheckoutPage.tsx",lineNumber:461,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/checkout/CheckoutPage.tsx",lineNumber:453,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/checkout/CheckoutPage.tsx",lineNumber:422,columnNumber:11},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/checkout/CheckoutPage.tsx",lineNumber:421,columnNumber:9},this):e.jsxDEV("form",{onSubmit:h(S),children:e.jsxDEV("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxDEV("div",{className:"lg:col-span-2 space-y-8",children:[p>=1&&e.jsxDEV("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[e.jsxDEV("div",{className:"flex items-center mb-6",children:[e.jsxDEV(De,{className:"w-5 h-5 text-gray-400 mr-2"},void 0,!1,{fileName:"/app/code/frontend/src/pages/checkout/CheckoutPage.tsx",lineNumber:479,columnNumber:21},this),e.jsxDEV("h2",{className:"text-lg font-semibold text-gray-900",children:"Customer Information"},void 0,!1,{fileName:"/app/code/frontend/src/pages/checkout/CheckoutPage.tsx",lineNumber:480,columnNumber:21},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/checkout/CheckoutPage.tsx",lineNumber:478,columnNumber:19},this),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name *"},void 0,!1,{fileName:"/app/code/frontend/src/pages/checkout/CheckoutPage.tsx",lineNumber:487,columnNumber:23},this),e.jsxDEV("input",{...y("firstName",{required:"First name is required"}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-primary-500",disabled:p>1},void 0,!1,{fileName:"/app/code/frontend/src/pages/checkout/CheckoutPage.tsx",lineNumber:490,columnNumber:23},this),V.firstName&&e.jsxDEV("p",{className:"mt-1 text-sm text-red-600",children:V.firstName.message},void 0,!1,{fileName:"/app/code/frontend/src/pages/checkout/CheckoutPage.tsx",lineNumber:498,columnNumber:25},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/checkout/CheckoutPage.tsx",lineNumber:486,columnNumber:21},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Name *"},void 0,!1,{fileName:"/app/code/frontend/src/pages/checkout/CheckoutPage.tsx",lineNumber:505,columnNumber:23},this),e.jsxDEV("input",{...y("lastName",{required:"Last name is required"}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-primary-500",disabled:p>1},void 0,!1,{fileName:"/app/code/frontend/src/pages/checkout/CheckoutPage.tsx",lineNumber:508,columnNumber:23},this),V.lastName&&e.jsxDEV("p",{className:"mt-1 text-sm text-red-600",children:V.lastName.message},void 0,!1,{fileName:"/app/code/frontend/src/pages/checkout/CheckoutPage.tsx",lineNumber:516,columnNumber:25},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/checkout/CheckoutPage.tsx",lineNumber:504,columnNumber:21},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number *"},void 0,!1,{fileName:"/app/code/frontend/src/pages/checkout/CheckoutPage.tsx",lineNumber:523,columnNumber:23},this),e.jsxDEV("input",{...y("phone",{required:"Phone number is required",pattern:{value:/^(\+254|0)[7-9]\d{8}$/,message:"Please enter a valid Kenyan phone number"}}),placeholder:"+254712345678",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-primary-500",disabled:p>1},void 0,!1,{fileName:"/app/code/frontend/src/pages/checkout/CheckoutPage.tsx",lineNumber:526,columnNumber:23},this),V.phone&&e.jsxDEV("p",{className:"mt-1 text-sm text-red-600",children:V.phone.message},void 0,!1,{fileName:"/app/code/frontend/src/pages/checkout/CheckoutPage.tsx",lineNumber:539,columnNumber:25},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/checkout/CheckoutPage.tsx",lineNumber:522,columnNumber:21},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"},void 0,!1,{fileName:"/app/code/frontend/src/pages/checkout/CheckoutPage.tsx",lineNumber:546,columnNumber:23},this),e.jsxDEV("input",{...y("email",{pattern:{value:/^[^\s@]+@[^\s@]+\.[^\s@]+$/,message:"Please enter a valid email address"}}),type:"email",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-primary-500",disabled:p>1},void 0,!1,{fileName:"/app/code/frontend/src/pages/checkout/CheckoutPage.tsx",lineNumber:549,columnNumber:23},this),V.email&&e.jsxDEV("p",{className:"mt-1 text-sm text-red-600",children:V.email.message},void 0,!1,{fileName:"/app/code/frontend/src/pages/checkout/CheckoutPage.tsx",lineNumber:561,columnNumber:25},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/checkout/CheckoutPage.tsx",lineNumber:545,columnNumber:21},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/checkout/CheckoutPage.tsx",lineNumber:485,columnNumber:19},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/checkout/CheckoutPage.tsx",lineNumber:477,columnNumber:17},this),p>=1&&!n&&e.jsxDEV("div",{className:"bg-blue-50 rounded-lg border border-blue-200 p-6",children:[e.jsxDEV("div",{className:"flex items-center mb-4",children:[e.jsxDEV(on,{className:"w-5 h-5 text-blue-600 mr-2"},void 0,!1,{fileName:"/app/code/frontend/src/pages/checkout/CheckoutPage.tsx",lineNumber:574,columnNumber:21},this),e.jsxDEV("h2",{className:"text-lg font-semibold text-gray-900",children:"Create Account (Optional)"},void 0,!1,{fileName:"/app/code/frontend/src/pages/checkout/CheckoutPage.tsx",lineNumber:575,columnNumber:21},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/checkout/CheckoutPage.tsx",lineNumber:573,columnNumber:19},this),e.jsxDEV("div",{className:"mb-4",children:e.jsxDEV("label",{className:"flex items-center",children:[e.jsxDEV("input",{...y("createAccount"),type:"checkbox",className:"mr-2"},void 0,!1,{fileName:"/app/code/frontend/src/pages/checkout/CheckoutPage.tsx",lineNumber:582,columnNumber:23},this),e.jsxDEV("span",{className:"text-sm text-gray-700",children:"Create an account to track your orders and save delivery addresses"},void 0,!1,{fileName:"/app/code/frontend/src/pages/checkout/CheckoutPage.tsx",lineNumber:587,columnNumber:23},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/checkout/CheckoutPage.tsx",lineNumber:581,columnNumber:21},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/checkout/CheckoutPage.tsx",lineNumber:580,columnNumber:19},this),P&&e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password *"},void 0,!1,{fileName:"/app/code/frontend/src/pages/checkout/CheckoutPage.tsx",lineNumber:596,columnNumber:23},this),e.jsxDEV("input",{...y("password",{required:P?"Password is required":!1,minLength:{value:6,message:"Password must be at least 6 characters"}}),type:"password",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-primary-500",placeholder:"Enter password for your new account",disabled:p>1},void 0,!1,{fileName:"/app/code/frontend/src/pages/checkout/CheckoutPage.tsx",lineNumber:599,columnNumber:23},this),V.password&&e.jsxDEV("p",{className:"mt-1 text-sm text-red-600",children:V.password.message},void 0,!1,{fileName:"/app/code/frontend/src/pages/checkout/CheckoutPage.tsx",lineNumber:615,columnNumber:25},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/checkout/CheckoutPage.tsx",lineNumber:595,columnNumber:21},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/checkout/CheckoutPage.tsx",lineNumber:572,columnNumber:17},this),p>=1&&e.jsxDEV("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[e.jsxDEV("div",{className:"flex items-center mb-6",children:[e.jsxDEV($e,{className:"w-5 h-5 text-gray-400 mr-2"},void 0,!1,{fileName:"/app/code/frontend/src/pages/checkout/CheckoutPage.tsx",lineNumber:628,columnNumber:21},this),e.jsxDEV("h2",{className:"text-lg font-semibold text-gray-900",children:"Delivery Address"},void 0,!1,{fileName:"/app/code/frontend/src/pages/checkout/CheckoutPage.tsx",lineNumber:629,columnNumber:21},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/checkout/CheckoutPage.tsx",lineNumber:627,columnNumber:19},this),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"County *"},void 0,!1,{fileName:"/app/code/frontend/src/pages/checkout/CheckoutPage.tsx",lineNumber:636,columnNumber:23},this),e.jsxDEV("select",{...y("county",{required:"County is required"}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-primary-500",disabled:p>1,children:[e.jsxDEV("option",{value:"",children:"Select County"},void 0,!1,{fileName:"/app/code/frontend/src/pages/checkout/CheckoutPage.tsx",lineNumber:646,columnNumber:25},this),$l.map(g=>e.jsxDEV("option",{value:g,children:g},g,!1,{fileName:"/app/code/frontend/src/pages/checkout/CheckoutPage.tsx",lineNumber:648,columnNumber:27},this))]},void 0,!0,{fileName:"/app/code/frontend/src/pages/checkout/CheckoutPage.tsx",lineNumber:639,columnNumber:23},this),V.county&&e.jsxDEV("p",{className:"mt-1 text-sm text-red-600",children:V.county.message},void 0,!1,{fileName:"/app/code/frontend/src/pages/checkout/CheckoutPage.tsx",lineNumber:654,columnNumber:25},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/checkout/CheckoutPage.tsx",lineNumber:635,columnNumber:21},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sub-County *"},void 0,!1,{fileName:"/app/code/frontend/src/pages/checkout/CheckoutPage.tsx",lineNumber:661,columnNumber:23},this),e.jsxDEV("input",{...y("subCounty",{required:"Sub-county is required"}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-primary-500",disabled:p>1},void 0,!1,{fileName:"/app/code/frontend/src/pages/checkout/CheckoutPage.tsx",lineNumber:664,columnNumber:23},this),V.subCounty&&e.jsxDEV("p",{className:"mt-1 text-sm text-red-600",children:V.subCounty.message},void 0,!1,{fileName:"/app/code/frontend/src/pages/checkout/CheckoutPage.tsx",lineNumber:672,columnNumber:25},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/checkout/CheckoutPage.tsx",lineNumber:660,columnNumber:21},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ward *"},void 0,!1,{fileName:"/app/code/frontend/src/pages/checkout/CheckoutPage.tsx",lineNumber:679,columnNumber:23},this),e.jsxDEV("input",{...y("ward",{required:"Ward is required"}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-primary-500",disabled:p>1},void 0,!1,{fileName:"/app/code/frontend/src/pages/checkout/CheckoutPage.tsx",lineNumber:682,columnNumber:23},this),V.ward&&e.jsxDEV("p",{className:"mt-1 text-sm text-red-600",children:V.ward.message},void 0,!1,{fileName:"/app/code/frontend/src/pages/checkout/CheckoutPage.tsx",lineNumber:688,columnNumber:25},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/checkout/CheckoutPage.tsx",lineNumber:678,columnNumber:21},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Street/Road *"},void 0,!1,{fileName:"/app/code/frontend/src/pages/checkout/CheckoutPage.tsx",lineNumber:695,columnNumber:23},this),e.jsxDEV("input",{...y("street",{required:"Street is required"}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-primary-500",disabled:p>1},void 0,!1,{fileName:"/app/code/frontend/src/pages/checkout/CheckoutPage.tsx",lineNumber:698,columnNumber:23},this),V.street&&e.jsxDEV("p",{className:"mt-1 text-sm text-red-600",children:V.street.message},void 0,!1,{fileName:"/app/code/frontend/src/pages/checkout/CheckoutPage.tsx",lineNumber:706,columnNumber:25},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/checkout/CheckoutPage.tsx",lineNumber:694,columnNumber:21},this),e.jsxDEV("div",{className:"md:col-span-2",children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Building/House Name"},void 0,!1,{fileName:"/app/code/frontend/src/pages/checkout/CheckoutPage.tsx",lineNumber:713,columnNumber:23},this),e.jsxDEV("input",{...y("buildingName"),placeholder:"Optional: Building name, house number, apartment, etc.",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-primary-500",disabled:p>1},void 0,!1,{fileName:"/app/code/frontend/src/pages/checkout/CheckoutPage.tsx",lineNumber:716,columnNumber:23},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/checkout/CheckoutPage.tsx",lineNumber:712,columnNumber:21},this),e.jsxDEV("div",{className:"md:col-span-2",children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Delivery Instructions"},void 0,!1,{fileName:"/app/code/frontend/src/pages/checkout/CheckoutPage.tsx",lineNumber:725,columnNumber:23},this),e.jsxDEV("textarea",{...y("deliveryInstructions"),rows:3,placeholder:"Optional: Special delivery instructions, landmarks, etc.",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-primary-500",disabled:p>1},void 0,!1,{fileName:"/app/code/frontend/src/pages/checkout/CheckoutPage.tsx",lineNumber:728,columnNumber:23},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/checkout/CheckoutPage.tsx",lineNumber:724,columnNumber:21},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/checkout/CheckoutPage.tsx",lineNumber:634,columnNumber:19},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/checkout/CheckoutPage.tsx",lineNumber:626,columnNumber:17},this),p>=2&&e.jsxDEV("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[e.jsxDEV("div",{className:"flex items-center mb-6",children:[e.jsxDEV(dr,{className:"w-5 h-5 text-gray-400 mr-2"},void 0,!1,{fileName:"/app/code/frontend/src/pages/checkout/CheckoutPage.tsx",lineNumber:744,columnNumber:21},this),e.jsxDEV("h2",{className:"text-lg font-semibold text-gray-900",children:"Payment Method"},void 0,!1,{fileName:"/app/code/frontend/src/pages/checkout/CheckoutPage.tsx",lineNumber:745,columnNumber:21},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/checkout/CheckoutPage.tsx",lineNumber:743,columnNumber:19},this),e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("div",{className:"flex items-center",children:[e.jsxDEV("input",{...y("paymentMethod"),type:"radio",value:"MPESA",className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300",disabled:p>2},void 0,!1,{fileName:"/app/code/frontend/src/pages/checkout/CheckoutPage.tsx",lineNumber:752,columnNumber:23},this),e.jsxDEV("label",{className:"ml-3 block text-sm font-medium text-gray-700",children:"M-Pesa STK Push"},void 0,!1,{fileName:"/app/code/frontend/src/pages/checkout/CheckoutPage.tsx",lineNumber:759,columnNumber:23},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/checkout/CheckoutPage.tsx",lineNumber:751,columnNumber:21},this),C==="MPESA"&&e.jsxDEV("div",{className:"ml-7",children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"M-Pesa Phone Number *"},void 0,!1,{fileName:"/app/code/frontend/src/pages/checkout/CheckoutPage.tsx",lineNumber:766,columnNumber:25},this),e.jsxDEV("input",{...y("mpesaPhone",{required:C==="MPESA"?"M-Pesa phone number is required":!1,pattern:{value:/^(\+254|0)[7-9]\d{8}$/,message:"Please enter a valid Kenyan phone number"}}),placeholder:"+254712345678",className:"w-full max-w-md border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-primary-500",disabled:p>2},void 0,!1,{fileName:"/app/code/frontend/src/pages/checkout/CheckoutPage.tsx",lineNumber:769,columnNumber:25},this),V.mpesaPhone&&e.jsxDEV("p",{className:"mt-1 text-sm text-red-600",children:V.mpesaPhone.message},void 0,!1,{fileName:"/app/code/frontend/src/pages/checkout/CheckoutPage.tsx",lineNumber:786,columnNumber:27},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/checkout/CheckoutPage.tsx",lineNumber:765,columnNumber:23},this),e.jsxDEV("div",{className:"flex items-center",children:[e.jsxDEV("input",{...y("paymentMethod"),type:"radio",value:"COD",className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300",disabled:p>2},void 0,!1,{fileName:"/app/code/frontend/src/pages/checkout/CheckoutPage.tsx",lineNumber:794,columnNumber:23},this),e.jsxDEV("label",{className:"ml-3 block text-sm font-medium text-gray-700",children:"Cash on Delivery"},void 0,!1,{fileName:"/app/code/frontend/src/pages/checkout/CheckoutPage.tsx",lineNumber:801,columnNumber:23},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/checkout/CheckoutPage.tsx",lineNumber:793,columnNumber:21},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/checkout/CheckoutPage.tsx",lineNumber:750,columnNumber:19},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/checkout/CheckoutPage.tsx",lineNumber:742,columnNumber:17},this),e.jsxDEV("div",{className:"flex justify-between",children:[p>1&&p<4&&e.jsxDEV("button",{type:"button",onClick:()=>b(p-1),className:"bg-gray-100 text-gray-700 px-6 py-3 rounded-lg hover:bg-gray-200 transition-colors font-medium",children:"Previous"},void 0,!1,{fileName:"/app/code/frontend/src/pages/checkout/CheckoutPage.tsx",lineNumber:812,columnNumber:19},this),p<3&&e.jsxDEV("button",{type:"button",onClick:()=>b(p+1),className:"bg-primary-600 text-white px-6 py-3 rounded-lg hover:bg-primary-700 transition-colors font-medium ml-auto",children:"Next"},void 0,!1,{fileName:"/app/code/frontend/src/pages/checkout/CheckoutPage.tsx",lineNumber:822,columnNumber:19},this),p===3&&e.jsxDEV("button",{type:"submit",disabled:d,className:"bg-primary-600 text-white px-6 py-3 rounded-lg hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-medium ml-auto",children:d?"Placing Order...":"Place Order"},void 0,!1,{fileName:"/app/code/frontend/src/pages/checkout/CheckoutPage.tsx",lineNumber:832,columnNumber:19},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/checkout/CheckoutPage.tsx",lineNumber:810,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/checkout/CheckoutPage.tsx",lineNumber:474,columnNumber:13},this),e.jsxDEV("div",{children:e.jsxDEV("div",{className:"bg-white rounded-lg shadow-sm border p-6 sticky top-6",children:[e.jsxDEV("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Order Summary"},void 0,!1,{fileName:"/app/code/frontend/src/pages/checkout/CheckoutPage.tsx",lineNumber:846,columnNumber:17},this),e.jsxDEV("div",{className:"space-y-3 mb-6 max-h-60 overflow-y-auto",children:o.items.map(g=>e.jsxDEV("div",{className:"flex items-center space-x-3",children:[e.jsxDEV("div",{className:"w-12 h-12 bg-gray-200 rounded overflow-hidden flex-shrink-0",children:g.images&&g.images.length>0?e.jsxDEV("img",{src:g.images[0],alt:g.name,className:"w-full h-full object-cover",onError:I=>{I.currentTarget.src="/api/placeholder/48/48?text="+encodeURIComponent(g.name)}},void 0,!1,{fileName:"/app/code/frontend/src/pages/checkout/CheckoutPage.tsx",lineNumber:856,columnNumber:27},this):e.jsxDEV("div",{className:"w-full h-full flex items-center justify-center text-gray-400 text-xs",children:"📦"},void 0,!1,{fileName:"/app/code/frontend/src/pages/checkout/CheckoutPage.tsx",lineNumber:867,columnNumber:27},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/checkout/CheckoutPage.tsx",lineNumber:854,columnNumber:23},this),e.jsxDEV("div",{className:"flex-1 min-w-0",children:[e.jsxDEV("p",{className:"text-sm font-medium text-gray-900 truncate",children:g.name},void 0,!1,{fileName:"/app/code/frontend/src/pages/checkout/CheckoutPage.tsx",lineNumber:874,columnNumber:25},this),e.jsxDEV("p",{className:"text-xs text-gray-600",children:[g.quantity," × ",E(g.pricePerUnit)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/checkout/CheckoutPage.tsx",lineNumber:877,columnNumber:25},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/checkout/CheckoutPage.tsx",lineNumber:873,columnNumber:23},this),e.jsxDEV("p",{className:"text-sm font-medium text-gray-900",children:E((g.pricePerUnit||0)*(g.quantity||0))},void 0,!1,{fileName:"/app/code/frontend/src/pages/checkout/CheckoutPage.tsx",lineNumber:882,columnNumber:23},this)]},g.id,!0,{fileName:"/app/code/frontend/src/pages/checkout/CheckoutPage.tsx",lineNumber:853,columnNumber:21},this))},void 0,!1,{fileName:"/app/code/frontend/src/pages/checkout/CheckoutPage.tsx",lineNumber:851,columnNumber:17},this),e.jsxDEV("div",{className:"space-y-2 mb-6",children:[e.jsxDEV("div",{className:"flex justify-between text-gray-600",children:[e.jsxDEV("span",{children:["Subtotal (",o.totalItems," items)"]},void 0,!0,{fileName:"/app/code/frontend/src/pages/checkout/CheckoutPage.tsx",lineNumber:894,columnNumber:21},this),e.jsxDEV("span",{children:E(o.totalAmount)},void 0,!1,{fileName:"/app/code/frontend/src/pages/checkout/CheckoutPage.tsx",lineNumber:895,columnNumber:21},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/checkout/CheckoutPage.tsx",lineNumber:893,columnNumber:19},this),e.jsxDEV("div",{className:"flex justify-between text-gray-600",children:[e.jsxDEV("span",{className:"flex items-center",children:["Delivery Fee",o.deliveryFee===0&&e.jsxDEV("span",{className:"ml-2 text-green-600 text-sm",children:"(Free)"},void 0,!1,{fileName:"/app/code/frontend/src/pages/checkout/CheckoutPage.tsx",lineNumber:902,columnNumber:25},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/checkout/CheckoutPage.tsx",lineNumber:899,columnNumber:21},this),e.jsxDEV("span",{children:E(o.deliveryFee)},void 0,!1,{fileName:"/app/code/frontend/src/pages/checkout/CheckoutPage.tsx",lineNumber:907,columnNumber:21},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/checkout/CheckoutPage.tsx",lineNumber:898,columnNumber:19},this),e.jsxDEV("div",{className:"border-t border-gray-200 pt-2",children:e.jsxDEV("div",{className:"flex justify-between text-lg font-semibold text-gray-900",children:[e.jsxDEV("span",{children:"Total"},void 0,!1,{fileName:"/app/code/frontend/src/pages/checkout/CheckoutPage.tsx",lineNumber:912,columnNumber:23},this),e.jsxDEV("span",{children:E(o.grandTotal)},void 0,!1,{fileName:"/app/code/frontend/src/pages/checkout/CheckoutPage.tsx",lineNumber:913,columnNumber:23},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/checkout/CheckoutPage.tsx",lineNumber:911,columnNumber:21},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/checkout/CheckoutPage.tsx",lineNumber:910,columnNumber:19},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/checkout/CheckoutPage.tsx",lineNumber:892,columnNumber:17},this),e.jsxDEV("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsxDEV("div",{className:"flex items-center text-sm text-gray-600 mb-2",children:[e.jsxDEV(re,{className:"w-4 h-4 mr-2"},void 0,!1,{fileName:"/app/code/frontend/src/pages/checkout/CheckoutPage.tsx",lineNumber:921,columnNumber:21},this),e.jsxDEV("span",{children:"Estimated delivery: 1-2 business days"},void 0,!1,{fileName:"/app/code/frontend/src/pages/checkout/CheckoutPage.tsx",lineNumber:922,columnNumber:21},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/checkout/CheckoutPage.tsx",lineNumber:920,columnNumber:19},this),e.jsxDEV("div",{className:"text-xs text-gray-500",children:"Orders placed before 3 PM are processed the same day"},void 0,!1,{fileName:"/app/code/frontend/src/pages/checkout/CheckoutPage.tsx",lineNumber:924,columnNumber:19},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/checkout/CheckoutPage.tsx",lineNumber:919,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/checkout/CheckoutPage.tsx",lineNumber:845,columnNumber:15},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/checkout/CheckoutPage.tsx",lineNumber:844,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/checkout/CheckoutPage.tsx",lineNumber:472,columnNumber:11},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/checkout/CheckoutPage.tsx",lineNumber:471,columnNumber:9},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/checkout/CheckoutPage.tsx",lineNumber:363,columnNumber:5},this)}function Bl(){const{user:r,token:s}=ee(),t=Se(),a=N=>{t("/admin/consignments")},n=async N=>{try{await new Promise(v=>setTimeout(v,500)),R.success(`User ${N} approved successfully`),l(v=>({...v,recentUsers:v.recentUsers.map(y=>y.id===N?{...y,status:"ACTIVE"}:y),pendingApprovals:Math.max(0,v.pendingApprovals-1)}))}catch(v){console.error("Error approving user:",v),R.error("Failed to approve user")}},i=async()=>{try{const v=(await _.get("/api/admin/users",{headers:{Authorization:`Bearer ${s}`}})).data;l(y=>({...y,totalUsers:v.length,pendingApprovals:v.filter(h=>h.status==="PENDING").length,recentUsers:v.slice(0,5).map(h=>({id:h.id,name:`${h.firstName} ${h.lastName}`,email:h.email,role:h.role,status:h.verified?"ACTIVE":"PENDING",joinedAt:new Date(h.createdAt).toLocaleDateString()}))}))}catch(N){console.error("Error fetching users:",N),R.error("Failed to fetch users data")}},[o,l]=k.useState({totalUsers:1247,pendingApprovals:12,activeConsignments:85,monthlyRevenue:4567890,recentActivities:[],pendingConsignments:[],recentUsers:[]}),[u,c]=k.useState(!0);k.useEffect(()=>{i(),setTimeout(()=>{l(N=>({...N,recentActivities:[{id:1,type:"user",message:"New farmer registration: John Kimani",time:"5 minutes ago",status:"pending"},{id:2,type:"consignment",message:"Consignment submitted by Jane Wanjiku",time:"15 minutes ago",status:"pending"},{id:3,type:"order",message:"Large order placed: KSh 25,000",time:"1 hour ago",status:"completed"},{id:4,type:"driver",message:"Driver verification requested",time:"2 hours ago",status:"pending"}],pendingConsignments:[{id:1,title:"Organic Tomatoes - 100kg",farmer:"Jane Wanjiku",value:13e3,submittedAt:"2 hours ago"},{id:2,title:"Premium Maize - 200kg",farmer:"Peter Kamau",value:12e3,submittedAt:"5 hours ago"},{id:3,title:"Fresh Spinach - 50 bunches",farmer:"Grace Muthoni",value:2500,submittedAt:"1 day ago"}],recentUsers:[{id:1,name:"John Kimani",role:"FARMER",status:"PENDING",joinedAt:"5 minutes ago"},{id:2,name:"Sarah Wanjiru",role:"CUSTOMER",status:"ACTIVE",joinedAt:"2 hours ago"},{id:3,name:"David Mwangi",role:"DRIVER",status:"PENDING",joinedAt:"1 day ago"}]})),c(!1)},1e3)},[]);const d=[{title:"Manage Users",description:"View and manage platform users",icon:Ae,color:"bg-blue-500",link:"/admin/users",count:o.totalUsers},{title:"Review Consignments",description:"Approve pending consignments",icon:K,color:"bg-green-500",link:"/admin/consignments",count:o.pendingApprovals},{title:"View Analytics",description:"Platform insights and metrics",icon:js,color:"bg-purple-500",link:"/admin/analytics",count:null},{title:"System Settings",description:"Configure platform settings",icon:jr,color:"bg-gray-500",link:"/admin/settings",count:null}],m=N=>{switch(N){case"user":return e.jsxDEV(Ae,{className:"w-4 h-4"},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/AdminDashboard.tsx",lineNumber:234,columnNumber:16},this);case"consignment":return e.jsxDEV(K,{className:"w-4 h-4"},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/AdminDashboard.tsx",lineNumber:236,columnNumber:16},this);case"order":return e.jsxDEV(He,{className:"w-4 h-4"},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/AdminDashboard.tsx",lineNumber:238,columnNumber:16},this);case"driver":return e.jsxDEV(re,{className:"w-4 h-4"},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/AdminDashboard.tsx",lineNumber:240,columnNumber:16},this);default:return e.jsxDEV(Pr,{className:"w-4 h-4"},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/AdminDashboard.tsx",lineNumber:242,columnNumber:16},this)}},p=N=>{switch(N){case"pending":return"text-yellow-600 bg-yellow-100";case"completed":return"text-green-600 bg-green-100";case"failed":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},b=N=>new Intl.NumberFormat("en-KE",{style:"currency",currency:"KES",minimumFractionDigits:0}).format(N);return u?e.jsxDEV("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxDEV("div",{className:"text-center",children:[e.jsxDEV("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600 mx-auto"},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/AdminDashboard.tsx",lineNumber:271,columnNumber:11},this),e.jsxDEV("p",{className:"mt-4 text-gray-600",children:"Loading dashboard..."},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/AdminDashboard.tsx",lineNumber:272,columnNumber:11},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/admin/AdminDashboard.tsx",lineNumber:270,columnNumber:9},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/AdminDashboard.tsx",lineNumber:269,columnNumber:7},this):e.jsxDEV("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsxDEV("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxDEV("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-8",children:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{children:[e.jsxDEV("h1",{className:"text-3xl font-bold text-gray-900",children:["Welcome back, ",r?.firstName,"!"]},void 0,!0,{fileName:"/app/code/frontend/src/pages/admin/AdminDashboard.tsx",lineNumber:285,columnNumber:15},this),e.jsxDEV("p",{className:"text-gray-600 mt-1",children:"Here's what's happening on your platform today."},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/AdminDashboard.tsx",lineNumber:288,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/admin/AdminDashboard.tsx",lineNumber:284,columnNumber:13},this),e.jsxDEV("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsxDEV(Pr,{className:"w-4 h-4"},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/AdminDashboard.tsx",lineNumber:293,columnNumber:15},this),e.jsxDEV("span",{children:"Admin Dashboard"},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/AdminDashboard.tsx",lineNumber:294,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/admin/AdminDashboard.tsx",lineNumber:292,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/admin/AdminDashboard.tsx",lineNumber:283,columnNumber:11},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/AdminDashboard.tsx",lineNumber:282,columnNumber:9},this),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[e.jsxDEV("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:e.jsxDEV("div",{className:"flex items-center",children:[e.jsxDEV("div",{className:"p-3 bg-blue-100 rounded-lg",children:e.jsxDEV(Ae,{className:"w-6 h-6 text-blue-600"},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/AdminDashboard.tsx",lineNumber:304,columnNumber:17},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/AdminDashboard.tsx",lineNumber:303,columnNumber:15},this),e.jsxDEV("div",{className:"ml-4",children:[e.jsxDEV("h3",{className:"text-lg font-semibold text-gray-900",children:o.totalUsers},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/AdminDashboard.tsx",lineNumber:307,columnNumber:17},this),e.jsxDEV("p",{className:"text-gray-600 text-sm",children:"Total Users"},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/AdminDashboard.tsx",lineNumber:310,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/admin/AdminDashboard.tsx",lineNumber:306,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/admin/AdminDashboard.tsx",lineNumber:302,columnNumber:13},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/AdminDashboard.tsx",lineNumber:301,columnNumber:11},this),e.jsxDEV("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:e.jsxDEV("div",{className:"flex items-center",children:[e.jsxDEV("div",{className:"p-3 bg-yellow-100 rounded-lg",children:e.jsxDEV(qe,{className:"w-6 h-6 text-yellow-600"},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/AdminDashboard.tsx",lineNumber:318,columnNumber:17},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/AdminDashboard.tsx",lineNumber:317,columnNumber:15},this),e.jsxDEV("div",{className:"ml-4",children:[e.jsxDEV("h3",{className:"text-lg font-semibold text-gray-900",children:o.pendingApprovals},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/AdminDashboard.tsx",lineNumber:321,columnNumber:17},this),e.jsxDEV("p",{className:"text-gray-600 text-sm",children:"Pending Approvals"},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/AdminDashboard.tsx",lineNumber:324,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/admin/AdminDashboard.tsx",lineNumber:320,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/admin/AdminDashboard.tsx",lineNumber:316,columnNumber:13},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/AdminDashboard.tsx",lineNumber:315,columnNumber:11},this),e.jsxDEV("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:e.jsxDEV("div",{className:"flex items-center",children:[e.jsxDEV("div",{className:"p-3 bg-green-100 rounded-lg",children:e.jsxDEV(K,{className:"w-6 h-6 text-green-600"},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/AdminDashboard.tsx",lineNumber:332,columnNumber:17},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/AdminDashboard.tsx",lineNumber:331,columnNumber:15},this),e.jsxDEV("div",{className:"ml-4",children:[e.jsxDEV("h3",{className:"text-lg font-semibold text-gray-900",children:o.activeConsignments},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/AdminDashboard.tsx",lineNumber:335,columnNumber:17},this),e.jsxDEV("p",{className:"text-gray-600 text-sm",children:"Active Consignments"},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/AdminDashboard.tsx",lineNumber:338,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/admin/AdminDashboard.tsx",lineNumber:334,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/admin/AdminDashboard.tsx",lineNumber:330,columnNumber:13},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/AdminDashboard.tsx",lineNumber:329,columnNumber:11},this),e.jsxDEV("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:e.jsxDEV("div",{className:"flex items-center",children:[e.jsxDEV("div",{className:"p-3 bg-purple-100 rounded-lg",children:e.jsxDEV(He,{className:"w-6 h-6 text-purple-600"},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/AdminDashboard.tsx",lineNumber:346,columnNumber:17},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/AdminDashboard.tsx",lineNumber:345,columnNumber:15},this),e.jsxDEV("div",{className:"ml-4",children:[e.jsxDEV("h3",{className:"text-lg font-semibold text-gray-900",children:b(o.monthlyRevenue)},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/AdminDashboard.tsx",lineNumber:349,columnNumber:17},this),e.jsxDEV("p",{className:"text-gray-600 text-sm",children:"Monthly Revenue"},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/AdminDashboard.tsx",lineNumber:352,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/admin/AdminDashboard.tsx",lineNumber:348,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/admin/AdminDashboard.tsx",lineNumber:344,columnNumber:13},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/AdminDashboard.tsx",lineNumber:343,columnNumber:11},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/admin/AdminDashboard.tsx",lineNumber:300,columnNumber:9},this),e.jsxDEV("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-8",children:[e.jsxDEV("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Quick Actions"},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/AdminDashboard.tsx",lineNumber:360,columnNumber:11},this),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:d.map((N,v)=>e.jsxDEV(B,{to:N.link,className:"p-4 border border-gray-200 rounded-lg hover:shadow-md transition-all duration-200 group",children:[e.jsxDEV("div",{className:"flex items-start justify-between mb-3",children:[e.jsxDEV("div",{className:`p-2 rounded-lg ${N.color}`,children:e.jsxDEV(N.icon,{className:"w-5 h-5 text-white"},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/AdminDashboard.tsx",lineNumber:372,columnNumber:21},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/AdminDashboard.tsx",lineNumber:371,columnNumber:19},this),N.count!==null&&e.jsxDEV("span",{className:"bg-gray-100 text-gray-700 px-2 py-1 rounded-full text-xs font-medium",children:N.count},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/AdminDashboard.tsx",lineNumber:375,columnNumber:21},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/admin/AdminDashboard.tsx",lineNumber:370,columnNumber:17},this),e.jsxDEV("h3",{className:"font-medium text-gray-900 group-hover:text-primary-600 transition-colors",children:N.title},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/AdminDashboard.tsx",lineNumber:380,columnNumber:17},this),e.jsxDEV("p",{className:"text-sm text-gray-500 mt-1",children:N.description},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/AdminDashboard.tsx",lineNumber:383,columnNumber:17},this),e.jsxDEV("div",{className:"flex items-center mt-3 text-primary-600 group-hover:text-primary-700",children:[e.jsxDEV("span",{className:"text-sm font-medium",children:"Manage"},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/AdminDashboard.tsx",lineNumber:387,columnNumber:19},this),e.jsxDEV(ks,{className:"w-4 h-4 ml-1 group-hover:translate-x-1 transition-transform"},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/AdminDashboard.tsx",lineNumber:388,columnNumber:19},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/admin/AdminDashboard.tsx",lineNumber:386,columnNumber:17},this)]},v,!0,{fileName:"/app/code/frontend/src/pages/admin/AdminDashboard.tsx",lineNumber:365,columnNumber:15},this))},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/AdminDashboard.tsx",lineNumber:363,columnNumber:11},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/admin/AdminDashboard.tsx",lineNumber:359,columnNumber:9},this),e.jsxDEV("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxDEV("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[e.jsxDEV("div",{className:"p-6 border-b border-gray-200",children:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("h3",{className:"text-lg font-semibold text-gray-900",children:"Recent Activity"},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/AdminDashboard.tsx",lineNumber:401,columnNumber:17},this),e.jsxDEV(Ut,{className:"w-5 h-5 text-gray-400"},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/AdminDashboard.tsx",lineNumber:404,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/admin/AdminDashboard.tsx",lineNumber:400,columnNumber:15},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/AdminDashboard.tsx",lineNumber:399,columnNumber:13},this),e.jsxDEV("div",{className:"divide-y divide-gray-200",children:o.recentActivities.map(N=>e.jsxDEV("div",{className:"p-6",children:e.jsxDEV("div",{className:"flex items-start",children:[e.jsxDEV("div",{className:`p-2 rounded-lg ${p(N.status)} mr-4`,children:m(N.type)},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/AdminDashboard.tsx",lineNumber:411,columnNumber:21},this),e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV("p",{className:"text-sm font-medium text-gray-900",children:N.message},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/AdminDashboard.tsx",lineNumber:417,columnNumber:23},this),e.jsxDEV("p",{className:"text-sm text-gray-500 mt-1",children:N.time},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/AdminDashboard.tsx",lineNumber:420,columnNumber:23},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/admin/AdminDashboard.tsx",lineNumber:416,columnNumber:21},this),N.status==="pending"&&e.jsxDEV("span",{className:"bg-yellow-100 text-yellow-800 px-2 py-1 rounded-full text-xs font-medium",children:"Action Required"},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/AdminDashboard.tsx",lineNumber:425,columnNumber:23},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/admin/AdminDashboard.tsx",lineNumber:410,columnNumber:19},this)},N.id,!1,{fileName:"/app/code/frontend/src/pages/admin/AdminDashboard.tsx",lineNumber:409,columnNumber:17},this))},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/AdminDashboard.tsx",lineNumber:407,columnNumber:13},this),e.jsxDEV("div",{className:"p-6 border-t border-gray-200",children:e.jsxDEV(B,{to:"/admin/notifications",className:"text-primary-600 hover:text-primary-700 text-sm font-medium",children:"View all activities →"},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/AdminDashboard.tsx",lineNumber:434,columnNumber:15},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/AdminDashboard.tsx",lineNumber:433,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/admin/AdminDashboard.tsx",lineNumber:398,columnNumber:11},this),e.jsxDEV("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[e.jsxDEV("div",{className:"p-6 border-b border-gray-200",children:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("h3",{className:"text-lg font-semibold text-gray-900",children:"Pending Consignments"},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/AdminDashboard.tsx",lineNumber:447,columnNumber:17},this),e.jsxDEV(K,{className:"w-5 h-5 text-gray-400"},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/AdminDashboard.tsx",lineNumber:450,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/admin/AdminDashboard.tsx",lineNumber:446,columnNumber:15},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/AdminDashboard.tsx",lineNumber:445,columnNumber:13},this),e.jsxDEV("div",{className:"divide-y divide-gray-200",children:o.pendingConsignments.map(N=>e.jsxDEV("div",{className:"p-6",children:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{children:[e.jsxDEV("h4",{className:"text-sm font-medium text-gray-900",children:N.title},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/AdminDashboard.tsx",lineNumber:458,columnNumber:23},this),e.jsxDEV("p",{className:"text-sm text-gray-500",children:["by ",N.farmer]},void 0,!0,{fileName:"/app/code/frontend/src/pages/admin/AdminDashboard.tsx",lineNumber:461,columnNumber:23},this),e.jsxDEV("p",{className:"text-sm text-gray-500",children:N.submittedAt},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/AdminDashboard.tsx",lineNumber:464,columnNumber:23},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/admin/AdminDashboard.tsx",lineNumber:457,columnNumber:21},this),e.jsxDEV("div",{className:"text-right",children:[e.jsxDEV("p",{className:"text-sm font-medium text-gray-900",children:b(N.value)},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/AdminDashboard.tsx",lineNumber:469,columnNumber:23},this),e.jsxDEV("button",{onClick:()=>a(N.id),className:"mt-2 bg-primary-600 text-white px-3 py-1 rounded text-xs hover:bg-primary-700",children:"Review"},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/AdminDashboard.tsx",lineNumber:472,columnNumber:23},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/admin/AdminDashboard.tsx",lineNumber:468,columnNumber:21},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/admin/AdminDashboard.tsx",lineNumber:456,columnNumber:19},this)},N.id,!1,{fileName:"/app/code/frontend/src/pages/admin/AdminDashboard.tsx",lineNumber:455,columnNumber:17},this))},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/AdminDashboard.tsx",lineNumber:453,columnNumber:13},this),e.jsxDEV("div",{className:"p-6 border-t border-gray-200",children:e.jsxDEV(B,{to:"/admin/consignments",className:"text-primary-600 hover:text-primary-700 text-sm font-medium",children:"View all consignments →"},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/AdminDashboard.tsx",lineNumber:484,columnNumber:15},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/AdminDashboard.tsx",lineNumber:483,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/admin/AdminDashboard.tsx",lineNumber:444,columnNumber:11},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/admin/AdminDashboard.tsx",lineNumber:396,columnNumber:9},this),e.jsxDEV("div",{className:"mt-8 bg-white rounded-lg shadow-sm border border-gray-200",children:[e.jsxDEV("div",{className:"p-6 border-b border-gray-200",children:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("h3",{className:"text-lg font-semibold text-gray-900",children:"Recent Users"},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/AdminDashboard.tsx",lineNumber:498,columnNumber:15},this),e.jsxDEV(ds,{className:"w-5 h-5 text-gray-400"},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/AdminDashboard.tsx",lineNumber:501,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/admin/AdminDashboard.tsx",lineNumber:497,columnNumber:13},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/AdminDashboard.tsx",lineNumber:496,columnNumber:11},this),e.jsxDEV("div",{className:"overflow-x-auto",children:e.jsxDEV("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsxDEV("thead",{className:"bg-gray-50",children:e.jsxDEV("tr",{children:[e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/AdminDashboard.tsx",lineNumber:508,columnNumber:19},this),e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/AdminDashboard.tsx",lineNumber:511,columnNumber:19},this),e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/AdminDashboard.tsx",lineNumber:514,columnNumber:19},this),e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Joined"},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/AdminDashboard.tsx",lineNumber:517,columnNumber:19},this),e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Action"},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/AdminDashboard.tsx",lineNumber:520,columnNumber:19},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/admin/AdminDashboard.tsx",lineNumber:507,columnNumber:17},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/AdminDashboard.tsx",lineNumber:506,columnNumber:15},this),e.jsxDEV("tbody",{className:"bg-white divide-y divide-gray-200",children:o.recentUsers.map(N=>e.jsxDEV("tr",{children:[e.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxDEV("div",{className:"text-sm font-medium text-gray-900",children:N.name},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/AdminDashboard.tsx",lineNumber:529,columnNumber:23},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/AdminDashboard.tsx",lineNumber:528,columnNumber:21},this),e.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxDEV("span",{className:"px-2 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800",children:N.role},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/AdminDashboard.tsx",lineNumber:534,columnNumber:23},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/AdminDashboard.tsx",lineNumber:533,columnNumber:21},this),e.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxDEV("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${N.status==="ACTIVE"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:N.status},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/AdminDashboard.tsx",lineNumber:539,columnNumber:23},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/AdminDashboard.tsx",lineNumber:538,columnNumber:21},this),e.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:N.joinedAt},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/AdminDashboard.tsx",lineNumber:549,columnNumber:21},this),e.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:N.status==="PENDING"?e.jsxDEV("button",{onClick:()=>n(N.id),className:"text-green-600 hover:text-green-900",children:"Approve"},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/AdminDashboard.tsx",lineNumber:554,columnNumber:25},this):e.jsxDEV("button",{onClick:()=>t("/admin/users"),className:"text-primary-600 hover:text-primary-900",children:"View"},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/AdminDashboard.tsx",lineNumber:561,columnNumber:25},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/AdminDashboard.tsx",lineNumber:552,columnNumber:21},this)]},N.id,!0,{fileName:"/app/code/frontend/src/pages/admin/AdminDashboard.tsx",lineNumber:527,columnNumber:19},this))},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/AdminDashboard.tsx",lineNumber:525,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/admin/AdminDashboard.tsx",lineNumber:505,columnNumber:13},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/AdminDashboard.tsx",lineNumber:504,columnNumber:11},this),e.jsxDEV("div",{className:"p-6 border-t border-gray-200",children:e.jsxDEV(B,{to:"/admin/users",className:"text-primary-600 hover:text-primary-700 text-sm font-medium",children:"View all users →"},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/AdminDashboard.tsx",lineNumber:575,columnNumber:13},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/AdminDashboard.tsx",lineNumber:574,columnNumber:11},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/admin/AdminDashboard.tsx",lineNumber:495,columnNumber:9},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/admin/AdminDashboard.tsx",lineNumber:280,columnNumber:7},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/AdminDashboard.tsx",lineNumber:279,columnNumber:5},this)}const Kl={ADMIN:"bg-red-100 text-red-800",FARMER:"bg-green-100 text-green-800",CUSTOMER:"bg-blue-100 text-blue-800",DRIVER:"bg-purple-100 text-purple-800",AGENT:"bg-yellow-100 text-yellow-800"},Gl={ACTIVE:"bg-green-100 text-green-800",PENDING:"bg-yellow-100 text-yellow-800",SUSPENDED:"bg-orange-100 text-orange-800",BLOCKED:"bg-red-100 text-red-800"};function zl(){const{token:r}=ee(),[s,t]=k.useState([]),[a,n]=k.useState(!0),[i,o]=k.useState(""),[l,u]=k.useState("ALL"),[c,d]=k.useState("ALL"),[m,p]=k.useState(null),[b,N]=k.useState(!1),[v,y]=k.useState("activate");k.useEffect(()=>{h()},[]);const h=async()=>{try{const A=[{id:"1",phone:"+254712345678",email:"admin@zuasoko.com",firstName:"Admin",lastName:"User",role:"ADMIN",status:"ACTIVE",createdAt:new Date().toISOString()},{id:"2",phone:"+254734567890",email:"farmer@zuasoko.com",firstName:"Jane",lastName:"Wanjiku",role:"FARMER",status:"ACTIVE",profile:{farmName:"Green Valley Farm",county:"Kiambu"},createdAt:new Date(Date.now()-6048e5).toISOString()},{id:"3",phone:"+254756789012",email:"customer@zuasoko.com",firstName:"Mary",lastName:"Wangari",role:"CUSTOMER",status:"ACTIVE",profile:{county:"Nairobi"},createdAt:new Date(Date.now()-12096e5).toISOString()},{id:"4",phone:"+254778901234",email:"driver@zuasoko.com",firstName:"Michael",lastName:"Kiprotich",role:"DRIVER",status:"ACTIVE",profile:{vehicleType:"Pickup Truck",licenseNumber:"DL123456789"},createdAt:new Date(Date.now()-18144e5).toISOString()},{id:"5",phone:"+254790123456",email:"pending.farmer@zuasoko.com",firstName:"John",lastName:"Kimani",role:"FARMER",status:"PENDING",profile:{farmName:"Highlands Farm",county:"Nyeri"},createdAt:new Date(Date.now()-1728e5).toISOString()}];t(A)}catch(A){console.error("Error fetching users:",A),R.error("Failed to fetch users")}finally{n(!1)}},x=(A,S)=>{p(A),y(S),N(!0)},M=async()=>{if(m)try{let A=m.status,S="";switch(v){case"activate":A="ACTIVE",S="User activated successfully";break;case"suspend":A="SUSPENDED",S="User suspended successfully";break;case"block":A="BLOCKED",S="User blocked successfully";break;case"delete":t(s.filter(E=>E.id!==m.id)),R.success("User deleted successfully"),N(!1);return}t(s.map(E=>E.id===m.id?{...E,status:A}:E)),R.success(S),N(!1)}catch{R.error("Failed to update user")}},V=s.filter(A=>{const S=A.firstName.toLowerCase().includes(i.toLowerCase())||A.lastName.toLowerCase().includes(i.toLowerCase())||A.email?.toLowerCase().includes(i.toLowerCase())||A.phone.includes(i),E=l==="ALL"||A.role===l,g=c==="ALL"||A.status===c;return S&&E&&g}),P=(()=>{const A=s.length,S=s.filter(I=>I.status==="ACTIVE").length,E=s.filter(I=>I.status==="PENDING").length,g=s.filter(I=>I.status==="BLOCKED"||I.status==="SUSPENDED").length;return{total:A,active:S,pending:E,blocked:g}})();return a?e.jsxDEV("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxDEV("div",{className:"text-center",children:[e.jsxDEV("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600 mx-auto"},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/UserManagementPage.tsx",lineNumber:222,columnNumber:11},this),e.jsxDEV("p",{className:"mt-4 text-gray-600",children:"Loading users..."},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/UserManagementPage.tsx",lineNumber:223,columnNumber:11},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/admin/UserManagementPage.tsx",lineNumber:221,columnNumber:9},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/UserManagementPage.tsx",lineNumber:220,columnNumber:7},this):e.jsxDEV("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsxDEV("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxDEV("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-8",children:e.jsxDEV("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("h1",{className:"text-3xl font-bold text-gray-900",children:"User Management"},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/UserManagementPage.tsx",lineNumber:236,columnNumber:15},this),e.jsxDEV("p",{className:"text-gray-600 mt-1",children:"Manage platform users and their permissions"},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/UserManagementPage.tsx",lineNumber:239,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/admin/UserManagementPage.tsx",lineNumber:235,columnNumber:13},this),e.jsxDEV("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsxDEV(Ye,{className:"w-4 h-4"},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/UserManagementPage.tsx",lineNumber:244,columnNumber:15},this),e.jsxDEV("span",{children:"Admin Panel"},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/UserManagementPage.tsx",lineNumber:245,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/admin/UserManagementPage.tsx",lineNumber:243,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/admin/UserManagementPage.tsx",lineNumber:234,columnNumber:11},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/UserManagementPage.tsx",lineNumber:233,columnNumber:9},this),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[e.jsxDEV("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:e.jsxDEV("div",{className:"flex items-center",children:[e.jsxDEV("div",{className:"p-3 bg-blue-100 rounded-lg",children:e.jsxDEV(Ae,{className:"w-6 h-6 text-blue-600"},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/UserManagementPage.tsx",lineNumber:255,columnNumber:17},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/UserManagementPage.tsx",lineNumber:254,columnNumber:15},this),e.jsxDEV("div",{className:"ml-4",children:[e.jsxDEV("h3",{className:"text-lg font-semibold text-gray-900",children:P.total},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/UserManagementPage.tsx",lineNumber:258,columnNumber:17},this),e.jsxDEV("p",{className:"text-gray-600 text-sm",children:"Total Users"},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/UserManagementPage.tsx",lineNumber:261,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/admin/UserManagementPage.tsx",lineNumber:257,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/admin/UserManagementPage.tsx",lineNumber:253,columnNumber:13},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/UserManagementPage.tsx",lineNumber:252,columnNumber:11},this),e.jsxDEV("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:e.jsxDEV("div",{className:"flex items-center",children:[e.jsxDEV("div",{className:"p-3 bg-green-100 rounded-lg",children:e.jsxDEV(ds,{className:"w-6 h-6 text-green-600"},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/UserManagementPage.tsx",lineNumber:269,columnNumber:17},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/UserManagementPage.tsx",lineNumber:268,columnNumber:15},this),e.jsxDEV("div",{className:"ml-4",children:[e.jsxDEV("h3",{className:"text-lg font-semibold text-gray-900",children:P.active},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/UserManagementPage.tsx",lineNumber:272,columnNumber:17},this),e.jsxDEV("p",{className:"text-gray-600 text-sm",children:"Active Users"},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/UserManagementPage.tsx",lineNumber:275,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/admin/UserManagementPage.tsx",lineNumber:271,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/admin/UserManagementPage.tsx",lineNumber:267,columnNumber:13},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/UserManagementPage.tsx",lineNumber:266,columnNumber:11},this),e.jsxDEV("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:e.jsxDEV("div",{className:"flex items-center",children:[e.jsxDEV("div",{className:"p-3 bg-yellow-100 rounded-lg",children:e.jsxDEV(ds,{className:"w-6 h-6 text-yellow-600"},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/UserManagementPage.tsx",lineNumber:283,columnNumber:17},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/UserManagementPage.tsx",lineNumber:282,columnNumber:15},this),e.jsxDEV("div",{className:"ml-4",children:[e.jsxDEV("h3",{className:"text-lg font-semibold text-gray-900",children:P.pending},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/UserManagementPage.tsx",lineNumber:286,columnNumber:17},this),e.jsxDEV("p",{className:"text-gray-600 text-sm",children:"Pending Approval"},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/UserManagementPage.tsx",lineNumber:289,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/admin/UserManagementPage.tsx",lineNumber:285,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/admin/UserManagementPage.tsx",lineNumber:281,columnNumber:13},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/UserManagementPage.tsx",lineNumber:280,columnNumber:11},this),e.jsxDEV("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:e.jsxDEV("div",{className:"flex items-center",children:[e.jsxDEV("div",{className:"p-3 bg-red-100 rounded-lg",children:e.jsxDEV(ln,{className:"w-6 h-6 text-red-600"},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/UserManagementPage.tsx",lineNumber:297,columnNumber:17},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/UserManagementPage.tsx",lineNumber:296,columnNumber:15},this),e.jsxDEV("div",{className:"ml-4",children:[e.jsxDEV("h3",{className:"text-lg font-semibold text-gray-900",children:P.blocked},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/UserManagementPage.tsx",lineNumber:300,columnNumber:17},this),e.jsxDEV("p",{className:"text-gray-600 text-sm",children:"Blocked/Suspended"},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/UserManagementPage.tsx",lineNumber:303,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/admin/UserManagementPage.tsx",lineNumber:299,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/admin/UserManagementPage.tsx",lineNumber:295,columnNumber:13},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/UserManagementPage.tsx",lineNumber:294,columnNumber:11},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/admin/UserManagementPage.tsx",lineNumber:251,columnNumber:9},this),e.jsxDEV("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-8",children:e.jsxDEV("div",{className:"flex flex-col lg:flex-row gap-4",children:[e.jsxDEV("div",{className:"flex-1",children:e.jsxDEV("div",{className:"relative",children:[e.jsxDEV(It,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/UserManagementPage.tsx",lineNumber:314,columnNumber:17},this),e.jsxDEV("input",{type:"text",placeholder:"Search users...",value:i,onChange:A=>o(A.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/UserManagementPage.tsx",lineNumber:315,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/admin/UserManagementPage.tsx",lineNumber:313,columnNumber:15},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/UserManagementPage.tsx",lineNumber:312,columnNumber:13},this),e.jsxDEV("div",{className:"flex gap-4",children:[e.jsxDEV("select",{value:l,onChange:A=>u(A.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[e.jsxDEV("option",{value:"ALL",children:"All Roles"},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/UserManagementPage.tsx",lineNumber:331,columnNumber:17},this),e.jsxDEV("option",{value:"ADMIN",children:"Admin"},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/UserManagementPage.tsx",lineNumber:332,columnNumber:17},this),e.jsxDEV("option",{value:"FARMER",children:"Farmer"},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/UserManagementPage.tsx",lineNumber:333,columnNumber:17},this),e.jsxDEV("option",{value:"CUSTOMER",children:"Customer"},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/UserManagementPage.tsx",lineNumber:334,columnNumber:17},this),e.jsxDEV("option",{value:"DRIVER",children:"Driver"},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/UserManagementPage.tsx",lineNumber:335,columnNumber:17},this),e.jsxDEV("option",{value:"AGENT",children:"Agent"},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/UserManagementPage.tsx",lineNumber:336,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/admin/UserManagementPage.tsx",lineNumber:326,columnNumber:15},this),e.jsxDEV("select",{value:c,onChange:A=>d(A.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[e.jsxDEV("option",{value:"ALL",children:"All Status"},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/UserManagementPage.tsx",lineNumber:344,columnNumber:17},this),e.jsxDEV("option",{value:"ACTIVE",children:"Active"},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/UserManagementPage.tsx",lineNumber:345,columnNumber:17},this),e.jsxDEV("option",{value:"PENDING",children:"Pending"},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/UserManagementPage.tsx",lineNumber:346,columnNumber:17},this),e.jsxDEV("option",{value:"SUSPENDED",children:"Suspended"},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/UserManagementPage.tsx",lineNumber:347,columnNumber:17},this),e.jsxDEV("option",{value:"BLOCKED",children:"Blocked"},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/UserManagementPage.tsx",lineNumber:348,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/admin/UserManagementPage.tsx",lineNumber:339,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/admin/UserManagementPage.tsx",lineNumber:325,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/admin/UserManagementPage.tsx",lineNumber:311,columnNumber:11},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/UserManagementPage.tsx",lineNumber:310,columnNumber:9},this),e.jsxDEV("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[e.jsxDEV("div",{className:"p-6 border-b border-gray-200",children:e.jsxDEV("h2",{className:"text-xl font-semibold text-gray-900",children:["Users (",V.length,")"]},void 0,!0,{fileName:"/app/code/frontend/src/pages/admin/UserManagementPage.tsx",lineNumber:357,columnNumber:13},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/UserManagementPage.tsx",lineNumber:356,columnNumber:11},this),e.jsxDEV("div",{className:"overflow-x-auto",children:e.jsxDEV("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsxDEV("thead",{className:"bg-gray-50",children:e.jsxDEV("tr",{children:[e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/UserManagementPage.tsx",lineNumber:366,columnNumber:19},this),e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact"},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/UserManagementPage.tsx",lineNumber:369,columnNumber:19},this),e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/UserManagementPage.tsx",lineNumber:372,columnNumber:19},this),e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/UserManagementPage.tsx",lineNumber:375,columnNumber:19},this),e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Joined"},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/UserManagementPage.tsx",lineNumber:378,columnNumber:19},this),e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/UserManagementPage.tsx",lineNumber:381,columnNumber:19},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/admin/UserManagementPage.tsx",lineNumber:365,columnNumber:17},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/UserManagementPage.tsx",lineNumber:364,columnNumber:15},this),e.jsxDEV("tbody",{className:"bg-white divide-y divide-gray-200",children:V.map(A=>e.jsxDEV("tr",{className:"hover:bg-gray-50",children:[e.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxDEV("div",{className:"flex items-center",children:[e.jsxDEV("div",{className:"w-10 h-10 bg-primary-100 rounded-full flex items-center justify-center",children:e.jsxDEV("span",{className:"text-primary-600 font-medium",children:[A.firstName[0],A.lastName[0]]},void 0,!0,{fileName:"/app/code/frontend/src/pages/admin/UserManagementPage.tsx",lineNumber:392,columnNumber:27},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/UserManagementPage.tsx",lineNumber:391,columnNumber:25},this),e.jsxDEV("div",{className:"ml-4",children:[e.jsxDEV("div",{className:"text-sm font-medium text-gray-900",children:[A.firstName," ",A.lastName]},void 0,!0,{fileName:"/app/code/frontend/src/pages/admin/UserManagementPage.tsx",lineNumber:398,columnNumber:27},this),A.profile?.farmName&&e.jsxDEV("div",{className:"text-sm text-gray-500",children:A.profile.farmName},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/UserManagementPage.tsx",lineNumber:402,columnNumber:29},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/admin/UserManagementPage.tsx",lineNumber:397,columnNumber:25},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/admin/UserManagementPage.tsx",lineNumber:390,columnNumber:23},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/UserManagementPage.tsx",lineNumber:389,columnNumber:21},this),e.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxDEV("div",{className:"text-sm text-gray-900",children:[e.jsxDEV("div",{className:"flex items-center gap-1 mb-1",children:[e.jsxDEV(rr,{className:"w-3 h-3"},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/UserManagementPage.tsx",lineNumber:412,columnNumber:27},this),A.phone]},void 0,!0,{fileName:"/app/code/frontend/src/pages/admin/UserManagementPage.tsx",lineNumber:411,columnNumber:25},this),A.email&&e.jsxDEV("div",{className:"flex items-center gap-1",children:[e.jsxDEV(ws,{className:"w-3 h-3"},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/UserManagementPage.tsx",lineNumber:417,columnNumber:29},this),A.email]},void 0,!0,{fileName:"/app/code/frontend/src/pages/admin/UserManagementPage.tsx",lineNumber:416,columnNumber:27},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/admin/UserManagementPage.tsx",lineNumber:410,columnNumber:23},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/UserManagementPage.tsx",lineNumber:409,columnNumber:21},this),e.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxDEV("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${Kl[A.role]||"bg-gray-100 text-gray-800"}`,children:A.role},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/UserManagementPage.tsx",lineNumber:424,columnNumber:23},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/UserManagementPage.tsx",lineNumber:423,columnNumber:21},this),e.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxDEV("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${Gl[A.status]||"bg-gray-100 text-gray-800"}`,children:A.status},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/UserManagementPage.tsx",lineNumber:434,columnNumber:23},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/UserManagementPage.tsx",lineNumber:433,columnNumber:21},this),e.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(A.createdAt).toLocaleDateString()},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/UserManagementPage.tsx",lineNumber:444,columnNumber:21},this),e.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxDEV("div",{className:"flex items-center gap-2",children:[A.status==="PENDING"&&e.jsxDEV("button",{onClick:()=>x(A,"activate"),className:"text-green-600 hover:text-green-900",children:"Activate"},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/UserManagementPage.tsx",lineNumber:450,columnNumber:27},this),A.status==="ACTIVE"&&e.jsxDEV("button",{onClick:()=>x(A,"suspend"),className:"text-yellow-600 hover:text-yellow-900",children:"Suspend"},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/UserManagementPage.tsx",lineNumber:458,columnNumber:27},this),A.status!=="BLOCKED"&&e.jsxDEV("button",{onClick:()=>x(A,"block"),className:"text-red-600 hover:text-red-900",children:"Block"},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/UserManagementPage.tsx",lineNumber:466,columnNumber:27},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/admin/UserManagementPage.tsx",lineNumber:448,columnNumber:23},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/UserManagementPage.tsx",lineNumber:447,columnNumber:21},this)]},A.id,!0,{fileName:"/app/code/frontend/src/pages/admin/UserManagementPage.tsx",lineNumber:388,columnNumber:19},this))},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/UserManagementPage.tsx",lineNumber:386,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/admin/UserManagementPage.tsx",lineNumber:363,columnNumber:13},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/UserManagementPage.tsx",lineNumber:362,columnNumber:11},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/admin/UserManagementPage.tsx",lineNumber:355,columnNumber:9},this),b&&m&&e.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxDEV("div",{className:"bg-white rounded-lg max-w-md w-full",children:[e.jsxDEV("div",{className:"p-6 border-b border-gray-200",children:e.jsxDEV("h2",{className:"text-xl font-semibold text-gray-900",children:"Confirm Action"},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/UserManagementPage.tsx",lineNumber:487,columnNumber:17},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/UserManagementPage.tsx",lineNumber:486,columnNumber:15},this),e.jsxDEV("div",{className:"p-6",children:[e.jsxDEV("p",{className:"text-gray-600 mb-4",children:["Are you sure you want to ",v,' user "',m.firstName," ",m.lastName,'"?']},void 0,!0,{fileName:"/app/code/frontend/src/pages/admin/UserManagementPage.tsx",lineNumber:493,columnNumber:17},this),v==="delete"&&e.jsxDEV("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 mb-4",children:e.jsxDEV("p",{className:"text-red-700 text-sm",children:[e.jsxDEV("strong",{children:"Warning:"},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/UserManagementPage.tsx",lineNumber:501,columnNumber:23},this)," This action cannot be undone. All user data will be permanently deleted."]},void 0,!0,{fileName:"/app/code/frontend/src/pages/admin/UserManagementPage.tsx",lineNumber:500,columnNumber:21},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/UserManagementPage.tsx",lineNumber:499,columnNumber:19},this),e.jsxDEV("div",{className:"flex gap-4",children:[e.jsxDEV("button",{type:"button",onClick:()=>N(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/UserManagementPage.tsx",lineNumber:508,columnNumber:19},this),e.jsxDEV("button",{onClick:M,className:`flex-1 px-4 py-2 rounded-lg transition-colors ${v==="delete"?"bg-red-600 text-white hover:bg-red-700":"bg-primary-600 text-white hover:bg-primary-700"}`,children:["Confirm ",v]},void 0,!0,{fileName:"/app/code/frontend/src/pages/admin/UserManagementPage.tsx",lineNumber:515,columnNumber:19},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/admin/UserManagementPage.tsx",lineNumber:507,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/admin/UserManagementPage.tsx",lineNumber:492,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/admin/UserManagementPage.tsx",lineNumber:485,columnNumber:13},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/UserManagementPage.tsx",lineNumber:484,columnNumber:11},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/admin/UserManagementPage.tsx",lineNumber:231,columnNumber:7},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/UserManagementPage.tsx",lineNumber:230,columnNumber:5},this)}const Ql={PENDING:{color:"bg-yellow-100 text-yellow-800",icon:ce,label:"Pending Review"},APPROVED:{color:"bg-green-100 text-green-800",icon:ie,label:"Approved"},REJECTED:{color:"bg-red-100 text-red-800",icon:cn,label:"Rejected"},PRICE_SUGGESTED:{color:"bg-blue-100 text-blue-800",icon:He,label:"Price Suggested"},DRIVER_ASSIGNED:{color:"bg-purple-100 text-purple-800",icon:re,label:"Driver Assigned"},IN_TRANSIT:{color:"bg-indigo-100 text-indigo-800",icon:re,label:"In Transit"},DELIVERED:{color:"bg-teal-100 text-teal-800",icon:K,label:"Delivered"},COMPLETED:{color:"bg-gray-100 text-gray-800",icon:ie,label:"Completed"}};function Jl(){const{token:r}=ee(),[s,t]=k.useState([]),[a,n]=k.useState([]),[i,o]=k.useState(!0),[l,u]=k.useState("ALL"),[c,d]=k.useState(null),[m,p]=k.useState(!1),[b,N]=k.useState("approve"),[v,y]=k.useState(""),[h,x]=k.useState("");k.useEffect(()=>{M(),V()},[]);const M=async()=>{try{const E=await _.get("/api/consignments",{headers:{Authorization:`Bearer ${r}`}});t(E.data)}catch(E){console.error("Error fetching consignments:",E),R.error("Failed to fetch consignments")}finally{o(!1)}},V=async()=>{try{n([{id:"1",userId:"driver1",name:"Michael Kiprotich",licenseNumber:"DL123456789",vehicleType:"Pickup Truck",vehicleRegNo:"KCA123X",isAvailable:!0,rating:4.7},{id:"2",userId:"driver2",name:"David Mwangi",licenseNumber:"DL987654321",vehicleType:"Van",vehicleRegNo:"KCB456Y",isAvailable:!0,rating:4.5}])}catch(E){console.error("Error fetching drivers:",E)}},C=async(E,g)=>{d(E),N(g),p(!0),g==="suggest_price"&&y(E.proposedPricePerUnit.toString())},P=async()=>{if(c)try{let E={};switch(b){case"approve":E={status:"APPROVED"};break;case"reject":E={status:"REJECTED"};break;case"suggest_price":if(!v||Number(v)<=0){R.error("Please enter a valid price");return}E={status:"PRICE_SUGGESTED",suggestedPrice:Number(v)};break;case"assign_driver":if(!h){R.error("Please select a driver");return}E={status:"DRIVER_ASSIGNED",driverId:h};break}await _.patch(`/api/admin/consignments/${c.id}`,E,{headers:{Authorization:`Bearer ${r}`}}),R.success("Consignment updated successfully!"),p(!1),M(),y(""),x("")}catch(E){console.error("Error updating consignment:",E),R.error("Failed to update consignment")}},A=l==="ALL"?s:s.filter(E=>E.status===l),S=E=>{switch(E.status){case"PENDING":return e.jsxDEV("div",{className:"flex gap-2",children:[e.jsxDEV("button",{onClick:()=>C(E,"approve"),className:"bg-green-600 text-white px-3 py-1 rounded text-sm hover:bg-green-700",children:"Approve"},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/ConsignmentManagementPage.tsx",lineNumber:237,columnNumber:13},this),e.jsxDEV("button",{onClick:()=>C(E,"suggest_price"),className:"bg-blue-600 text-white px-3 py-1 rounded text-sm hover:bg-blue-700",children:"Suggest Price"},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/ConsignmentManagementPage.tsx",lineNumber:243,columnNumber:13},this),e.jsxDEV("button",{onClick:()=>C(E,"reject"),className:"bg-red-600 text-white px-3 py-1 rounded text-sm hover:bg-red-700",children:"Reject"},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/ConsignmentManagementPage.tsx",lineNumber:249,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/admin/ConsignmentManagementPage.tsx",lineNumber:236,columnNumber:11},this);case"APPROVED":return e.jsxDEV("button",{onClick:()=>C(E,"assign_driver"),className:"bg-purple-600 text-white px-3 py-1 rounded text-sm hover:bg-purple-700",children:"Assign Driver"},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/ConsignmentManagementPage.tsx",lineNumber:260,columnNumber:11},this);default:return null}};return i?e.jsxDEV("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxDEV("div",{className:"text-center",children:[e.jsxDEV("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600 mx-auto"},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/ConsignmentManagementPage.tsx",lineNumber:277,columnNumber:11},this),e.jsxDEV("p",{className:"mt-4 text-gray-600",children:"Loading consignments..."},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/ConsignmentManagementPage.tsx",lineNumber:278,columnNumber:11},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/admin/ConsignmentManagementPage.tsx",lineNumber:276,columnNumber:9},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/ConsignmentManagementPage.tsx",lineNumber:275,columnNumber:7},this):e.jsxDEV("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsxDEV("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxDEV("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-8",children:e.jsxDEV("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:e.jsxDEV("div",{children:[e.jsxDEV("h1",{className:"text-3xl font-bold text-gray-900",children:"Consignment Management"},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/ConsignmentManagementPage.tsx",lineNumber:291,columnNumber:15},this),e.jsxDEV("p",{className:"text-gray-600 mt-1",children:"Review and manage farmer consignments"},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/ConsignmentManagementPage.tsx",lineNumber:294,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/admin/ConsignmentManagementPage.tsx",lineNumber:290,columnNumber:13},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/ConsignmentManagementPage.tsx",lineNumber:289,columnNumber:11},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/ConsignmentManagementPage.tsx",lineNumber:288,columnNumber:9},this),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[e.jsxDEV("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:e.jsxDEV("div",{className:"flex items-center",children:[e.jsxDEV("div",{className:"p-3 bg-yellow-100 rounded-lg",children:e.jsxDEV(ce,{className:"w-6 h-6 text-yellow-600"},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/ConsignmentManagementPage.tsx",lineNumber:306,columnNumber:17},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/ConsignmentManagementPage.tsx",lineNumber:305,columnNumber:15},this),e.jsxDEV("div",{className:"ml-4",children:[e.jsxDEV("h3",{className:"text-lg font-semibold text-gray-900",children:s.filter(E=>E.status==="PENDING").length},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/ConsignmentManagementPage.tsx",lineNumber:309,columnNumber:17},this),e.jsxDEV("p",{className:"text-gray-600 text-sm",children:"Pending Review"},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/ConsignmentManagementPage.tsx",lineNumber:312,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/admin/ConsignmentManagementPage.tsx",lineNumber:308,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/admin/ConsignmentManagementPage.tsx",lineNumber:304,columnNumber:13},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/ConsignmentManagementPage.tsx",lineNumber:303,columnNumber:11},this),e.jsxDEV("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:e.jsxDEV("div",{className:"flex items-center",children:[e.jsxDEV("div",{className:"p-3 bg-green-100 rounded-lg",children:e.jsxDEV(ie,{className:"w-6 h-6 text-green-600"},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/ConsignmentManagementPage.tsx",lineNumber:320,columnNumber:17},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/ConsignmentManagementPage.tsx",lineNumber:319,columnNumber:15},this),e.jsxDEV("div",{className:"ml-4",children:[e.jsxDEV("h3",{className:"text-lg font-semibold text-gray-900",children:s.filter(E=>E.status==="APPROVED").length},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/ConsignmentManagementPage.tsx",lineNumber:323,columnNumber:17},this),e.jsxDEV("p",{className:"text-gray-600 text-sm",children:"Approved"},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/ConsignmentManagementPage.tsx",lineNumber:326,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/admin/ConsignmentManagementPage.tsx",lineNumber:322,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/admin/ConsignmentManagementPage.tsx",lineNumber:318,columnNumber:13},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/ConsignmentManagementPage.tsx",lineNumber:317,columnNumber:11},this),e.jsxDEV("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:e.jsxDEV("div",{className:"flex items-center",children:[e.jsxDEV("div",{className:"p-3 bg-purple-100 rounded-lg",children:e.jsxDEV(re,{className:"w-6 h-6 text-purple-600"},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/ConsignmentManagementPage.tsx",lineNumber:334,columnNumber:17},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/ConsignmentManagementPage.tsx",lineNumber:333,columnNumber:15},this),e.jsxDEV("div",{className:"ml-4",children:[e.jsxDEV("h3",{className:"text-lg font-semibold text-gray-900",children:s.filter(E=>E.status==="DRIVER_ASSIGNED"||E.status==="IN_TRANSIT").length},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/ConsignmentManagementPage.tsx",lineNumber:337,columnNumber:17},this),e.jsxDEV("p",{className:"text-gray-600 text-sm",children:"In Transit"},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/ConsignmentManagementPage.tsx",lineNumber:346,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/admin/ConsignmentManagementPage.tsx",lineNumber:336,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/admin/ConsignmentManagementPage.tsx",lineNumber:332,columnNumber:13},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/ConsignmentManagementPage.tsx",lineNumber:331,columnNumber:11},this),e.jsxDEV("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:e.jsxDEV("div",{className:"flex items-center",children:[e.jsxDEV("div",{className:"p-3 bg-blue-100 rounded-lg",children:e.jsxDEV(K,{className:"w-6 h-6 text-blue-600"},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/ConsignmentManagementPage.tsx",lineNumber:354,columnNumber:17},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/ConsignmentManagementPage.tsx",lineNumber:353,columnNumber:15},this),e.jsxDEV("div",{className:"ml-4",children:[e.jsxDEV("h3",{className:"text-lg font-semibold text-gray-900",children:s.filter(E=>E.status==="DELIVERED"||E.status==="COMPLETED").length},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/ConsignmentManagementPage.tsx",lineNumber:357,columnNumber:17},this),e.jsxDEV("p",{className:"text-gray-600 text-sm",children:"Completed"},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/ConsignmentManagementPage.tsx",lineNumber:365,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/admin/ConsignmentManagementPage.tsx",lineNumber:356,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/admin/ConsignmentManagementPage.tsx",lineNumber:352,columnNumber:13},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/ConsignmentManagementPage.tsx",lineNumber:351,columnNumber:11},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/admin/ConsignmentManagementPage.tsx",lineNumber:302,columnNumber:9},this),e.jsxDEV("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-8",children:e.jsxDEV("div",{className:"flex flex-wrap gap-2",children:["ALL","PENDING","APPROVED","DRIVER_ASSIGNED","IN_TRANSIT","DELIVERED"].map(E=>e.jsxDEV("button",{onClick:()=>u(E),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${l===E?"bg-primary-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:E.replace("_"," ")},E,!1,{fileName:"/app/code/frontend/src/pages/admin/ConsignmentManagementPage.tsx",lineNumber:382,columnNumber:15},this))},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/ConsignmentManagementPage.tsx",lineNumber:373,columnNumber:11},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/ConsignmentManagementPage.tsx",lineNumber:372,columnNumber:9},this),e.jsxDEV("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[e.jsxDEV("div",{className:"p-6 border-b border-gray-200",children:e.jsxDEV("h2",{className:"text-xl font-semibold text-gray-900",children:["Consignments (",A.length,")"]},void 0,!0,{fileName:"/app/code/frontend/src/pages/admin/ConsignmentManagementPage.tsx",lineNumber:400,columnNumber:13},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/ConsignmentManagementPage.tsx",lineNumber:399,columnNumber:11},this),A.length===0?e.jsxDEV("div",{className:"p-12 text-center",children:[e.jsxDEV(K,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/ConsignmentManagementPage.tsx",lineNumber:407,columnNumber:15},this),e.jsxDEV("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No consignments found"},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/ConsignmentManagementPage.tsx",lineNumber:408,columnNumber:15},this),e.jsxDEV("p",{className:"text-gray-600",children:l==="ALL"?"No consignments have been submitted yet":`No ${l.toLowerCase()} consignments`},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/ConsignmentManagementPage.tsx",lineNumber:411,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/admin/ConsignmentManagementPage.tsx",lineNumber:406,columnNumber:13},this):e.jsxDEV("div",{className:"divide-y divide-gray-200",children:A.map(E=>{const g=Ql[E.status],I=g?.icon||K,q=(E.finalPricePerUnit||E.proposedPricePerUnit)*E.quantity;return e.jsxDEV("div",{className:"p-6 hover:bg-gray-50",children:e.jsxDEV("div",{className:"flex flex-col lg:flex-row lg:items-start lg:justify-between gap-4",children:[e.jsxDEV("div",{className:"flex-1",children:e.jsxDEV("div",{className:"flex items-start gap-4",children:[e.jsxDEV("div",{className:"w-16 h-16 bg-gray-100 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsxDEV(K,{className:"w-8 h-8 text-gray-600"},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/ConsignmentManagementPage.tsx",lineNumber:433,columnNumber:29},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/ConsignmentManagementPage.tsx",lineNumber:432,columnNumber:27},this),e.jsxDEV("div",{className:"flex-1 min-w-0",children:[e.jsxDEV("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:E.title},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/ConsignmentManagementPage.tsx",lineNumber:437,columnNumber:29},this),e.jsxDEV("p",{className:"text-gray-600 text-sm mb-3",children:E.description},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/ConsignmentManagementPage.tsx",lineNumber:440,columnNumber:29},this),E.farmer&&e.jsxDEV("div",{className:"flex items-center gap-4 text-sm text-gray-500 mb-2",children:[e.jsxDEV("div",{className:"flex items-center gap-1",children:[e.jsxDEV(De,{className:"w-4 h-4"},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/ConsignmentManagementPage.tsx",lineNumber:448,columnNumber:35},this),e.jsxDEV("span",{children:E.farmer.name},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/ConsignmentManagementPage.tsx",lineNumber:449,columnNumber:35},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/admin/ConsignmentManagementPage.tsx",lineNumber:447,columnNumber:33},this),e.jsxDEV("div",{className:"flex items-center gap-1",children:[e.jsxDEV(rr,{className:"w-4 h-4"},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/ConsignmentManagementPage.tsx",lineNumber:452,columnNumber:35},this),e.jsxDEV("span",{children:E.farmer.phone},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/ConsignmentManagementPage.tsx",lineNumber:453,columnNumber:35},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/admin/ConsignmentManagementPage.tsx",lineNumber:451,columnNumber:33},this),E.farmer.profile?.county&&e.jsxDEV("div",{className:"flex items-center gap-1",children:[e.jsxDEV($e,{className:"w-4 h-4"},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/ConsignmentManagementPage.tsx",lineNumber:457,columnNumber:37},this),e.jsxDEV("span",{children:E.farmer.profile.county},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/ConsignmentManagementPage.tsx",lineNumber:458,columnNumber:37},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/admin/ConsignmentManagementPage.tsx",lineNumber:456,columnNumber:35},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/admin/ConsignmentManagementPage.tsx",lineNumber:446,columnNumber:31},this),e.jsxDEV("div",{className:"flex flex-wrap items-center gap-4 text-sm text-gray-500 mb-3",children:[e.jsxDEV("span",{children:[E.quantity," ",E.unit]},void 0,!0,{fileName:"/app/code/frontend/src/pages/admin/ConsignmentManagementPage.tsx",lineNumber:468,columnNumber:31},this),e.jsxDEV("span",{children:"•"},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/ConsignmentManagementPage.tsx",lineNumber:471,columnNumber:31},this),e.jsxDEV("span",{children:["KSh ",E.proposedPricePerUnit," per"," ",E.unit]},void 0,!0,{fileName:"/app/code/frontend/src/pages/admin/ConsignmentManagementPage.tsx",lineNumber:472,columnNumber:31},this),e.jsxDEV("span",{children:"•"},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/ConsignmentManagementPage.tsx",lineNumber:476,columnNumber:31},this),e.jsxDEV("span",{children:E.category},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/ConsignmentManagementPage.tsx",lineNumber:477,columnNumber:31},this),e.jsxDEV("span",{children:"•"},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/ConsignmentManagementPage.tsx",lineNumber:478,columnNumber:31},this),e.jsxDEV("span",{children:["Total: KSh ",q.toLocaleString()]},void 0,!0,{fileName:"/app/code/frontend/src/pages/admin/ConsignmentManagementPage.tsx",lineNumber:479,columnNumber:31},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/admin/ConsignmentManagementPage.tsx",lineNumber:467,columnNumber:29},this),E.status==="PRICE_SUGGESTED"&&E.adminSuggestedPrice&&e.jsxDEV("div",{className:"mt-3 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:e.jsxDEV("p",{className:"text-sm text-blue-700",children:[e.jsxDEV("strong",{children:"Price suggested:"},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/ConsignmentManagementPage.tsx",lineNumber:489,columnNumber:37},this)," KSh"," ",E.adminSuggestedPrice," per"," ",E.unit,e.jsxDEV("span",{className:"ml-2 text-blue-600",children:["(Total: KSh"," ",(E.adminSuggestedPrice*E.quantity).toLocaleString(),")"]},void 0,!0,{fileName:"/app/code/frontend/src/pages/admin/ConsignmentManagementPage.tsx",lineNumber:492,columnNumber:37},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/admin/ConsignmentManagementPage.tsx",lineNumber:488,columnNumber:35},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/ConsignmentManagementPage.tsx",lineNumber:487,columnNumber:33},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/admin/ConsignmentManagementPage.tsx",lineNumber:436,columnNumber:27},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/admin/ConsignmentManagementPage.tsx",lineNumber:431,columnNumber:25},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/ConsignmentManagementPage.tsx",lineNumber:430,columnNumber:23},this),e.jsxDEV("div",{className:"flex flex-col lg:items-end gap-3",children:[e.jsxDEV("div",{className:`inline-flex items-center gap-2 px-3 py-1 rounded-full text-sm font-medium ${g?.color||"bg-gray-100 text-gray-800"}`,children:[e.jsxDEV(I,{className:"w-4 h-4"},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/ConsignmentManagementPage.tsx",lineNumber:511,columnNumber:27},this),g?.label||E.status]},void 0,!0,{fileName:"/app/code/frontend/src/pages/admin/ConsignmentManagementPage.tsx",lineNumber:508,columnNumber:25},this),e.jsxDEV("div",{className:"flex items-center gap-2 text-xs text-gray-400",children:[e.jsxDEV(Ze,{className:"w-3 h-3"},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/ConsignmentManagementPage.tsx",lineNumber:516,columnNumber:27},this),new Date(E.createdAt).toLocaleDateString()]},void 0,!0,{fileName:"/app/code/frontend/src/pages/admin/ConsignmentManagementPage.tsx",lineNumber:515,columnNumber:25},this),S(E)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/admin/ConsignmentManagementPage.tsx",lineNumber:507,columnNumber:23},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/admin/ConsignmentManagementPage.tsx",lineNumber:429,columnNumber:21},this)},E.id,!1,{fileName:"/app/code/frontend/src/pages/admin/ConsignmentManagementPage.tsx",lineNumber:428,columnNumber:19},this)})},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/ConsignmentManagementPage.tsx",lineNumber:418,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/admin/ConsignmentManagementPage.tsx",lineNumber:398,columnNumber:9},this),m&&c&&e.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxDEV("div",{className:"bg-white rounded-lg max-w-md w-full",children:[e.jsxDEV("div",{className:"p-6 border-b border-gray-200",children:[e.jsxDEV("h2",{className:"text-xl font-semibold text-gray-900",children:[b==="approve"&&"Approve Consignment",b==="reject"&&"Reject Consignment",b==="suggest_price"&&"Suggest New Price",b==="assign_driver"&&"Assign Driver"]},void 0,!0,{fileName:"/app/code/frontend/src/pages/admin/ConsignmentManagementPage.tsx",lineNumber:535,columnNumber:17},this),e.jsxDEV("p",{className:"text-gray-600 text-sm mt-1",children:c.title},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/ConsignmentManagementPage.tsx",lineNumber:541,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/admin/ConsignmentManagementPage.tsx",lineNumber:534,columnNumber:15},this),e.jsxDEV("div",{className:"p-6",children:[b==="suggest_price"&&e.jsxDEV("div",{className:"space-y-4",children:e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Current proposed price: KSh"," ",c.proposedPricePerUnit," per"," ",c.unit]},void 0,!0,{fileName:"/app/code/frontend/src/pages/admin/ConsignmentManagementPage.tsx",lineNumber:550,columnNumber:23},this),e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Your suggested price (KSh per ",c.unit,")"]},void 0,!0,{fileName:"/app/code/frontend/src/pages/admin/ConsignmentManagementPage.tsx",lineNumber:555,columnNumber:23},this),e.jsxDEV("input",{type:"number",value:v,onChange:E=>y(E.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Enter suggested price",min:"1",required:!0},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/ConsignmentManagementPage.tsx",lineNumber:559,columnNumber:23},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/admin/ConsignmentManagementPage.tsx",lineNumber:549,columnNumber:21},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/ConsignmentManagementPage.tsx",lineNumber:548,columnNumber:19},this),b==="assign_driver"&&e.jsxDEV("div",{className:"space-y-4",children:e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Driver"},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/ConsignmentManagementPage.tsx",lineNumber:575,columnNumber:23},this),e.jsxDEV("select",{value:h,onChange:E=>x(E.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0,children:[e.jsxDEV("option",{value:"",children:"Choose a driver"},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/ConsignmentManagementPage.tsx",lineNumber:584,columnNumber:25},this),a.filter(E=>E.isAvailable).map(E=>e.jsxDEV("option",{value:E.userId,children:[E.name," - ",E.vehicleType," (",E.vehicleRegNo,") - Rating: ",E.rating,"⭐"]},E.id,!0,{fileName:"/app/code/frontend/src/pages/admin/ConsignmentManagementPage.tsx",lineNumber:588,columnNumber:29},this))]},void 0,!0,{fileName:"/app/code/frontend/src/pages/admin/ConsignmentManagementPage.tsx",lineNumber:578,columnNumber:23},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/admin/ConsignmentManagementPage.tsx",lineNumber:574,columnNumber:21},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/ConsignmentManagementPage.tsx",lineNumber:573,columnNumber:19},this),(b==="approve"||b==="reject")&&e.jsxDEV("p",{className:"text-gray-600",children:["Are you sure you want to ",b," this consignment?"]},void 0,!0,{fileName:"/app/code/frontend/src/pages/admin/ConsignmentManagementPage.tsx",lineNumber:599,columnNumber:19},this),e.jsxDEV("div",{className:"flex gap-4 mt-6",children:[e.jsxDEV("button",{type:"button",onClick:()=>p(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/ConsignmentManagementPage.tsx",lineNumber:605,columnNumber:19},this),e.jsxDEV("button",{onClick:P,className:"flex-1 bg-primary-600 text-white px-4 py-2 rounded-lg hover:bg-primary-700 transition-colors",children:"Confirm"},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/ConsignmentManagementPage.tsx",lineNumber:612,columnNumber:19},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/admin/ConsignmentManagementPage.tsx",lineNumber:604,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/admin/ConsignmentManagementPage.tsx",lineNumber:546,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/admin/ConsignmentManagementPage.tsx",lineNumber:533,columnNumber:13},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/ConsignmentManagementPage.tsx",lineNumber:532,columnNumber:11},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/admin/ConsignmentManagementPage.tsx",lineNumber:286,columnNumber:7},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/ConsignmentManagementPage.tsx",lineNumber:285,columnNumber:5},this)}function Xl(){const{token:r}=ee(),[s,t]=k.useState(!0),[a,n]=k.useState("30"),[i,o]=k.useState({totalUsers:1247,totalConsignments:856,totalOrders:2341,totalRevenue:4567890,activeDrivers:23,pendingApprovals:12,userGrowth:12.5,revenueGrowth:8.2}),[l]=k.useState([{name:"Jan",value:32e4},{name:"Feb",value:28e4},{name:"Mar",value:45e4},{name:"Apr",value:38e4},{name:"May",value:52e4},{name:"Jun",value:49e4},{name:"Jul",value:64e4},{name:"Aug",value:58e4},{name:"Sep",value:72e4},{name:"Oct",value:68e4},{name:"Nov",value:75e4},{name:"Dec",value:82e4}]),[u]=k.useState([{name:"Vegetables",value:45},{name:"Fruits",value:25},{name:"Grains",value:15},{name:"Leafy Greens",value:10},{name:"Others",value:5}]),[c]=k.useState([{id:1,type:"order",message:"New order placed by Mary Wangari",amount:"KSh 2,450",time:"5 minutes ago"},{id:2,type:"consignment",message:"Consignment approved for Jane Wanjiku",amount:"KSh 15,000",time:"12 minutes ago"},{id:3,type:"user",message:"New farmer registered: Peter Kamau",amount:"",time:"25 minutes ago"},{id:4,type:"delivery",message:"Delivery completed by Michael Kiprotich",amount:"KSh 3,200",time:"1 hour ago"},{id:5,type:"payment",message:"Payment processed for Grace Muthoni",amount:"KSh 8,750",time:"2 hours ago"}]);k.useEffect(()=>{setTimeout(()=>t(!1),1e3)},[a]);const d=p=>new Intl.NumberFormat("en-KE",{style:"currency",currency:"KES",minimumFractionDigits:0}).format(p),m=p=>{switch(p){case"order":return e.jsxDEV(K,{className:"w-4 h-4 text-blue-600"},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/AnalyticsPage.tsx",lineNumber:127,columnNumber:16},this);case"consignment":return e.jsxDEV(Ie,{className:"w-4 h-4 text-green-600"},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/AnalyticsPage.tsx",lineNumber:129,columnNumber:16},this);case"user":return e.jsxDEV(Ae,{className:"w-4 h-4 text-purple-600"},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/AnalyticsPage.tsx",lineNumber:131,columnNumber:16},this);case"delivery":return e.jsxDEV(re,{className:"w-4 h-4 text-orange-600"},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/AnalyticsPage.tsx",lineNumber:133,columnNumber:16},this);case"payment":return e.jsxDEV(He,{className:"w-4 h-4 text-emerald-600"},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/AnalyticsPage.tsx",lineNumber:135,columnNumber:16},this);default:return e.jsxDEV(Pr,{className:"w-4 h-4 text-gray-600"},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/AnalyticsPage.tsx",lineNumber:137,columnNumber:16},this)}};return s?e.jsxDEV("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxDEV("div",{className:"text-center",children:[e.jsxDEV("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600 mx-auto"},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/AnalyticsPage.tsx",lineNumber:145,columnNumber:11},this),e.jsxDEV("p",{className:"mt-4 text-gray-600",children:"Loading analytics..."},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/AnalyticsPage.tsx",lineNumber:146,columnNumber:11},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/admin/AnalyticsPage.tsx",lineNumber:144,columnNumber:9},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/AnalyticsPage.tsx",lineNumber:143,columnNumber:7},this):e.jsxDEV("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsxDEV("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxDEV("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-8",children:e.jsxDEV("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("h1",{className:"text-3xl font-bold text-gray-900",children:"Analytics Dashboard"},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/AnalyticsPage.tsx",lineNumber:159,columnNumber:15},this),e.jsxDEV("p",{className:"text-gray-600 mt-1",children:"Platform insights and performance metrics"},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/AnalyticsPage.tsx",lineNumber:162,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/admin/AnalyticsPage.tsx",lineNumber:158,columnNumber:13},this),e.jsxDEV("div",{className:"flex items-center gap-4",children:[e.jsxDEV("select",{value:a,onChange:p=>n(p.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[e.jsxDEV("option",{value:"7",children:"Last 7 days"},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/AnalyticsPage.tsx",lineNumber:172,columnNumber:17},this),e.jsxDEV("option",{value:"30",children:"Last 30 days"},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/AnalyticsPage.tsx",lineNumber:173,columnNumber:17},this),e.jsxDEV("option",{value:"90",children:"Last 3 months"},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/AnalyticsPage.tsx",lineNumber:174,columnNumber:17},this),e.jsxDEV("option",{value:"365",children:"Last year"},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/AnalyticsPage.tsx",lineNumber:175,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/admin/AnalyticsPage.tsx",lineNumber:167,columnNumber:15},this),e.jsxDEV("button",{className:"bg-primary-600 text-white px-4 py-2 rounded-lg hover:bg-primary-700 transition-colors flex items-center gap-2",children:[e.jsxDEV(Qs,{className:"w-4 h-4"},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/AnalyticsPage.tsx",lineNumber:178,columnNumber:17},this),"Export"]},void 0,!0,{fileName:"/app/code/frontend/src/pages/admin/AnalyticsPage.tsx",lineNumber:177,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/admin/AnalyticsPage.tsx",lineNumber:166,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/admin/AnalyticsPage.tsx",lineNumber:157,columnNumber:11},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/AnalyticsPage.tsx",lineNumber:156,columnNumber:9},this),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[e.jsxDEV("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-sm font-medium text-gray-600",children:"Total Revenue"},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/AnalyticsPage.tsx",lineNumber:190,columnNumber:17},this),e.jsxDEV("p",{className:"text-2xl font-bold text-gray-900",children:d(i.totalRevenue)},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/AnalyticsPage.tsx",lineNumber:193,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/admin/AnalyticsPage.tsx",lineNumber:189,columnNumber:15},this),e.jsxDEV("div",{className:"p-3 bg-green-100 rounded-lg",children:e.jsxDEV(He,{className:"w-6 h-6 text-green-600"},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/AnalyticsPage.tsx",lineNumber:198,columnNumber:17},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/AnalyticsPage.tsx",lineNumber:197,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/admin/AnalyticsPage.tsx",lineNumber:188,columnNumber:13},this),e.jsxDEV("div",{className:"mt-4 flex items-center",children:[e.jsxDEV(Ie,{className:"w-4 h-4 text-green-600 mr-1"},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/AnalyticsPage.tsx",lineNumber:202,columnNumber:15},this),e.jsxDEV("span",{className:"text-sm font-medium text-green-600",children:["+",i.revenueGrowth,"%"]},void 0,!0,{fileName:"/app/code/frontend/src/pages/admin/AnalyticsPage.tsx",lineNumber:203,columnNumber:15},this),e.jsxDEV("span",{className:"text-sm text-gray-500 ml-2",children:"vs last month"},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/AnalyticsPage.tsx",lineNumber:206,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/admin/AnalyticsPage.tsx",lineNumber:201,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/admin/AnalyticsPage.tsx",lineNumber:187,columnNumber:11},this),e.jsxDEV("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-sm font-medium text-gray-600",children:"Total Users"},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/AnalyticsPage.tsx",lineNumber:213,columnNumber:17},this),e.jsxDEV("p",{className:"text-2xl font-bold text-gray-900",children:i.totalUsers.toLocaleString()},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/AnalyticsPage.tsx",lineNumber:214,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/admin/AnalyticsPage.tsx",lineNumber:212,columnNumber:15},this),e.jsxDEV("div",{className:"p-3 bg-blue-100 rounded-lg",children:e.jsxDEV(Ae,{className:"w-6 h-6 text-blue-600"},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/AnalyticsPage.tsx",lineNumber:219,columnNumber:17},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/AnalyticsPage.tsx",lineNumber:218,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/admin/AnalyticsPage.tsx",lineNumber:211,columnNumber:13},this),e.jsxDEV("div",{className:"mt-4 flex items-center",children:[e.jsxDEV(Ie,{className:"w-4 h-4 text-green-600 mr-1"},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/AnalyticsPage.tsx",lineNumber:223,columnNumber:15},this),e.jsxDEV("span",{className:"text-sm font-medium text-green-600",children:["+",i.userGrowth,"%"]},void 0,!0,{fileName:"/app/code/frontend/src/pages/admin/AnalyticsPage.tsx",lineNumber:224,columnNumber:15},this),e.jsxDEV("span",{className:"text-sm text-gray-500 ml-2",children:"vs last month"},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/AnalyticsPage.tsx",lineNumber:227,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/admin/AnalyticsPage.tsx",lineNumber:222,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/admin/AnalyticsPage.tsx",lineNumber:210,columnNumber:11},this),e.jsxDEV("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-sm font-medium text-gray-600",children:"Total Orders"},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/AnalyticsPage.tsx",lineNumber:234,columnNumber:17},this),e.jsxDEV("p",{className:"text-2xl font-bold text-gray-900",children:i.totalOrders.toLocaleString()},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/AnalyticsPage.tsx",lineNumber:237,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/admin/AnalyticsPage.tsx",lineNumber:233,columnNumber:15},this),e.jsxDEV("div",{className:"p-3 bg-purple-100 rounded-lg",children:e.jsxDEV(K,{className:"w-6 h-6 text-purple-600"},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/AnalyticsPage.tsx",lineNumber:242,columnNumber:17},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/AnalyticsPage.tsx",lineNumber:241,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/admin/AnalyticsPage.tsx",lineNumber:232,columnNumber:13},this),e.jsxDEV("div",{className:"mt-4 flex items-center",children:[e.jsxDEV(Ie,{className:"w-4 h-4 text-green-600 mr-1"},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/AnalyticsPage.tsx",lineNumber:246,columnNumber:15},this),e.jsxDEV("span",{className:"text-sm font-medium text-green-600",children:"+15.3%"},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/AnalyticsPage.tsx",lineNumber:247,columnNumber:15},this),e.jsxDEV("span",{className:"text-sm text-gray-500 ml-2",children:"vs last month"},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/AnalyticsPage.tsx",lineNumber:248,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/admin/AnalyticsPage.tsx",lineNumber:245,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/admin/AnalyticsPage.tsx",lineNumber:231,columnNumber:11},this),e.jsxDEV("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-sm font-medium text-gray-600",children:"Active Drivers"},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/AnalyticsPage.tsx",lineNumber:255,columnNumber:17},this),e.jsxDEV("p",{className:"text-2xl font-bold text-gray-900",children:i.activeDrivers},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/AnalyticsPage.tsx",lineNumber:258,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/admin/AnalyticsPage.tsx",lineNumber:254,columnNumber:15},this),e.jsxDEV("div",{className:"p-3 bg-orange-100 rounded-lg",children:e.jsxDEV(re,{className:"w-6 h-6 text-orange-600"},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/AnalyticsPage.tsx",lineNumber:263,columnNumber:17},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/AnalyticsPage.tsx",lineNumber:262,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/admin/AnalyticsPage.tsx",lineNumber:253,columnNumber:13},this),e.jsxDEV("div",{className:"mt-4 flex items-center",children:[e.jsxDEV(Ie,{className:"w-4 h-4 text-green-600 mr-1"},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/AnalyticsPage.tsx",lineNumber:267,columnNumber:15},this),e.jsxDEV("span",{className:"text-sm font-medium text-green-600",children:"+2"},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/AnalyticsPage.tsx",lineNumber:268,columnNumber:15},this),e.jsxDEV("span",{className:"text-sm text-gray-500 ml-2",children:"vs last month"},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/AnalyticsPage.tsx",lineNumber:269,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/admin/AnalyticsPage.tsx",lineNumber:266,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/admin/AnalyticsPage.tsx",lineNumber:252,columnNumber:11},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/admin/AnalyticsPage.tsx",lineNumber:186,columnNumber:9},this),e.jsxDEV("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[e.jsxDEV("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsxDEV("div",{className:"flex items-center justify-between mb-6",children:[e.jsxDEV("h3",{className:"text-lg font-semibold text-gray-900",children:"Monthly Revenue"},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/AnalyticsPage.tsx",lineNumber:279,columnNumber:15},this),e.jsxDEV(js,{className:"w-5 h-5 text-gray-400"},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/AnalyticsPage.tsx",lineNumber:282,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/admin/AnalyticsPage.tsx",lineNumber:278,columnNumber:13},this),e.jsxDEV("div",{className:"h-64 flex items-end justify-between gap-2",children:l.map((p,b)=>e.jsxDEV("div",{className:"flex flex-col items-center flex-1",children:[e.jsxDEV("div",{className:"bg-primary-600 rounded-t w-full transition-all duration-300 hover:bg-primary-700",style:{height:`${p.value/Math.max(...l.map(N=>N.value))*100}%`,minHeight:"4px"}},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/AnalyticsPage.tsx",lineNumber:287,columnNumber:19},this),e.jsxDEV("span",{className:"text-xs text-gray-500 mt-2",children:p.name},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/AnalyticsPage.tsx",lineNumber:294,columnNumber:19},this)]},b,!0,{fileName:"/app/code/frontend/src/pages/admin/AnalyticsPage.tsx",lineNumber:286,columnNumber:17},this))},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/AnalyticsPage.tsx",lineNumber:284,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/admin/AnalyticsPage.tsx",lineNumber:277,columnNumber:11},this),e.jsxDEV("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsxDEV("div",{className:"flex items-center justify-between mb-6",children:[e.jsxDEV("h3",{className:"text-lg font-semibold text-gray-900",children:"Product Categories"},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/AnalyticsPage.tsx",lineNumber:305,columnNumber:15},this),e.jsxDEV(mn,{className:"w-5 h-5 text-gray-400"},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/AnalyticsPage.tsx",lineNumber:308,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/admin/AnalyticsPage.tsx",lineNumber:304,columnNumber:13},this),e.jsxDEV("div",{className:"space-y-4",children:u.map((p,b)=>e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{className:"flex items-center",children:[e.jsxDEV("div",{className:"w-4 h-4 rounded mr-3",style:{backgroundColor:`hsl(${b*72}, 70%, 50%)`}},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/AnalyticsPage.tsx",lineNumber:314,columnNumber:21},this),e.jsxDEV("span",{className:"text-sm font-medium text-gray-700",children:p.name},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/AnalyticsPage.tsx",lineNumber:320,columnNumber:21},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/admin/AnalyticsPage.tsx",lineNumber:313,columnNumber:19},this),e.jsxDEV("span",{className:"text-sm text-gray-500",children:[p.value,"%"]},void 0,!0,{fileName:"/app/code/frontend/src/pages/admin/AnalyticsPage.tsx",lineNumber:324,columnNumber:19},this)]},b,!0,{fileName:"/app/code/frontend/src/pages/admin/AnalyticsPage.tsx",lineNumber:312,columnNumber:17},this))},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/AnalyticsPage.tsx",lineNumber:310,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/admin/AnalyticsPage.tsx",lineNumber:303,columnNumber:11},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/admin/AnalyticsPage.tsx",lineNumber:275,columnNumber:9},this),e.jsxDEV("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[e.jsxDEV("div",{className:"p-6 border-b border-gray-200",children:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("h3",{className:"text-lg font-semibold text-gray-900",children:"Recent Activity"},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/AnalyticsPage.tsx",lineNumber:335,columnNumber:15},this),e.jsxDEV(Pr,{className:"w-5 h-5 text-gray-400"},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/AnalyticsPage.tsx",lineNumber:338,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/admin/AnalyticsPage.tsx",lineNumber:334,columnNumber:13},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/AnalyticsPage.tsx",lineNumber:333,columnNumber:11},this),e.jsxDEV("div",{className:"divide-y divide-gray-200",children:c.map(p=>e.jsxDEV("div",{className:"p-6 hover:bg-gray-50",children:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{className:"flex items-center",children:[e.jsxDEV("div",{className:"p-2 bg-gray-100 rounded-lg mr-4",children:m(p.type)},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/AnalyticsPage.tsx",lineNumber:346,columnNumber:21},this),e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-sm font-medium text-gray-900",children:p.message},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/AnalyticsPage.tsx",lineNumber:350,columnNumber:23},this),e.jsxDEV("p",{className:"text-sm text-gray-500",children:p.time},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/AnalyticsPage.tsx",lineNumber:353,columnNumber:23},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/admin/AnalyticsPage.tsx",lineNumber:349,columnNumber:21},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/admin/AnalyticsPage.tsx",lineNumber:345,columnNumber:19},this),p.amount&&e.jsxDEV("div",{className:"text-sm font-medium text-gray-900",children:p.amount},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/AnalyticsPage.tsx",lineNumber:357,columnNumber:21},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/admin/AnalyticsPage.tsx",lineNumber:344,columnNumber:17},this)},p.id,!1,{fileName:"/app/code/frontend/src/pages/admin/AnalyticsPage.tsx",lineNumber:343,columnNumber:15},this))},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/AnalyticsPage.tsx",lineNumber:341,columnNumber:11},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/admin/AnalyticsPage.tsx",lineNumber:332,columnNumber:9},this),e.jsxDEV("div",{className:"mt-8 bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsxDEV("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Actions"},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/AnalyticsPage.tsx",lineNumber:369,columnNumber:11},this),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxDEV("button",{className:"p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors text-left",children:[e.jsxDEV(Ae,{className:"w-6 h-6 text-blue-600 mb-2"},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/AnalyticsPage.tsx",lineNumber:374,columnNumber:15},this),e.jsxDEV("h4",{className:"font-medium text-gray-900",children:"Manage Users"},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/AnalyticsPage.tsx",lineNumber:375,columnNumber:15},this),e.jsxDEV("p",{className:"text-sm text-gray-500",children:"View and manage platform users"},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/AnalyticsPage.tsx",lineNumber:376,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/admin/AnalyticsPage.tsx",lineNumber:373,columnNumber:13},this),e.jsxDEV("button",{className:"p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors text-left",children:[e.jsxDEV(K,{className:"w-6 h-6 text-green-600 mb-2"},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/AnalyticsPage.tsx",lineNumber:382,columnNumber:15},this),e.jsxDEV("h4",{className:"font-medium text-gray-900",children:"Review Consignments"},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/AnalyticsPage.tsx",lineNumber:383,columnNumber:15},this),e.jsxDEV("p",{className:"text-sm text-gray-500",children:"Approve pending consignments"},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/AnalyticsPage.tsx",lineNumber:384,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/admin/AnalyticsPage.tsx",lineNumber:381,columnNumber:13},this),e.jsxDEV("button",{className:"p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors text-left",children:[e.jsxDEV(Qs,{className:"w-6 h-6 text-purple-600 mb-2"},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/AnalyticsPage.tsx",lineNumber:390,columnNumber:15},this),e.jsxDEV("h4",{className:"font-medium text-gray-900",children:"Generate Reports"},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/AnalyticsPage.tsx",lineNumber:391,columnNumber:15},this),e.jsxDEV("p",{className:"text-sm text-gray-500",children:"Download detailed analytics"},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/AnalyticsPage.tsx",lineNumber:392,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/admin/AnalyticsPage.tsx",lineNumber:389,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/admin/AnalyticsPage.tsx",lineNumber:372,columnNumber:11},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/admin/AnalyticsPage.tsx",lineNumber:368,columnNumber:9},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/admin/AnalyticsPage.tsx",lineNumber:154,columnNumber:7},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/admin/AnalyticsPage.tsx",lineNumber:153,columnNumber:5},this)}function Yl(){const{user:r,token:s}=ee(),[t,a]=k.useState([]),[n,i]=k.useState(!0);k.useEffect(()=>{o()},[]);const o=async()=>{try{const h=await _.get("/api/driver/assignments",{headers:{Authorization:`Bearer ${s}`}});a(h.data)}catch(h){console.error("Error fetching assignments:",h),R.error("Failed to fetch assignments")}finally{i(!1)}},l=async h=>{try{await _.put(`/api/driver/assignments/${h}/status`,{status:"IN_TRANSIT",notes:"Pickup started"},{headers:{Authorization:`Bearer ${s}`}}),R.success(`Started pickup for delivery ${h}`),o()}catch(x){console.error("Error updating delivery status:",x),R.error("Failed to start pickup")}},u=async h=>{try{await _.put(`/api/driver/assignments/${h}/status`,{status:"DELIVERED",notes:"Delivery completed"},{headers:{Authorization:`Bearer ${s}`}}),R.success(`Marked delivery ${h} as completed`),o()}catch(x){console.error("Error updating delivery status:",x),R.error("Failed to mark as delivered")}},c=async()=>{try{if(!navigator.geolocation){R.error("Geolocation is not supported by this browser");return}R("Getting your location...",{icon:"ℹ️"}),navigator.geolocation.getCurrentPosition(async h=>{const{latitude:x,longitude:M}=h.coords;try{await _.put("/api/driver/location",{latitude:x,longitude:M,timestamp:new Date().toISOString()},{headers:{Authorization:`Bearer ${s}`}}),R.success(`Location updated: ${x.toFixed(6)}, ${M.toFixed(6)}`)}catch(V){console.error("Error updating location on server:",V),R.success(`Location obtained: ${x.toFixed(6)}, ${M.toFixed(6)}`),R("Could not sync with server - using local GPS",{icon:"⚠️"})}},h=>{console.error("Geolocation error:",h),R.error("Failed to get location. Please enable GPS and try again.")},{enableHighAccuracy:!0,timeout:1e4,maximumAge:6e4})}catch(h){console.error("Location update error:",h),R.error("Failed to update location")}},d=()=>{R.success("Looking for new deliveries...")},m=()=>{R("Issue reporting form would open here",{icon:"ℹ️"})},p=()=>{R("Earnings details would be shown here",{icon:"ℹ️"})},b=[{title:"Deliveries Today",value:"8",icon:e.jsxDEV(re,{className:"w-6 h-6"},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/DriverDashboard.tsx",lineNumber:152,columnNumber:13},this),color:"bg-blue-500"},{title:"Total Earnings",value:"KES 12,500",icon:e.jsxDEV(He,{className:"w-6 h-6"},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/DriverDashboard.tsx",lineNumber:158,columnNumber:13},this),color:"bg-green-500"},{title:"Average Rating",value:"4.8",icon:e.jsxDEV(ie,{className:"w-6 h-6"},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/DriverDashboard.tsx",lineNumber:164,columnNumber:13},this),color:"bg-yellow-500"},{title:"Pending Pickups",value:"3",icon:e.jsxDEV(qe,{className:"w-6 h-6"},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/DriverDashboard.tsx",lineNumber:170,columnNumber:13},this),color:"bg-red-500"}],N=t.map(h=>({id:h.id,customer:`${h.farmer?.user?.firstName||"Unknown"} ${h.farmer?.user?.lastName||"Farmer"}`,location:h.location||"Unknown location",status:h.status==="DRIVER_ASSIGNED"?"pending":h.status==="IN_TRANSIT"?"in_transit":h.status==="DELIVERED"?"delivered":"unknown",time:new Date(h.createdAt).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}),value:`KES ${((h.finalPricePerUnit||h.bidPricePerUnit)*h.quantity).toLocaleString()}`})),v=h=>{switch(h){case"pending":return"bg-yellow-100 text-yellow-800";case"in_transit":return"bg-blue-100 text-blue-800";case"delivered":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},y=h=>{switch(h){case"pending":return"Pending Pickup";case"in_transit":return"In Transit";case"delivered":return"Delivered";default:return h}};return e.jsxDEV("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxDEV("div",{className:"mb-8",children:[e.jsxDEV("h1",{className:"text-3xl font-bold text-gray-900",children:["Welcome back, ",r?.firstName,"!"]},void 0,!0,{fileName:"/app/code/frontend/src/pages/driver/DriverDashboard.tsx",lineNumber:224,columnNumber:9},this),e.jsxDEV("p",{className:"text-gray-600 mt-2",children:"Here's your delivery schedule for today."},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/DriverDashboard.tsx",lineNumber:227,columnNumber:9},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/driver/DriverDashboard.tsx",lineNumber:223,columnNumber:7},this),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:b.map((h,x)=>e.jsxDEV("div",{className:"bg-white rounded-lg shadow p-6",children:e.jsxDEV("div",{className:"flex items-center",children:[e.jsxDEV("div",{className:`${h.color} text-white p-3 rounded-lg`,children:h.icon},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/DriverDashboard.tsx",lineNumber:237,columnNumber:15},this),e.jsxDEV("div",{className:"ml-4",children:[e.jsxDEV("p",{className:"text-sm font-medium text-gray-600",children:h.title},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/DriverDashboard.tsx",lineNumber:241,columnNumber:17},this),e.jsxDEV("p",{className:"text-2xl font-semibold text-gray-900",children:h.value},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/DriverDashboard.tsx",lineNumber:244,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/driver/DriverDashboard.tsx",lineNumber:240,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/driver/DriverDashboard.tsx",lineNumber:236,columnNumber:13},this)},x,!1,{fileName:"/app/code/frontend/src/pages/driver/DriverDashboard.tsx",lineNumber:235,columnNumber:11},this))},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/DriverDashboard.tsx",lineNumber:233,columnNumber:7},this),e.jsxDEV("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 mb-8",children:[e.jsxDEV("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsxDEV("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Driver Status"},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/DriverDashboard.tsx",lineNumber:256,columnNumber:11},this),e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("span",{className:"text-gray-600",children:"Status"},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/DriverDashboard.tsx",lineNumber:261,columnNumber:15},this),e.jsxDEV("span",{className:"bg-green-100 text-green-800 px-3 py-1 rounded-full text-sm font-medium",children:"Available"},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/DriverDashboard.tsx",lineNumber:262,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/driver/DriverDashboard.tsx",lineNumber:260,columnNumber:13},this),e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("span",{className:"text-gray-600",children:"Vehicle"},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/DriverDashboard.tsx",lineNumber:267,columnNumber:15},this),e.jsxDEV("span",{className:"text-gray-900 font-medium",children:"Pickup Truck - KCA123X"},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/DriverDashboard.tsx",lineNumber:268,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/driver/DriverDashboard.tsx",lineNumber:266,columnNumber:13},this),e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("span",{className:"text-gray-600",children:"Current Location"},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/DriverDashboard.tsx",lineNumber:273,columnNumber:15},this),e.jsxDEV("span",{className:"text-gray-900 font-medium",children:"Nairobi CBD"},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/DriverDashboard.tsx",lineNumber:274,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/driver/DriverDashboard.tsx",lineNumber:272,columnNumber:13},this),e.jsxDEV("button",{onClick:c,className:"w-full bg-primary-600 text-white py-2 px-4 rounded-lg hover:bg-primary-700 transition-colors",children:"Update Location"},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/DriverDashboard.tsx",lineNumber:276,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/driver/DriverDashboard.tsx",lineNumber:259,columnNumber:11},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/driver/DriverDashboard.tsx",lineNumber:255,columnNumber:9},this),e.jsxDEV("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsxDEV("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Actions"},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/DriverDashboard.tsx",lineNumber:286,columnNumber:11},this),e.jsxDEV("div",{className:"space-y-3",children:[e.jsxDEV("button",{onClick:d,className:"w-full text-left p-3 rounded-lg border border-gray-200 hover:bg-gray-50 transition-colors",children:[e.jsxDEV("div",{className:"font-medium text-gray-900",children:"Accept New Delivery"},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/DriverDashboard.tsx",lineNumber:294,columnNumber:15},this),e.jsxDEV("div",{className:"text-sm text-gray-600",children:"Find deliveries near you"},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/DriverDashboard.tsx",lineNumber:297,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/driver/DriverDashboard.tsx",lineNumber:290,columnNumber:13},this),e.jsxDEV("button",{onClick:m,className:"w-full text-left p-3 rounded-lg border border-gray-200 hover:bg-gray-50 transition-colors",children:[e.jsxDEV("div",{className:"font-medium text-gray-900",children:"Report Issue"},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/DriverDashboard.tsx",lineNumber:305,columnNumber:15},this),e.jsxDEV("div",{className:"text-sm text-gray-600",children:"Report delivery problems"},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/DriverDashboard.tsx",lineNumber:306,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/driver/DriverDashboard.tsx",lineNumber:301,columnNumber:13},this),e.jsxDEV("button",{onClick:p,className:"w-full text-left p-3 rounded-lg border border-gray-200 hover:bg-gray-50 transition-colors",children:[e.jsxDEV("div",{className:"font-medium text-gray-900",children:"View Earnings"},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/DriverDashboard.tsx",lineNumber:314,columnNumber:15},this),e.jsxDEV("div",{className:"text-sm text-gray-600",children:"Check payment history"},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/DriverDashboard.tsx",lineNumber:315,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/driver/DriverDashboard.tsx",lineNumber:310,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/driver/DriverDashboard.tsx",lineNumber:289,columnNumber:11},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/driver/DriverDashboard.tsx",lineNumber:285,columnNumber:9},this),e.jsxDEV("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsxDEV("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Today's Summary"},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/DriverDashboard.tsx",lineNumber:321,columnNumber:11},this),e.jsxDEV("div",{className:"space-y-3",children:[e.jsxDEV("div",{className:"flex justify-between",children:[e.jsxDEV("span",{className:"text-gray-600",children:"Completed"},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/DriverDashboard.tsx",lineNumber:326,columnNumber:15},this),e.jsxDEV("span",{className:"font-semibold text-green-600",children:"5 deliveries"},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/DriverDashboard.tsx",lineNumber:327,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/driver/DriverDashboard.tsx",lineNumber:325,columnNumber:13},this),e.jsxDEV("div",{className:"flex justify-between",children:[e.jsxDEV("span",{className:"text-gray-600",children:"In Progress"},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/DriverDashboard.tsx",lineNumber:330,columnNumber:15},this),e.jsxDEV("span",{className:"font-semibold text-blue-600",children:"1 delivery"},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/DriverDashboard.tsx",lineNumber:331,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/driver/DriverDashboard.tsx",lineNumber:329,columnNumber:13},this),e.jsxDEV("div",{className:"flex justify-between",children:[e.jsxDEV("span",{className:"text-gray-600",children:"Pending"},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/DriverDashboard.tsx",lineNumber:334,columnNumber:15},this),e.jsxDEV("span",{className:"font-semibold text-orange-600",children:"2 deliveries"},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/DriverDashboard.tsx",lineNumber:335,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/driver/DriverDashboard.tsx",lineNumber:333,columnNumber:13},this),e.jsxDEV("div",{className:"border-t pt-3 mt-3",children:e.jsxDEV("div",{className:"flex justify-between",children:[e.jsxDEV("span",{className:"text-gray-600",children:"Total Earnings"},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/DriverDashboard.tsx",lineNumber:341,columnNumber:17},this),e.jsxDEV("span",{className:"font-semibold text-gray-900",children:"KES 2,400"},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/DriverDashboard.tsx",lineNumber:342,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/driver/DriverDashboard.tsx",lineNumber:340,columnNumber:15},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/DriverDashboard.tsx",lineNumber:339,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/driver/DriverDashboard.tsx",lineNumber:324,columnNumber:11},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/driver/DriverDashboard.tsx",lineNumber:320,columnNumber:9},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/driver/DriverDashboard.tsx",lineNumber:254,columnNumber:7},this),e.jsxDEV("div",{className:"bg-white rounded-lg shadow",children:[e.jsxDEV("div",{className:"p-6 border-b border-gray-200",children:e.jsxDEV("h2",{className:"text-lg font-semibold text-gray-900",children:"Today's Deliveries"},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/DriverDashboard.tsx",lineNumber:352,columnNumber:11},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/DriverDashboard.tsx",lineNumber:351,columnNumber:9},this),e.jsxDEV("div",{className:"overflow-x-auto",children:e.jsxDEV("table",{className:"w-full",children:[e.jsxDEV("thead",{className:"bg-gray-50",children:e.jsxDEV("tr",{children:[e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Order ID"},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/DriverDashboard.tsx",lineNumber:360,columnNumber:17},this),e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/DriverDashboard.tsx",lineNumber:363,columnNumber:17},this),e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Location"},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/DriverDashboard.tsx",lineNumber:366,columnNumber:17},this),e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Time"},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/DriverDashboard.tsx",lineNumber:369,columnNumber:17},this),e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Value"},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/DriverDashboard.tsx",lineNumber:372,columnNumber:17},this),e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/DriverDashboard.tsx",lineNumber:375,columnNumber:17},this),e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/DriverDashboard.tsx",lineNumber:378,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/driver/DriverDashboard.tsx",lineNumber:359,columnNumber:15},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/DriverDashboard.tsx",lineNumber:358,columnNumber:13},this),e.jsxDEV("tbody",{className:"bg-white divide-y divide-gray-200",children:n?e.jsxDEV("tr",{children:e.jsxDEV("td",{colSpan:6,className:"px-6 py-4 text-center text-gray-500",children:"Loading deliveries..."},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/DriverDashboard.tsx",lineNumber:386,columnNumber:19},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/DriverDashboard.tsx",lineNumber:385,columnNumber:17},this):N.length===0?e.jsxDEV("tr",{children:e.jsxDEV("td",{colSpan:6,className:"px-6 py-4 text-center text-gray-500",children:"No deliveries assigned"},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/DriverDashboard.tsx",lineNumber:395,columnNumber:19},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/DriverDashboard.tsx",lineNumber:394,columnNumber:17},this):N.map(h=>e.jsxDEV("tr",{children:[e.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:h.id},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/DriverDashboard.tsx",lineNumber:405,columnNumber:21},this),e.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:h.customer},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/DriverDashboard.tsx",lineNumber:408,columnNumber:21},this),e.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.jsxDEV("div",{className:"flex items-center",children:[e.jsxDEV($e,{className:"w-4 h-4 text-gray-400 mr-1"},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/DriverDashboard.tsx",lineNumber:413,columnNumber:25},this),h.location]},void 0,!0,{fileName:"/app/code/frontend/src/pages/driver/DriverDashboard.tsx",lineNumber:412,columnNumber:23},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/DriverDashboard.tsx",lineNumber:411,columnNumber:21},this),e.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.jsxDEV("div",{className:"flex items-center",children:[e.jsxDEV(ce,{className:"w-4 h-4 text-gray-400 mr-1"},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/DriverDashboard.tsx",lineNumber:419,columnNumber:25},this),h.time]},void 0,!0,{fileName:"/app/code/frontend/src/pages/driver/DriverDashboard.tsx",lineNumber:418,columnNumber:23},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/DriverDashboard.tsx",lineNumber:417,columnNumber:21},this),e.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:h.value},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/DriverDashboard.tsx",lineNumber:423,columnNumber:21},this),e.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxDEV("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${v(h.status)}`,children:y(h.status)},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/DriverDashboard.tsx",lineNumber:427,columnNumber:23},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/DriverDashboard.tsx",lineNumber:426,columnNumber:21},this),e.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[h.status==="pending"&&e.jsxDEV("button",{onClick:()=>l(h.id),className:"text-primary-600 hover:text-primary-700 font-medium",children:"Start Pickup"},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/DriverDashboard.tsx",lineNumber:435,columnNumber:25},this),h.status==="in_transit"&&e.jsxDEV("button",{onClick:()=>u(h.id),className:"text-green-600 hover:text-green-700 font-medium",children:"Mark Delivered"},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/DriverDashboard.tsx",lineNumber:443,columnNumber:25},this),h.status==="delivered"&&e.jsxDEV("span",{className:"text-gray-400",children:"Completed"},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/DriverDashboard.tsx",lineNumber:451,columnNumber:25},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/driver/DriverDashboard.tsx",lineNumber:433,columnNumber:21},this)]},h.id,!0,{fileName:"/app/code/frontend/src/pages/driver/DriverDashboard.tsx",lineNumber:404,columnNumber:19},this))},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/DriverDashboard.tsx",lineNumber:383,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/driver/DriverDashboard.tsx",lineNumber:357,columnNumber:11},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/DriverDashboard.tsx",lineNumber:356,columnNumber:9},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/driver/DriverDashboard.tsx",lineNumber:350,columnNumber:7},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/driver/DriverDashboard.tsx",lineNumber:222,columnNumber:5},this)}const Zl={DRIVER_ASSIGNED:{color:"bg-yellow-100 text-yellow-800",icon:ce,label:"Ready for Pickup",action:"Start Transport"},IN_TRANSIT:{color:"bg-blue-100 text-blue-800",icon:us,label:"In Transit",action:"Mark as Delivered"},DELIVERED:{color:"bg-green-100 text-green-800",icon:ie,label:"Delivered",action:null}};function ec(){const{token:r}=ee(),[s,t]=k.useState([]),[a,n]=k.useState(!0),[i,o]=k.useState(null);k.useEffect(()=>{l()},[]);const l=async()=>{try{const d=await _.get("/api/driver/assignments",{headers:{Authorization:`Bearer ${r}`}});t(d.data.assignments)}catch(d){console.error("Error fetching assignments:",d),R.error("Failed to fetch assignments")}finally{n(!1)}},u=async(d,m)=>{o(d);try{await _.patch(`/api/driver/assignments/${d}/status`,{status:m},{headers:{Authorization:`Bearer ${r}`}}),R.success("Assignment status updated successfully!"),l()}catch(p){console.error("Error updating assignment status:",p),R.error("Failed to update assignment status")}finally{o(null)}},c=d=>{d.status==="DRIVER_ASSIGNED"?u(d.id,"IN_TRANSIT"):d.status==="IN_TRANSIT"&&u(d.id,"DELIVERED")};return a?e.jsxDEV("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxDEV("div",{className:"text-center",children:[e.jsxDEV("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600 mx-auto"},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/AssignmentsPage.tsx",lineNumber:124,columnNumber:11},this),e.jsxDEV("p",{className:"mt-4 text-gray-600",children:"Loading assignments..."},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/AssignmentsPage.tsx",lineNumber:125,columnNumber:11},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/driver/AssignmentsPage.tsx",lineNumber:123,columnNumber:9},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/AssignmentsPage.tsx",lineNumber:122,columnNumber:7},this):e.jsxDEV("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsxDEV("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxDEV("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-8",children:e.jsxDEV("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("h1",{className:"text-3xl font-bold text-gray-900",children:"My Assignments"},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/AssignmentsPage.tsx",lineNumber:138,columnNumber:15},this),e.jsxDEV("p",{className:"text-gray-600 mt-1",children:"Manage your transport assignments and deliveries"},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/AssignmentsPage.tsx",lineNumber:141,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/driver/AssignmentsPage.tsx",lineNumber:137,columnNumber:13},this),e.jsxDEV("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsxDEV(re,{className:"w-4 h-4"},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/AssignmentsPage.tsx",lineNumber:146,columnNumber:15},this),e.jsxDEV("span",{children:"Driver Dashboard"},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/AssignmentsPage.tsx",lineNumber:147,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/driver/AssignmentsPage.tsx",lineNumber:145,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/driver/AssignmentsPage.tsx",lineNumber:136,columnNumber:11},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/AssignmentsPage.tsx",lineNumber:135,columnNumber:9},this),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e.jsxDEV("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:e.jsxDEV("div",{className:"flex items-center",children:[e.jsxDEV("div",{className:"p-3 bg-yellow-100 rounded-lg",children:e.jsxDEV(ce,{className:"w-6 h-6 text-yellow-600"},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/AssignmentsPage.tsx",lineNumber:157,columnNumber:17},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/AssignmentsPage.tsx",lineNumber:156,columnNumber:15},this),e.jsxDEV("div",{className:"ml-4",children:[e.jsxDEV("h3",{className:"text-lg font-semibold text-gray-900",children:s.filter(d=>d.status==="DRIVER_ASSIGNED").length},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/AssignmentsPage.tsx",lineNumber:160,columnNumber:17},this),e.jsxDEV("p",{className:"text-gray-600 text-sm",children:"Ready for Pickup"},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/AssignmentsPage.tsx",lineNumber:166,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/driver/AssignmentsPage.tsx",lineNumber:159,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/driver/AssignmentsPage.tsx",lineNumber:155,columnNumber:13},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/AssignmentsPage.tsx",lineNumber:154,columnNumber:11},this),e.jsxDEV("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:e.jsxDEV("div",{className:"flex items-center",children:[e.jsxDEV("div",{className:"p-3 bg-blue-100 rounded-lg",children:e.jsxDEV(us,{className:"w-6 h-6 text-blue-600"},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/AssignmentsPage.tsx",lineNumber:174,columnNumber:17},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/AssignmentsPage.tsx",lineNumber:173,columnNumber:15},this),e.jsxDEV("div",{className:"ml-4",children:[e.jsxDEV("h3",{className:"text-lg font-semibold text-gray-900",children:s.filter(d=>d.status==="IN_TRANSIT").length},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/AssignmentsPage.tsx",lineNumber:177,columnNumber:17},this),e.jsxDEV("p",{className:"text-gray-600 text-sm",children:"In Transit"},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/AssignmentsPage.tsx",lineNumber:180,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/driver/AssignmentsPage.tsx",lineNumber:176,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/driver/AssignmentsPage.tsx",lineNumber:172,columnNumber:13},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/AssignmentsPage.tsx",lineNumber:171,columnNumber:11},this),e.jsxDEV("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:e.jsxDEV("div",{className:"flex items-center",children:[e.jsxDEV("div",{className:"p-3 bg-green-100 rounded-lg",children:e.jsxDEV(ie,{className:"w-6 h-6 text-green-600"},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/AssignmentsPage.tsx",lineNumber:188,columnNumber:17},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/AssignmentsPage.tsx",lineNumber:187,columnNumber:15},this),e.jsxDEV("div",{className:"ml-4",children:[e.jsxDEV("h3",{className:"text-lg font-semibold text-gray-900",children:s.filter(d=>d.status==="DELIVERED").length},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/AssignmentsPage.tsx",lineNumber:191,columnNumber:17},this),e.jsxDEV("p",{className:"text-gray-600 text-sm",children:"Completed"},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/AssignmentsPage.tsx",lineNumber:194,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/driver/AssignmentsPage.tsx",lineNumber:190,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/driver/AssignmentsPage.tsx",lineNumber:186,columnNumber:13},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/AssignmentsPage.tsx",lineNumber:185,columnNumber:11},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/driver/AssignmentsPage.tsx",lineNumber:153,columnNumber:9},this),e.jsxDEV("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[e.jsxDEV("div",{className:"p-6 border-b border-gray-200",children:e.jsxDEV("h2",{className:"text-xl font-semibold text-gray-900",children:"Active Assignments"},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/AssignmentsPage.tsx",lineNumber:203,columnNumber:13},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/AssignmentsPage.tsx",lineNumber:202,columnNumber:11},this),s.length===0?e.jsxDEV("div",{className:"p-12 text-center",children:[e.jsxDEV(re,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/AssignmentsPage.tsx",lineNumber:210,columnNumber:15},this),e.jsxDEV("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No assignments yet"},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/AssignmentsPage.tsx",lineNumber:211,columnNumber:15},this),e.jsxDEV("p",{className:"text-gray-600",children:"You'll see your transport assignments here when they are assigned to you"},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/AssignmentsPage.tsx",lineNumber:214,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/driver/AssignmentsPage.tsx",lineNumber:209,columnNumber:13},this):e.jsxDEV("div",{className:"divide-y divide-gray-200",children:s.map(d=>{const m=Zl[d.status],p=m?.icon||K,b=d.finalPricePerUnit*d.quantity;return e.jsxDEV("div",{className:"p-6 hover:bg-gray-50",children:[e.jsxDEV("div",{className:"flex flex-col lg:flex-row lg:items-start lg:justify-between gap-4",children:[e.jsxDEV("div",{className:"flex-1",children:e.jsxDEV("div",{className:"flex items-start gap-4",children:[e.jsxDEV("div",{className:"w-16 h-16 bg-gray-100 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsxDEV(K,{className:"w-8 h-8 text-gray-600"},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/AssignmentsPage.tsx",lineNumber:234,columnNumber:29},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/AssignmentsPage.tsx",lineNumber:233,columnNumber:27},this),e.jsxDEV("div",{className:"flex-1 min-w-0",children:[e.jsxDEV("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:d.title},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/AssignmentsPage.tsx",lineNumber:238,columnNumber:29},this),e.jsxDEV("p",{className:"text-gray-600 text-sm mb-3",children:d.description},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/AssignmentsPage.tsx",lineNumber:241,columnNumber:29},this),e.jsxDEV("div",{className:"flex flex-wrap items-center gap-4 text-sm text-gray-500 mb-3",children:[e.jsxDEV("span",{children:[d.quantity," ",d.unit]},void 0,!0,{fileName:"/app/code/frontend/src/pages/driver/AssignmentsPage.tsx",lineNumber:247,columnNumber:31},this),e.jsxDEV("span",{children:"•"},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/AssignmentsPage.tsx",lineNumber:250,columnNumber:31},this),e.jsxDEV("span",{children:d.category},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/AssignmentsPage.tsx",lineNumber:251,columnNumber:31},this),e.jsxDEV("span",{children:"•"},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/AssignmentsPage.tsx",lineNumber:252,columnNumber:31},this),e.jsxDEV("span",{children:["Value: KSh ",b.toLocaleString()]},void 0,!0,{fileName:"/app/code/frontend/src/pages/driver/AssignmentsPage.tsx",lineNumber:253,columnNumber:31},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/driver/AssignmentsPage.tsx",lineNumber:246,columnNumber:29},this),d.farmer&&e.jsxDEV("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 mb-3",children:[e.jsxDEV("h4",{className:"text-sm font-medium text-blue-900 mb-2",children:"Farmer Contact"},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/AssignmentsPage.tsx",lineNumber:261,columnNumber:33},this),e.jsxDEV("div",{className:"flex flex-wrap items-center gap-4 text-sm text-blue-700",children:[e.jsxDEV("div",{className:"flex items-center gap-1",children:[e.jsxDEV(De,{className:"w-4 h-4"},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/AssignmentsPage.tsx",lineNumber:266,columnNumber:37},this),e.jsxDEV("span",{children:d.farmer.name},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/AssignmentsPage.tsx",lineNumber:267,columnNumber:37},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/driver/AssignmentsPage.tsx",lineNumber:265,columnNumber:35},this),e.jsxDEV("div",{className:"flex items-center gap-1",children:[e.jsxDEV(rr,{className:"w-4 h-4"},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/AssignmentsPage.tsx",lineNumber:270,columnNumber:37},this),e.jsxDEV("a",{href:`tel:${d.farmer.phone}`,className:"hover:underline",children:d.farmer.phone},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/AssignmentsPage.tsx",lineNumber:271,columnNumber:37},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/driver/AssignmentsPage.tsx",lineNumber:269,columnNumber:35},this),d.farmer.profile?.county&&e.jsxDEV("div",{className:"flex items-center gap-1",children:[e.jsxDEV($e,{className:"w-4 h-4"},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/AssignmentsPage.tsx",lineNumber:280,columnNumber:39},this),e.jsxDEV("span",{children:d.farmer.profile.county},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/AssignmentsPage.tsx",lineNumber:281,columnNumber:39},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/driver/AssignmentsPage.tsx",lineNumber:279,columnNumber:37},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/driver/AssignmentsPage.tsx",lineNumber:264,columnNumber:33},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/driver/AssignmentsPage.tsx",lineNumber:260,columnNumber:31},this),e.jsxDEV("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:e.jsxDEV("div",{className:"flex items-center gap-1",children:[e.jsxDEV(Ze,{className:"w-4 h-4"},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/AssignmentsPage.tsx",lineNumber:293,columnNumber:33},this),e.jsxDEV("span",{children:["Expected:"," ",new Date(d.expectedDeliveryDate).toLocaleDateString()]},void 0,!0,{fileName:"/app/code/frontend/src/pages/driver/AssignmentsPage.tsx",lineNumber:294,columnNumber:33},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/driver/AssignmentsPage.tsx",lineNumber:292,columnNumber:31},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/AssignmentsPage.tsx",lineNumber:291,columnNumber:29},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/driver/AssignmentsPage.tsx",lineNumber:237,columnNumber:27},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/driver/AssignmentsPage.tsx",lineNumber:232,columnNumber:25},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/AssignmentsPage.tsx",lineNumber:231,columnNumber:23},this),e.jsxDEV("div",{className:"flex flex-col lg:items-end gap-3",children:[e.jsxDEV("div",{className:`inline-flex items-center gap-2 px-3 py-1 rounded-full text-sm font-medium ${m?.color||"bg-gray-100 text-gray-800"}`,children:[e.jsxDEV(p,{className:"w-4 h-4"},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/AssignmentsPage.tsx",lineNumber:310,columnNumber:27},this),m?.label||d.status]},void 0,!0,{fileName:"/app/code/frontend/src/pages/driver/AssignmentsPage.tsx",lineNumber:307,columnNumber:25},this),e.jsxDEV("div",{className:"flex items-center gap-2 text-xs text-gray-400",children:[e.jsxDEV(Ze,{className:"w-3 h-3"},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/AssignmentsPage.tsx",lineNumber:315,columnNumber:27},this),"Assigned:"," ",new Date(d.createdAt).toLocaleDateString()]},void 0,!0,{fileName:"/app/code/frontend/src/pages/driver/AssignmentsPage.tsx",lineNumber:314,columnNumber:25},this),m?.action&&e.jsxDEV("button",{onClick:()=>c(d),disabled:i===d.id,className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-colors ${d.status==="DRIVER_ASSIGNED"?"bg-blue-600 text-white hover:bg-blue-700":"bg-green-600 text-white hover:bg-green-700"} disabled:bg-gray-400 disabled:cursor-not-allowed`,children:i===d.id?e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/AssignmentsPage.tsx",lineNumber:333,columnNumber:33},this),"Updating..."]},void 0,!0,{fileName:"/app/code/frontend/src/pages/driver/AssignmentsPage.tsx",lineNumber:332,columnNumber:31},this):e.jsxDEV(e.Fragment,{children:[d.status==="DRIVER_ASSIGNED"?e.jsxDEV(dn,{className:"w-4 h-4"},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/AssignmentsPage.tsx",lineNumber:339,columnNumber:35},this):e.jsxDEV(un,{className:"w-4 h-4"},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/AssignmentsPage.tsx",lineNumber:341,columnNumber:35},this),m.action]},void 0,!0,{fileName:"/app/code/frontend/src/pages/driver/AssignmentsPage.tsx",lineNumber:337,columnNumber:31},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/AssignmentsPage.tsx",lineNumber:322,columnNumber:27},this),d.status==="DELIVERED"&&e.jsxDEV("div",{className:"text-xs text-green-600 font-medium",children:"✓ Ready for warehouse processing"},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/AssignmentsPage.tsx",lineNumber:350,columnNumber:27},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/driver/AssignmentsPage.tsx",lineNumber:306,columnNumber:23},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/driver/AssignmentsPage.tsx",lineNumber:230,columnNumber:21},this),d.status==="DRIVER_ASSIGNED"&&e.jsxDEV("div",{className:"mt-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:e.jsxDEV("div",{className:"flex items-start gap-2",children:[e.jsxDEV(qe,{className:"w-4 h-4 text-yellow-600 mt-0.5 flex-shrink-0"},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/AssignmentsPage.tsx",lineNumber:361,columnNumber:27},this),e.jsxDEV("div",{className:"text-sm text-yellow-700",children:[e.jsxDEV("p",{className:"font-medium mb-1",children:"Transport Instructions:"},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/AssignmentsPage.tsx",lineNumber:363,columnNumber:29},this),e.jsxDEV("ul",{className:"text-xs space-y-1",children:[e.jsxDEV("li",{children:"• Contact farmer to arrange pickup time"},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/AssignmentsPage.tsx",lineNumber:367,columnNumber:31},this),e.jsxDEV("li",{children:"• Verify produce quality and quantity"},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/AssignmentsPage.tsx",lineNumber:368,columnNumber:31},this),e.jsxDEV("li",{children:"• Handle with care during transport"},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/AssignmentsPage.tsx",lineNumber:369,columnNumber:31},this),e.jsxDEV("li",{children:"• Deliver to Main Warehouse, Nairobi Industrial Area"},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/AssignmentsPage.tsx",lineNumber:370,columnNumber:31},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/driver/AssignmentsPage.tsx",lineNumber:366,columnNumber:29},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/driver/AssignmentsPage.tsx",lineNumber:362,columnNumber:27},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/driver/AssignmentsPage.tsx",lineNumber:360,columnNumber:25},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/AssignmentsPage.tsx",lineNumber:359,columnNumber:23},this),d.status==="IN_TRANSIT"&&e.jsxDEV("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:e.jsxDEV("div",{className:"flex items-start gap-2",children:[e.jsxDEV(us,{className:"w-4 h-4 text-blue-600 mt-0.5 flex-shrink-0"},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/AssignmentsPage.tsx",lineNumber:383,columnNumber:27},this),e.jsxDEV("div",{className:"text-sm text-blue-700",children:[e.jsxDEV("p",{className:"font-medium mb-1",children:"En Route to Warehouse"},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/AssignmentsPage.tsx",lineNumber:385,columnNumber:29},this),e.jsxDEV("p",{className:"text-xs",children:"Mark as delivered once you arrive at the warehouse and unload the produce."},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/AssignmentsPage.tsx",lineNumber:388,columnNumber:29},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/driver/AssignmentsPage.tsx",lineNumber:384,columnNumber:27},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/driver/AssignmentsPage.tsx",lineNumber:382,columnNumber:25},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/AssignmentsPage.tsx",lineNumber:381,columnNumber:23},this)]},d.id,!0,{fileName:"/app/code/frontend/src/pages/driver/AssignmentsPage.tsx",lineNumber:229,columnNumber:19},this)})},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/AssignmentsPage.tsx",lineNumber:220,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/driver/AssignmentsPage.tsx",lineNumber:201,columnNumber:9},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/driver/AssignmentsPage.tsx",lineNumber:133,columnNumber:7},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/AssignmentsPage.tsx",lineNumber:132,columnNumber:5},this)}function rc(){const{token:r}=ee(),[s,t]=k.useState([]),[a,n]=k.useState(!0),[i,o]=k.useState(!1),[l,u]=k.useState(null),[c,d]=k.useState({marketPrice:"",description:"",images:[],isFeatured:!1,tags:[]}),[m,p]=k.useState(""),[b,N]=k.useState(!1);k.useEffect(()=>{v()},[]);const v=async()=>{try{const P=await _.get("/api/warehouse/inventory",{headers:{Authorization:`Bearer ${r}`}});t(P.data.inventory)}catch(P){console.error("Error fetching inventory:",P),R.error("Failed to fetch warehouse inventory")}finally{n(!1)}},y=P=>{u(P),d({marketPrice:P.finalPricePerUnit.toString(),description:P.description,images:P.images,isFeatured:!1,tags:[]}),o(!0)},h=()=>{m.trim()&&!c.tags.includes(m.trim())&&(d({...c,tags:[...c.tags,m.trim()]}),p(""))},x=P=>{d({...c,tags:c.tags.filter(A=>A!==P)})},M=()=>{const P=prompt("Enter image URL:");P&&P.trim()&&d({...c,images:[...c.images,P.trim()]})},V=P=>{d({...c,images:c.images.filter((A,S)=>S!==P)})},C=async()=>{if(l){if(!c.marketPrice||Number(c.marketPrice)<=0){R.error("Please enter a valid market price");return}N(!0);try{await _.post("/api/warehouse/add-to-marketplace",{consignmentId:l.id,marketPrice:Number(c.marketPrice),description:c.description,images:c.images,isFeatured:c.isFeatured,tags:c.tags},{headers:{Authorization:`Bearer ${r}`}}),R.success("Product added to marketplace successfully!"),o(!1),v(),d({marketPrice:"",description:"",images:[],isFeatured:!1,tags:[]})}catch(P){console.error("Error adding to marketplace:",P),R.error("Failed to add product to marketplace")}finally{N(!1)}}};return a?e.jsxDEV("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxDEV("div",{className:"text-center",children:[e.jsxDEV("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600 mx-auto"},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/WarehousePage.tsx",lineNumber:173,columnNumber:11},this),e.jsxDEV("p",{className:"mt-4 text-gray-600",children:"Loading warehouse inventory..."},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/WarehousePage.tsx",lineNumber:174,columnNumber:11},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/driver/WarehousePage.tsx",lineNumber:172,columnNumber:9},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/WarehousePage.tsx",lineNumber:171,columnNumber:7},this):e.jsxDEV("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsxDEV("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxDEV("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-8",children:e.jsxDEV("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("h1",{className:"text-3xl font-bold text-gray-900",children:"Warehouse Management"},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/WarehousePage.tsx",lineNumber:187,columnNumber:15},this),e.jsxDEV("p",{className:"text-gray-600 mt-1",children:"Manage delivered produce and add items to marketplace"},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/WarehousePage.tsx",lineNumber:190,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/driver/WarehousePage.tsx",lineNumber:186,columnNumber:13},this),e.jsxDEV("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsxDEV(K,{className:"w-4 h-4"},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/WarehousePage.tsx",lineNumber:195,columnNumber:15},this),e.jsxDEV("span",{children:"Inventory Manager"},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/WarehousePage.tsx",lineNumber:196,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/driver/WarehousePage.tsx",lineNumber:194,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/driver/WarehousePage.tsx",lineNumber:185,columnNumber:11},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/WarehousePage.tsx",lineNumber:184,columnNumber:9},this),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e.jsxDEV("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:e.jsxDEV("div",{className:"flex items-center",children:[e.jsxDEV("div",{className:"p-3 bg-blue-100 rounded-lg",children:e.jsxDEV(K,{className:"w-6 h-6 text-blue-600"},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/WarehousePage.tsx",lineNumber:206,columnNumber:17},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/WarehousePage.tsx",lineNumber:205,columnNumber:15},this),e.jsxDEV("div",{className:"ml-4",children:[e.jsxDEV("h3",{className:"text-lg font-semibold text-gray-900",children:s.length},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/WarehousePage.tsx",lineNumber:209,columnNumber:17},this),e.jsxDEV("p",{className:"text-gray-600 text-sm",children:"Items in Warehouse"},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/WarehousePage.tsx",lineNumber:212,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/driver/WarehousePage.tsx",lineNumber:208,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/driver/WarehousePage.tsx",lineNumber:204,columnNumber:13},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/WarehousePage.tsx",lineNumber:203,columnNumber:11},this),e.jsxDEV("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:e.jsxDEV("div",{className:"flex items-center",children:[e.jsxDEV("div",{className:"p-3 bg-green-100 rounded-lg",children:e.jsxDEV(ie,{className:"w-6 h-6 text-green-600"},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/WarehousePage.tsx",lineNumber:220,columnNumber:17},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/WarehousePage.tsx",lineNumber:219,columnNumber:15},this),e.jsxDEV("div",{className:"ml-4",children:[e.jsxDEV("h3",{className:"text-lg font-semibold text-gray-900",children:s.filter(P=>P.marketplaceProductId).length},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/WarehousePage.tsx",lineNumber:223,columnNumber:17},this),e.jsxDEV("p",{className:"text-gray-600 text-sm",children:"Added to Marketplace"},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/WarehousePage.tsx",lineNumber:226,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/driver/WarehousePage.tsx",lineNumber:222,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/driver/WarehousePage.tsx",lineNumber:218,columnNumber:13},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/WarehousePage.tsx",lineNumber:217,columnNumber:11},this),e.jsxDEV("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:e.jsxDEV("div",{className:"flex items-center",children:[e.jsxDEV("div",{className:"p-3 bg-yellow-100 rounded-lg",children:e.jsxDEV(Js,{className:"w-6 h-6 text-yellow-600"},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/WarehousePage.tsx",lineNumber:234,columnNumber:17},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/WarehousePage.tsx",lineNumber:233,columnNumber:15},this),e.jsxDEV("div",{className:"ml-4",children:[e.jsxDEV("h3",{className:"text-lg font-semibold text-gray-900",children:s.filter(P=>!P.marketplaceProductId).length},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/WarehousePage.tsx",lineNumber:237,columnNumber:17},this),e.jsxDEV("p",{className:"text-gray-600 text-sm",children:"Pending Upload"},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/WarehousePage.tsx",lineNumber:243,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/driver/WarehousePage.tsx",lineNumber:236,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/driver/WarehousePage.tsx",lineNumber:232,columnNumber:13},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/WarehousePage.tsx",lineNumber:231,columnNumber:11},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/driver/WarehousePage.tsx",lineNumber:202,columnNumber:9},this),e.jsxDEV("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[e.jsxDEV("div",{className:"p-6 border-b border-gray-200",children:e.jsxDEV("h2",{className:"text-xl font-semibold text-gray-900",children:"Warehouse Inventory"},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/WarehousePage.tsx",lineNumber:252,columnNumber:13},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/WarehousePage.tsx",lineNumber:251,columnNumber:11},this),s.length===0?e.jsxDEV("div",{className:"p-12 text-center",children:[e.jsxDEV(K,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/WarehousePage.tsx",lineNumber:259,columnNumber:15},this),e.jsxDEV("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No inventory items"},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/WarehousePage.tsx",lineNumber:260,columnNumber:15},this),e.jsxDEV("p",{className:"text-gray-600",children:"Delivered produce will appear here for marketplace processing"},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/WarehousePage.tsx",lineNumber:263,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/driver/WarehousePage.tsx",lineNumber:258,columnNumber:13},this):e.jsxDEV("div",{className:"divide-y divide-gray-200",children:s.map(P=>e.jsxDEV("div",{className:"p-6 hover:bg-gray-50",children:e.jsxDEV("div",{className:"flex flex-col lg:flex-row lg:items-start lg:justify-between gap-4",children:[e.jsxDEV("div",{className:"flex-1",children:e.jsxDEV("div",{className:"flex items-start gap-4",children:[e.jsxDEV("div",{className:"w-20 h-20 bg-gray-100 rounded-lg flex items-center justify-center flex-shrink-0",children:P.images.length>0?e.jsxDEV("img",{src:P.images[0],alt:P.title,className:"w-full h-full object-cover rounded-lg"},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/WarehousePage.tsx",lineNumber:276,columnNumber:29},this):e.jsxDEV(K,{className:"w-8 h-8 text-gray-600"},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/WarehousePage.tsx",lineNumber:282,columnNumber:29},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/WarehousePage.tsx",lineNumber:274,columnNumber:25},this),e.jsxDEV("div",{className:"flex-1 min-w-0",children:[e.jsxDEV("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:P.title},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/WarehousePage.tsx",lineNumber:287,columnNumber:27},this),e.jsxDEV("p",{className:"text-gray-600 text-sm mb-3",children:P.description},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/WarehousePage.tsx",lineNumber:290,columnNumber:27},this),e.jsxDEV("div",{className:"flex flex-wrap items-center gap-4 text-sm text-gray-500 mb-2",children:[e.jsxDEV("span",{children:[P.quantity," ",P.unit]},void 0,!0,{fileName:"/app/code/frontend/src/pages/driver/WarehousePage.tsx",lineNumber:295,columnNumber:29},this),e.jsxDEV("span",{children:"•"},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/WarehousePage.tsx",lineNumber:298,columnNumber:29},this),e.jsxDEV("span",{children:["KSh ",P.finalPricePerUnit," per ",P.unit]},void 0,!0,{fileName:"/app/code/frontend/src/pages/driver/WarehousePage.tsx",lineNumber:299,columnNumber:29},this),e.jsxDEV("span",{children:"•"},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/WarehousePage.tsx",lineNumber:302,columnNumber:29},this),e.jsxDEV("span",{children:P.category},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/WarehousePage.tsx",lineNumber:303,columnNumber:29},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/driver/WarehousePage.tsx",lineNumber:294,columnNumber:27},this),e.jsxDEV("div",{className:"text-sm",children:[e.jsxDEV("span",{className:"text-gray-500",children:"Total Value: "},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/WarehousePage.tsx",lineNumber:307,columnNumber:29},this),e.jsxDEV("span",{className:"font-semibold text-gray-900",children:["KSh"," ",(P.finalPricePerUnit*P.quantity).toLocaleString()]},void 0,!0,{fileName:"/app/code/frontend/src/pages/driver/WarehousePage.tsx",lineNumber:308,columnNumber:29},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/driver/WarehousePage.tsx",lineNumber:306,columnNumber:27},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/driver/WarehousePage.tsx",lineNumber:286,columnNumber:25},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/driver/WarehousePage.tsx",lineNumber:273,columnNumber:23},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/WarehousePage.tsx",lineNumber:272,columnNumber:21},this),e.jsxDEV("div",{className:"flex flex-col lg:items-end gap-3",children:[P.marketplaceProductId?e.jsxDEV("div",{className:"inline-flex items-center gap-2 px-3 py-1 bg-green-100 text-green-800 rounded-full text-sm font-medium",children:[e.jsxDEV(ie,{className:"w-4 h-4"},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/WarehousePage.tsx",lineNumber:322,columnNumber:27},this),"On Marketplace"]},void 0,!0,{fileName:"/app/code/frontend/src/pages/driver/WarehousePage.tsx",lineNumber:321,columnNumber:25},this):e.jsxDEV("div",{className:"inline-flex items-center gap-2 px-3 py-1 bg-yellow-100 text-yellow-800 rounded-full text-sm font-medium",children:[e.jsxDEV(Js,{className:"w-4 h-4"},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/WarehousePage.tsx",lineNumber:327,columnNumber:27},this),"Ready to Upload"]},void 0,!0,{fileName:"/app/code/frontend/src/pages/driver/WarehousePage.tsx",lineNumber:326,columnNumber:25},this),P.marketplaceProductId?e.jsxDEV("button",{className:"bg-gray-100 text-gray-700 px-4 py-2 rounded-lg text-sm font-medium hover:bg-gray-200 transition-colors flex items-center gap-2",disabled:!0,children:[e.jsxDEV(_e,{className:"w-4 h-4"},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/WarehousePage.tsx",lineNumber:345,columnNumber:27},this),"View on Marketplace"]},void 0,!0,{fileName:"/app/code/frontend/src/pages/driver/WarehousePage.tsx",lineNumber:341,columnNumber:25},this):e.jsxDEV("button",{onClick:()=>y(P),className:"bg-primary-600 text-white px-4 py-2 rounded-lg text-sm font-medium hover:bg-primary-700 transition-colors flex items-center gap-2",children:[e.jsxDEV(Tr,{className:"w-4 h-4"},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/WarehousePage.tsx",lineNumber:337,columnNumber:27},this),"Add to Marketplace"]},void 0,!0,{fileName:"/app/code/frontend/src/pages/driver/WarehousePage.tsx",lineNumber:333,columnNumber:25},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/driver/WarehousePage.tsx",lineNumber:319,columnNumber:21},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/driver/WarehousePage.tsx",lineNumber:271,columnNumber:19},this)},P.id,!1,{fileName:"/app/code/frontend/src/pages/driver/WarehousePage.tsx",lineNumber:270,columnNumber:17},this))},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/WarehousePage.tsx",lineNumber:268,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/driver/WarehousePage.tsx",lineNumber:250,columnNumber:9},this),i&&l&&e.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxDEV("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxDEV("div",{className:"p-6 border-b border-gray-200",children:[e.jsxDEV("h2",{className:"text-xl font-semibold text-gray-900",children:"Add to Marketplace"},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/WarehousePage.tsx",lineNumber:362,columnNumber:17},this),e.jsxDEV("p",{className:"text-gray-600 text-sm mt-1",children:l.title},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/WarehousePage.tsx",lineNumber:365,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/driver/WarehousePage.tsx",lineNumber:361,columnNumber:15},this),e.jsxDEV("div",{className:"p-6 space-y-6",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Market Price (KSh per ",l.unit,") *"]},void 0,!0,{fileName:"/app/code/frontend/src/pages/driver/WarehousePage.tsx",lineNumber:373,columnNumber:19},this),e.jsxDEV("input",{type:"number",value:c.marketPrice,onChange:P=>d({...c,marketPrice:P.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Enter market price",min:"1",required:!0},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/WarehousePage.tsx",lineNumber:376,columnNumber:19},this),e.jsxDEV("p",{className:"text-xs text-gray-500 mt-1",children:["Farmer price: KSh ",l.finalPricePerUnit," per"," ",l.unit]},void 0,!0,{fileName:"/app/code/frontend/src/pages/driver/WarehousePage.tsx",lineNumber:390,columnNumber:19},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/driver/WarehousePage.tsx",lineNumber:372,columnNumber:17},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Market Description"},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/WarehousePage.tsx",lineNumber:398,columnNumber:19},this),e.jsxDEV("textarea",{value:c.description,onChange:P=>d({...c,description:P.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Enhance the product description for customers"},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/WarehousePage.tsx",lineNumber:401,columnNumber:19},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/driver/WarehousePage.tsx",lineNumber:397,columnNumber:17},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Product Images"},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/WarehousePage.tsx",lineNumber:417,columnNumber:19},this),e.jsxDEV("div",{className:"space-y-3",children:[c.images.length>0&&e.jsxDEV("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:c.images.map((P,A)=>e.jsxDEV("div",{className:"relative",children:[e.jsxDEV("img",{src:P,alt:`Product ${A+1}`,className:"w-full h-24 object-cover rounded-lg border border-gray-200"},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/WarehousePage.tsx",lineNumber:425,columnNumber:29},this),e.jsxDEV("button",{onClick:()=>V(A),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs hover:bg-red-600",children:"×"},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/WarehousePage.tsx",lineNumber:430,columnNumber:29},this)]},A,!0,{fileName:"/app/code/frontend/src/pages/driver/WarehousePage.tsx",lineNumber:424,columnNumber:27},this))},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/WarehousePage.tsx",lineNumber:422,columnNumber:23},this),e.jsxDEV("button",{onClick:M,className:"w-full border-2 border-dashed border-gray-300 rounded-lg p-4 text-center hover:border-gray-400 transition-colors",children:[e.jsxDEV(pn,{className:"w-6 h-6 text-gray-400 mx-auto mb-2"},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/WarehousePage.tsx",lineNumber:444,columnNumber:23},this),e.jsxDEV("span",{className:"text-sm text-gray-600",children:"Add Image URL"},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/WarehousePage.tsx",lineNumber:445,columnNumber:23},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/driver/WarehousePage.tsx",lineNumber:440,columnNumber:21},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/driver/WarehousePage.tsx",lineNumber:420,columnNumber:19},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/driver/WarehousePage.tsx",lineNumber:416,columnNumber:17},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Product Tags"},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/WarehousePage.tsx",lineNumber:454,columnNumber:19},this),e.jsxDEV("div",{className:"space-y-3",children:[c.tags.length>0&&e.jsxDEV("div",{className:"flex flex-wrap gap-2",children:c.tags.map((P,A)=>e.jsxDEV("span",{className:"inline-flex items-center gap-1 bg-primary-100 text-primary-800 px-2 py-1 rounded text-sm",children:[P,e.jsxDEV("button",{onClick:()=>x(P),className:"text-primary-600 hover:text-primary-800",children:"×"},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/WarehousePage.tsx",lineNumber:466,columnNumber:29},this)]},A,!0,{fileName:"/app/code/frontend/src/pages/driver/WarehousePage.tsx",lineNumber:461,columnNumber:27},this))},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/WarehousePage.tsx",lineNumber:459,columnNumber:23},this),e.jsxDEV("div",{className:"flex gap-2",children:[e.jsxDEV("input",{type:"text",value:m,onChange:P=>p(P.target.value),onKeyPress:P=>P.key==="Enter"&&h(),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Add a tag (e.g., organic, fresh)"},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/WarehousePage.tsx",lineNumber:477,columnNumber:23},this),e.jsxDEV("button",{onClick:h,className:"bg-gray-100 text-gray-700 px-3 py-2 rounded-lg hover:bg-gray-200 transition-colors",children:e.jsxDEV(Lt,{className:"w-4 h-4"},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/WarehousePage.tsx",lineNumber:489,columnNumber:25},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/WarehousePage.tsx",lineNumber:485,columnNumber:23},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/driver/WarehousePage.tsx",lineNumber:476,columnNumber:21},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/driver/WarehousePage.tsx",lineNumber:457,columnNumber:19},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/driver/WarehousePage.tsx",lineNumber:453,columnNumber:17},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"flex items-center gap-2",children:[e.jsxDEV("input",{type:"checkbox",checked:c.isFeatured,onChange:P=>d({...c,isFeatured:P.target.checked}),className:"w-4 h-4 text-primary-600 border-gray-300 rounded focus:ring-primary-500"},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/WarehousePage.tsx",lineNumber:498,columnNumber:21},this),e.jsxDEV("span",{className:"text-sm font-medium text-gray-700",children:"Mark as Featured Product"},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/WarehousePage.tsx",lineNumber:509,columnNumber:21},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/driver/WarehousePage.tsx",lineNumber:497,columnNumber:19},this),e.jsxDEV("p",{className:"text-xs text-gray-500 mt-1",children:"Featured products appear prominently on the marketplace"},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/WarehousePage.tsx",lineNumber:513,columnNumber:19},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/driver/WarehousePage.tsx",lineNumber:496,columnNumber:17},this),e.jsxDEV("div",{className:"flex gap-4 pt-4",children:[e.jsxDEV("button",{type:"button",onClick:()=>o(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",disabled:b,children:"Cancel"},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/WarehousePage.tsx",lineNumber:520,columnNumber:19},this),e.jsxDEV("button",{onClick:C,className:"flex-1 bg-primary-600 text-white px-4 py-2 rounded-lg hover:bg-primary-700 transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed",disabled:b,children:b?"Adding...":"Add to Marketplace"},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/WarehousePage.tsx",lineNumber:528,columnNumber:19},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/driver/WarehousePage.tsx",lineNumber:519,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/driver/WarehousePage.tsx",lineNumber:370,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/driver/WarehousePage.tsx",lineNumber:360,columnNumber:13},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/WarehousePage.tsx",lineNumber:359,columnNumber:11},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/driver/WarehousePage.tsx",lineNumber:182,columnNumber:7},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/driver/WarehousePage.tsx",lineNumber:181,columnNumber:5},this)}function Rt({title:r="Coming Soon",description:s="This feature is currently under development and will be available soon.",features:t=[]}){const a=Se();return e.jsxDEV("div",{className:"min-h-screen bg-gradient-to-br from-primary-50 to-primary-100 flex items-center justify-center py-12 px-4",children:e.jsxDEV("div",{className:"max-w-md w-full",children:e.jsxDEV("div",{className:"bg-white rounded-lg shadow-lg p-8 text-center",children:[e.jsxDEV("div",{className:"w-20 h-20 bg-primary-100 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsxDEV(fn,{className:"w-10 h-10 text-primary-600"},void 0,!1,{fileName:"/app/code/frontend/src/pages/ComingSoonPage.tsx",lineNumber:24,columnNumber:13},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/ComingSoonPage.tsx",lineNumber:23,columnNumber:11},this),e.jsxDEV("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:r},void 0,!1,{fileName:"/app/code/frontend/src/pages/ComingSoonPage.tsx",lineNumber:28,columnNumber:11},this),e.jsxDEV("p",{className:"text-gray-600 mb-6",children:s},void 0,!1,{fileName:"/app/code/frontend/src/pages/ComingSoonPage.tsx",lineNumber:31,columnNumber:11},this),t.length>0&&e.jsxDEV("div",{className:"bg-gray-50 rounded-lg p-4 mb-6 text-left",children:[e.jsxDEV("h3",{className:"font-semibold text-gray-900 mb-3 flex items-center",children:[e.jsxDEV(Vs,{className:"w-4 h-4 text-yellow-500 mr-2"},void 0,!1,{fileName:"/app/code/frontend/src/pages/ComingSoonPage.tsx",lineNumber:37,columnNumber:17},this),"Coming Features:"]},void 0,!0,{fileName:"/app/code/frontend/src/pages/ComingSoonPage.tsx",lineNumber:36,columnNumber:15},this),e.jsxDEV("ul",{className:"space-y-2",children:t.map((n,i)=>e.jsxDEV("li",{className:"text-sm text-gray-600 flex items-center",children:[e.jsxDEV("div",{className:"w-1.5 h-1.5 bg-primary-600 rounded-full mr-2"},void 0,!1,{fileName:"/app/code/frontend/src/pages/ComingSoonPage.tsx",lineNumber:46,columnNumber:21},this),n]},i,!0,{fileName:"/app/code/frontend/src/pages/ComingSoonPage.tsx",lineNumber:42,columnNumber:19},this))},void 0,!1,{fileName:"/app/code/frontend/src/pages/ComingSoonPage.tsx",lineNumber:40,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/ComingSoonPage.tsx",lineNumber:35,columnNumber:13},this),e.jsxDEV("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:e.jsxDEV("div",{className:"flex items-center justify-center text-blue-700",children:[e.jsxDEV(ce,{className:"w-4 h-4 mr-2"},void 0,!1,{fileName:"/app/code/frontend/src/pages/ComingSoonPage.tsx",lineNumber:57,columnNumber:15},this),e.jsxDEV("span",{className:"text-sm font-medium",children:"Expected Launch: Coming Soon"},void 0,!1,{fileName:"/app/code/frontend/src/pages/ComingSoonPage.tsx",lineNumber:58,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/ComingSoonPage.tsx",lineNumber:56,columnNumber:13},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/ComingSoonPage.tsx",lineNumber:55,columnNumber:11},this),e.jsxDEV("div",{className:"space-y-3",children:[e.jsxDEV("button",{onClick:()=>a(-1),className:"w-full bg-primary-600 text-white py-3 px-4 rounded-lg hover:bg-primary-700 transition-colors flex items-center justify-center",children:[e.jsxDEV(mr,{className:"w-4 h-4 mr-2"},void 0,!1,{fileName:"/app/code/frontend/src/pages/ComingSoonPage.tsx",lineNumber:70,columnNumber:15},this),"Go Back"]},void 0,!0,{fileName:"/app/code/frontend/src/pages/ComingSoonPage.tsx",lineNumber:66,columnNumber:13},this),e.jsxDEV(B,{to:"/",className:"block w-full bg-gray-100 text-gray-700 py-3 px-4 rounded-lg hover:bg-gray-200 transition-colors",children:"Return to Homepage"},void 0,!1,{fileName:"/app/code/frontend/src/pages/ComingSoonPage.tsx",lineNumber:74,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/ComingSoonPage.tsx",lineNumber:65,columnNumber:11},this),e.jsxDEV("div",{className:"mt-6 pt-6 border-t border-gray-200",children:e.jsxDEV("p",{className:"text-xs text-gray-500",children:["We're working hard to bring you the best experience.",e.jsxDEV("br",{},void 0,!1,{fileName:"/app/code/frontend/src/pages/ComingSoonPage.tsx",lineNumber:86,columnNumber:15},this),"Thank you for your patience!"]},void 0,!0,{fileName:"/app/code/frontend/src/pages/ComingSoonPage.tsx",lineNumber:84,columnNumber:13},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/ComingSoonPage.tsx",lineNumber:83,columnNumber:11},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/ComingSoonPage.tsx",lineNumber:21,columnNumber:9},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/ComingSoonPage.tsx",lineNumber:20,columnNumber:7},this)},void 0,!1,{fileName:"/app/code/frontend/src/pages/ComingSoonPage.tsx",lineNumber:19,columnNumber:5},this)}function sc(){const[r,s]=k.useState("0712345678"),[t,a]=k.useState(100),[n,i]=k.useState(!1),o=()=>localStorage.getItem("token"),l=async()=>{i(!0);try{const m=o();if(!m){R.error("Please login first");return}const p=await _.post("/api/payments/registration-fee",{phoneNumber:r},{headers:{Authorization:`Bearer ${m}`}});R.success("Registration fee payment initiated!"),console.log("Registration fee response:",p.data)}catch(m){R.error(m.response?.data?.error||"Payment failed"),console.error("Registration fee error:",m)}finally{i(!1)}},u=async()=>{i(!0);try{const m=o();if(!m){R.error("Please login first");return}const p=await _.post("/api/wallet/withdraw",{amount:t,phoneNumber:r},{headers:{Authorization:`Bearer ${m}`}});R.success("Wallet withdrawal initiated!"),console.log("Withdrawal response:",p.data)}catch(m){R.error(m.response?.data?.error||"Withdrawal failed"),console.error("Withdrawal error:",m)}finally{i(!1)}},c=async()=>{i(!0);try{const m=Or(r);if(!Es(m)){R.error("Please enter a valid Kenyan phone number");return}const p=await _.post("/api/payments/stk-push",{phone:m,amount:t,orderId:"test-order-"+Date.now(),accountReference:"Test Payment",transactionDesc:"Test STK Push"});p.data.success?(R.success("M-Pesa payment request sent!"),console.log("STK Push response:",p.data)):R.error("Failed to initiate payment")}catch(m){R.error(m.response?.data?.error||"STK Push failed"),console.error("STK Push error:",m)}finally{i(!1)}},d=()=>{const m=Or(r),p=Es(r);R(`Phone: ${r} → ${m} (Valid: ${p})`,{icon:"ℹ️"}),console.log("Phone validation:",{original:r,formatted:m,isValid:p})};return e.jsxDEV("div",{className:"max-w-4xl mx-auto p-6",children:[e.jsxDEV("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"M-Pesa Integration Test"},void 0,!1,{fileName:"/app/code/frontend/src/pages/TestMpesaPage.tsx",lineNumber:113,columnNumber:7},this),e.jsxDEV("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[e.jsxDEV("h2",{className:"text-xl font-semibold mb-4",children:"Test Configuration"},void 0,!1,{fileName:"/app/code/frontend/src/pages/TestMpesaPage.tsx",lineNumber:118,columnNumber:9},this),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"},void 0,!1,{fileName:"/app/code/frontend/src/pages/TestMpesaPage.tsx",lineNumber:122,columnNumber:13},this),e.jsxDEV("input",{type:"tel",value:r,onChange:m=>s(m.target.value),placeholder:"0712345678",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},void 0,!1,{fileName:"/app/code/frontend/src/pages/TestMpesaPage.tsx",lineNumber:125,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/TestMpesaPage.tsx",lineNumber:121,columnNumber:11},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Amount (KES)"},void 0,!1,{fileName:"/app/code/frontend/src/pages/TestMpesaPage.tsx",lineNumber:135,columnNumber:13},this),e.jsxDEV("input",{type:"number",value:t,onChange:m=>a(Number(m.target.value)),min:"1",max:"150000",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},void 0,!1,{fileName:"/app/code/frontend/src/pages/TestMpesaPage.tsx",lineNumber:138,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/TestMpesaPage.tsx",lineNumber:134,columnNumber:11},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/TestMpesaPage.tsx",lineNumber:120,columnNumber:9},this),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxDEV("button",{onClick:d,className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"Validate Phone"},void 0,!1,{fileName:"/app/code/frontend/src/pages/TestMpesaPage.tsx",lineNumber:150,columnNumber:11},this),e.jsxDEV("button",{onClick:l,disabled:n,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50",children:"Test Registration Fee"},void 0,!1,{fileName:"/app/code/frontend/src/pages/TestMpesaPage.tsx",lineNumber:157,columnNumber:11},this),e.jsxDEV("button",{onClick:u,disabled:n,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:"Test Withdrawal"},void 0,!1,{fileName:"/app/code/frontend/src/pages/TestMpesaPage.tsx",lineNumber:165,columnNumber:11},this),e.jsxDEV("button",{onClick:c,disabled:n,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors disabled:opacity-50",children:"Test STK Push"},void 0,!1,{fileName:"/app/code/frontend/src/pages/TestMpesaPage.tsx",lineNumber:173,columnNumber:11},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/TestMpesaPage.tsx",lineNumber:149,columnNumber:9},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/TestMpesaPage.tsx",lineNumber:117,columnNumber:7},this),e.jsxDEV("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6",children:[e.jsxDEV("h3",{className:"text-lg font-semibold text-yellow-800 mb-2",children:"Demo Configuration"},void 0,!1,{fileName:"/app/code/frontend/src/pages/TestMpesaPage.tsx",lineNumber:184,columnNumber:9},this),e.jsxDEV("div",{className:"text-sm text-yellow-700 space-y-1",children:[e.jsxDEV("p",{children:[e.jsxDEV("strong",{children:"Environment:"},void 0,!1,{fileName:"/app/code/frontend/src/pages/TestMpesaPage.tsx",lineNumber:189,columnNumber:13},this)," Sandbox"]},void 0,!0,{fileName:"/app/code/frontend/src/pages/TestMpesaPage.tsx",lineNumber:188,columnNumber:11},this),e.jsxDEV("p",{children:[e.jsxDEV("strong",{children:"Business Short Code:"},void 0,!1,{fileName:"/app/code/frontend/src/pages/TestMpesaPage.tsx",lineNumber:192,columnNumber:13},this)," 174379"]},void 0,!0,{fileName:"/app/code/frontend/src/pages/TestMpesaPage.tsx",lineNumber:191,columnNumber:11},this),e.jsxDEV("p",{children:[e.jsxDEV("strong",{children:"Test Phone:"},void 0,!1,{fileName:"/app/code/frontend/src/pages/TestMpesaPage.tsx",lineNumber:195,columnNumber:13},this)," 0712345678 (or any valid Kenyan number)"]},void 0,!0,{fileName:"/app/code/frontend/src/pages/TestMpesaPage.tsx",lineNumber:194,columnNumber:11},this),e.jsxDEV("p",{children:[e.jsxDEV("strong",{children:"Demo Credentials:"},void 0,!1,{fileName:"/app/code/frontend/src/pages/TestMpesaPage.tsx",lineNumber:198,columnNumber:13},this)," Configured for development"]},void 0,!0,{fileName:"/app/code/frontend/src/pages/TestMpesaPage.tsx",lineNumber:197,columnNumber:11},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/TestMpesaPage.tsx",lineNumber:187,columnNumber:9},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/TestMpesaPage.tsx",lineNumber:183,columnNumber:7},this),e.jsxDEV("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsxDEV("h3",{className:"text-lg font-semibold text-blue-800 mb-2",children:"How to Test"},void 0,!1,{fileName:"/app/code/frontend/src/pages/TestMpesaPage.tsx",lineNumber:204,columnNumber:9},this),e.jsxDEV("div",{className:"text-sm text-blue-700 space-y-2",children:[e.jsxDEV("p",{children:["1. ",e.jsxDEV("strong",{children:"Login:"},void 0,!1,{fileName:"/app/code/frontend/src/pages/TestMpesaPage.tsx",lineNumber:209,columnNumber:16},this)," Use demo credentials to login as farmer/customer"]},void 0,!0,{fileName:"/app/code/frontend/src/pages/TestMpesaPage.tsx",lineNumber:208,columnNumber:11},this),e.jsxDEV("p",{children:["2. ",e.jsxDEV("strong",{children:"Registration Fee:"},void 0,!1,{fileName:"/app/code/frontend/src/pages/TestMpesaPage.tsx",lineNumber:213,columnNumber:16},this)," Test farmer activation payment (KES 300)"]},void 0,!0,{fileName:"/app/code/frontend/src/pages/TestMpesaPage.tsx",lineNumber:212,columnNumber:11},this),e.jsxDEV("p",{children:["3. ",e.jsxDEV("strong",{children:"Wallet Withdrawal:"},void 0,!1,{fileName:"/app/code/frontend/src/pages/TestMpesaPage.tsx",lineNumber:217,columnNumber:16},this)," Test farmer wallet withdrawal"]},void 0,!0,{fileName:"/app/code/frontend/src/pages/TestMpesaPage.tsx",lineNumber:216,columnNumber:11},this),e.jsxDEV("p",{children:["4. ",e.jsxDEV("strong",{children:"STK Push:"},void 0,!1,{fileName:"/app/code/frontend/src/pages/TestMpesaPage.tsx",lineNumber:220,columnNumber:16},this)," Test direct M-Pesa payment request"]},void 0,!0,{fileName:"/app/code/frontend/src/pages/TestMpesaPage.tsx",lineNumber:219,columnNumber:11},this),e.jsxDEV("p",{children:["5. ",e.jsxDEV("strong",{children:"Checkout:"},void 0,!1,{fileName:"/app/code/frontend/src/pages/TestMpesaPage.tsx",lineNumber:223,columnNumber:16},this)," Go to marketplace, add items, and checkout with M-Pesa"]},void 0,!0,{fileName:"/app/code/frontend/src/pages/TestMpesaPage.tsx",lineNumber:222,columnNumber:11},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/TestMpesaPage.tsx",lineNumber:207,columnNumber:9},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/TestMpesaPage.tsx",lineNumber:203,columnNumber:7},this)]},void 0,!0,{fileName:"/app/code/frontend/src/pages/TestMpesaPage.tsx",lineNumber:112,columnNumber:5},this)}const ye=({children:r,allowedRoles:s})=>{const{user:t,isAuthenticated:a}=ee();return a?s&&t&&!s.includes(t.role)?e.jsxDEV(ke,{to:"/",replace:!0},void 0,!1,{fileName:"/app/code/frontend/src/App.tsx",lineNumber:61,columnNumber:12},void 0):e.jsxDEV(e.Fragment,{children:r},void 0,!1,{fileName:"/app/code/frontend/src/App.tsx",lineNumber:64,columnNumber:10},void 0):e.jsxDEV(ke,{to:"/login",replace:!0},void 0,!1,{fileName:"/app/code/frontend/src/App.tsx",lineNumber:57,columnNumber:12},void 0)},tc=()=>{const{user:r}=ee();if(!r)return e.jsxDEV(ke,{to:"/login",replace:!0},void 0,!1,{fileName:"/app/code/frontend/src/App.tsx",lineNumber:72,columnNumber:12},void 0);switch(r.role){case"FARMER":return e.jsxDEV(ke,{to:"/farmer/dashboard",replace:!0},void 0,!1,{fileName:"/app/code/frontend/src/App.tsx",lineNumber:77,columnNumber:14},void 0);case"CUSTOMER":return e.jsxDEV(ke,{to:"/customer/profile",replace:!0},void 0,!1,{fileName:"/app/code/frontend/src/App.tsx",lineNumber:79,columnNumber:14},void 0);case"ADMIN":return e.jsxDEV(ke,{to:"/admin/dashboard",replace:!0},void 0,!1,{fileName:"/app/code/frontend/src/App.tsx",lineNumber:81,columnNumber:14},void 0);case"DRIVER":return e.jsxDEV(ke,{to:"/driver/dashboard",replace:!0},void 0,!1,{fileName:"/app/code/frontend/src/App.tsx",lineNumber:83,columnNumber:14},void 0);default:return e.jsxDEV(ke,{to:"/",replace:!0},void 0,!1,{fileName:"/app/code/frontend/src/App.tsx",lineNumber:85,columnNumber:14},void 0)}};function ac(){const{isAuthenticated:r,user:s}=ee();return k.useEffect(()=>{Yo()},[]),e.jsxDEV(Xo,{children:e.jsxDEV(za,{children:e.jsxDEV("div",{className:"min-h-screen bg-gray-50",children:[e.jsxDEV(el,{},void 0,!1,{fileName:"/app/code/frontend/src/App.tsx",lineNumber:100,columnNumber:11},this),e.jsxDEV("main",{className:"pb-16 lg:pb-0",children:e.jsxDEV(Qa,{children:[e.jsxDEV(Y,{path:"/",element:e.jsxDEV(sl,{},void 0,!1,{fileName:"/app/code/frontend/src/App.tsx",lineNumber:105,columnNumber:40},this)},void 0,!1,{fileName:"/app/code/frontend/src/App.tsx",lineNumber:105,columnNumber:15},this),e.jsxDEV(Y,{path:"/marketplace",element:e.jsxDEV(tl,{},void 0,!1,{fileName:"/app/code/frontend/src/App.tsx",lineNumber:106,columnNumber:51},this)},void 0,!1,{fileName:"/app/code/frontend/src/App.tsx",lineNumber:106,columnNumber:15},this),e.jsxDEV(Y,{path:"/marketplace/product/:id",element:e.jsxDEV(al,{},void 0,!1,{fileName:"/app/code/frontend/src/App.tsx",lineNumber:109,columnNumber:26},this)},void 0,!1,{fileName:"/app/code/frontend/src/App.tsx",lineNumber:107,columnNumber:15},this),e.jsxDEV(Y,{path:"/login",element:e.jsxDEV(nl,{},void 0,!1,{fileName:"/app/code/frontend/src/App.tsx",lineNumber:111,columnNumber:45},this)},void 0,!1,{fileName:"/app/code/frontend/src/App.tsx",lineNumber:111,columnNumber:15},this),e.jsxDEV(Y,{path:"/register",element:e.jsxDEV(Al,{},void 0,!1,{fileName:"/app/code/frontend/src/App.tsx",lineNumber:112,columnNumber:48},this)},void 0,!1,{fileName:"/app/code/frontend/src/App.tsx",lineNumber:112,columnNumber:15},this),e.jsxDEV(Y,{path:"/dashboard",element:e.jsxDEV(tc,{},void 0,!1,{fileName:"/app/code/frontend/src/App.tsx",lineNumber:115,columnNumber:49},this)},void 0,!1,{fileName:"/app/code/frontend/src/App.tsx",lineNumber:115,columnNumber:15},this),e.jsxDEV(Y,{path:"/farmer/dashboard",element:e.jsxDEV(ye,{allowedRoles:["FARMER"],children:e.jsxDEV(Sl,{},void 0,!1,{fileName:"/app/code/frontend/src/App.tsx",lineNumber:122,columnNumber:21},this)},void 0,!1,{fileName:"/app/code/frontend/src/App.tsx",lineNumber:121,columnNumber:19},this)},void 0,!1,{fileName:"/app/code/frontend/src/App.tsx",lineNumber:118,columnNumber:15},this),e.jsxDEV(Y,{path:"/customer/dashboard",element:e.jsxDEV(ye,{allowedRoles:["CUSTOMER"],children:e.jsxDEV(Ul,{},void 0,!1,{fileName:"/app/code/frontend/src/App.tsx",lineNumber:132,columnNumber:21},this)},void 0,!1,{fileName:"/app/code/frontend/src/App.tsx",lineNumber:131,columnNumber:19},this)},void 0,!1,{fileName:"/app/code/frontend/src/App.tsx",lineNumber:128,columnNumber:15},this),e.jsxDEV(Y,{path:"/customer/profile",element:e.jsxDEV(ye,{allowedRoles:["CUSTOMER"],children:e.jsxDEV(Ll,{},void 0,!1,{fileName:"/app/code/frontend/src/App.tsx",lineNumber:140,columnNumber:21},this)},void 0,!1,{fileName:"/app/code/frontend/src/App.tsx",lineNumber:139,columnNumber:19},this)},void 0,!1,{fileName:"/app/code/frontend/src/App.tsx",lineNumber:136,columnNumber:15},this),e.jsxDEV(Y,{path:"/customer/orders",element:e.jsxDEV(ye,{allowedRoles:["CUSTOMER"],children:e.jsxDEV(_l,{},void 0,!1,{fileName:"/app/code/frontend/src/App.tsx",lineNumber:148,columnNumber:21},this)},void 0,!1,{fileName:"/app/code/frontend/src/App.tsx",lineNumber:147,columnNumber:19},this)},void 0,!1,{fileName:"/app/code/frontend/src/App.tsx",lineNumber:144,columnNumber:15},this),e.jsxDEV(Y,{path:"/cart",element:e.jsxDEV(ql,{},void 0,!1,{fileName:"/app/code/frontend/src/App.tsx",lineNumber:152,columnNumber:44},this)},void 0,!1,{fileName:"/app/code/frontend/src/App.tsx",lineNumber:152,columnNumber:15},this),e.jsxDEV(Y,{path:"/checkout",element:e.jsxDEV(Wl,{},void 0,!1,{fileName:"/app/code/frontend/src/App.tsx",lineNumber:153,columnNumber:48},this)},void 0,!1,{fileName:"/app/code/frontend/src/App.tsx",lineNumber:153,columnNumber:15},this),e.jsxDEV(Y,{path:"/admin/dashboard",element:e.jsxDEV(ye,{allowedRoles:["ADMIN"],children:e.jsxDEV(Bl,{},void 0,!1,{fileName:"/app/code/frontend/src/App.tsx",lineNumber:160,columnNumber:21},this)},void 0,!1,{fileName:"/app/code/frontend/src/App.tsx",lineNumber:159,columnNumber:19},this)},void 0,!1,{fileName:"/app/code/frontend/src/App.tsx",lineNumber:156,columnNumber:15},this),e.jsxDEV(Y,{path:"/admin/users",element:e.jsxDEV(ye,{allowedRoles:["ADMIN"],children:e.jsxDEV(zl,{},void 0,!1,{fileName:"/app/code/frontend/src/App.tsx",lineNumber:168,columnNumber:21},this)},void 0,!1,{fileName:"/app/code/frontend/src/App.tsx",lineNumber:167,columnNumber:19},this)},void 0,!1,{fileName:"/app/code/frontend/src/App.tsx",lineNumber:164,columnNumber:15},this),e.jsxDEV(Y,{path:"/admin/consignments",element:e.jsxDEV(ye,{allowedRoles:["ADMIN"],children:e.jsxDEV(Jl,{},void 0,!1,{fileName:"/app/code/frontend/src/App.tsx",lineNumber:176,columnNumber:21},this)},void 0,!1,{fileName:"/app/code/frontend/src/App.tsx",lineNumber:175,columnNumber:19},this)},void 0,!1,{fileName:"/app/code/frontend/src/App.tsx",lineNumber:172,columnNumber:15},this),e.jsxDEV(Y,{path:"/admin/analytics",element:e.jsxDEV(ye,{allowedRoles:["ADMIN"],children:e.jsxDEV(Xl,{},void 0,!1,{fileName:"/app/code/frontend/src/App.tsx",lineNumber:184,columnNumber:21},this)},void 0,!1,{fileName:"/app/code/frontend/src/App.tsx",lineNumber:183,columnNumber:19},this)},void 0,!1,{fileName:"/app/code/frontend/src/App.tsx",lineNumber:180,columnNumber:15},this),e.jsxDEV(Y,{path:"/admin/settings",element:e.jsxDEV(ye,{allowedRoles:["ADMIN"],children:e.jsxDEV(Rt,{title:"System Settings",description:"Platform configuration and settings management will be available soon.",features:["Platform configuration","User role management","Payment settings","Notification preferences","System monitoring"]},void 0,!1,{fileName:"/app/code/frontend/src/App.tsx",lineNumber:192,columnNumber:21},this)},void 0,!1,{fileName:"/app/code/frontend/src/App.tsx",lineNumber:191,columnNumber:19},this)},void 0,!1,{fileName:"/app/code/frontend/src/App.tsx",lineNumber:188,columnNumber:15},this),e.jsxDEV(Y,{path:"/driver/dashboard",element:e.jsxDEV(ye,{allowedRoles:["DRIVER"],children:e.jsxDEV(Yl,{},void 0,!1,{fileName:"/app/code/frontend/src/App.tsx",lineNumber:212,columnNumber:21},this)},void 0,!1,{fileName:"/app/code/frontend/src/App.tsx",lineNumber:211,columnNumber:19},this)},void 0,!1,{fileName:"/app/code/frontend/src/App.tsx",lineNumber:208,columnNumber:15},this),e.jsxDEV(Y,{path:"/driver/assignments",element:e.jsxDEV(ye,{allowedRoles:["DRIVER"],children:e.jsxDEV(ec,{},void 0,!1,{fileName:"/app/code/frontend/src/App.tsx",lineNumber:220,columnNumber:21},this)},void 0,!1,{fileName:"/app/code/frontend/src/App.tsx",lineNumber:219,columnNumber:19},this)},void 0,!1,{fileName:"/app/code/frontend/src/App.tsx",lineNumber:216,columnNumber:15},this),e.jsxDEV(Y,{path:"/driver/warehouse",element:e.jsxDEV(ye,{allowedRoles:["DRIVER"],children:e.jsxDEV(rc,{},void 0,!1,{fileName:"/app/code/frontend/src/App.tsx",lineNumber:228,columnNumber:21},this)},void 0,!1,{fileName:"/app/code/frontend/src/App.tsx",lineNumber:227,columnNumber:19},this)},void 0,!1,{fileName:"/app/code/frontend/src/App.tsx",lineNumber:224,columnNumber:15},this),e.jsxDEV(Y,{path:"/farmer/consignments",element:e.jsxDEV(ke,{to:"/farmer/dashboard",replace:!0},void 0,!1,{fileName:"/app/code/frontend/src/App.tsx",lineNumber:236,columnNumber:26},this)},void 0,!1,{fileName:"/app/code/frontend/src/App.tsx",lineNumber:234,columnNumber:15},this),e.jsxDEV(Y,{path:"/farmer/wallet",element:e.jsxDEV(ke,{to:"/farmer/dashboard",replace:!0},void 0,!1,{fileName:"/app/code/frontend/src/App.tsx",lineNumber:240,columnNumber:26},this)},void 0,!1,{fileName:"/app/code/frontend/src/App.tsx",lineNumber:238,columnNumber:15},this),e.jsxDEV(Y,{path:"/test-mpesa",element:e.jsxDEV(sc,{},void 0,!1,{fileName:"/app/code/frontend/src/App.tsx",lineNumber:244,columnNumber:50},this)},void 0,!1,{fileName:"/app/code/frontend/src/App.tsx",lineNumber:244,columnNumber:15},this),e.jsxDEV(Y,{path:"*",element:e.jsxDEV(Rt,{},void 0,!1,{fileName:"/app/code/frontend/src/App.tsx",lineNumber:247,columnNumber:40},this)},void 0,!1,{fileName:"/app/code/frontend/src/App.tsx",lineNumber:247,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/frontend/src/App.tsx",lineNumber:103,columnNumber:13},this)},void 0,!1,{fileName:"/app/code/frontend/src/App.tsx",lineNumber:102,columnNumber:11},this),r&&s&&e.jsxDEV(rl,{},void 0,!1,{fileName:"/app/code/frontend/src/App.tsx",lineNumber:252,columnNumber:39},this),e.jsxDEV(Nn,{position:"top-right"},void 0,!1,{fileName:"/app/code/frontend/src/App.tsx",lineNumber:254,columnNumber:11},this)]},void 0,!0,{fileName:"/app/code/frontend/src/App.tsx",lineNumber:99,columnNumber:9},this)},void 0,!1,{fileName:"/app/code/frontend/src/App.tsx",lineNumber:98,columnNumber:7},this)},void 0,!1,{fileName:"/app/code/frontend/src/App.tsx",lineNumber:97,columnNumber:5},this)}typeof window<"u"&&(window.__REACT_DEVTOOLS_GLOBAL_HOOK__={isDisabled:!0,supportsFiber:!0,inject:()=>{},onCommitFiberRoot:()=>{},onCommitFiberUnmount:()=>{}});const nc=new Tn({defaultOptions:{queries:{refetchOnWindowFocus:!1,retry:2,staleTime:10*60*1e3,cacheTime:15*60*1e3},mutations:{retry:1}}}),ic=()=>{ps.createRoot(document.getElementById("root")).render(e.jsxDEV(qn,{client:nc,children:e.jsxDEV(ac,{},void 0,!1,{fileName:"/app/code/frontend/src/main.tsx",lineNumber:44,columnNumber:9},void 0)},void 0,!1,{fileName:"/app/code/frontend/src/main.tsx",lineNumber:43,columnNumber:7},void 0))};ic();
